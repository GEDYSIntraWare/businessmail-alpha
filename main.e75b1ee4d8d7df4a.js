(self.webpackChunkBM=self.webpackChunkBM||[]).push([[792],{316:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var ye=ue(5796);function he(T){if(T&&T.__esModule)return T;var le=Object.create(null);return T&&Object.keys(T).forEach(function(Ce){if("default"!==Ce){var V=Object.getOwnPropertyDescriptor(T,Ce);Object.defineProperty(le,Ce,V.get?V:{enumerable:!0,get:function(){return T[Ce]}})}}),le.default=T,Object.freeze(le)}function $(T){return T[0]}const S=he(ue(7324)).compile({ws:{match:/[ \t\r\n\f]+/,lineBreaks:!0},idn:{match:/[a-zA-Z_-][a-zA-Z0-9_-]*/},hashToken:{match:/#[a-zA-Z0-9_-]+/,value:T=>T.slice(1)},str1:{match:/'(?:\\['\\]|[^\n'\\])*'/,value:T=>T.slice(1,-1)},str2:{match:/"(?:\\["\\]|[^\n"\\])*"/,value:T=>T.slice(1,-1)},asterisk:"*",fullstop:".",comma:",",lbr:"[",rbr:"]",eq:"=",gt:">",vbar:"|",plus:"+",tilde:"~",caret:"^",dollar:"$"});function I(T){return T[0].value}function O(T){return T[1]}function M([T,le,Ce],[V,X,ee]){return[T+V,le+X,Ce+ee]}const k={Lexer:S,ParserRules:[{name:"main",symbols:["_","listSelector","_"],postprocess:O},{name:"mainNoList",symbols:["_","complexSelector","_"],postprocess:O},{name:"listSelector",symbols:["complexSelector"],postprocess:([T])=>({type:"list",list:[T]})},{name:"listSelector",symbols:["listSelector","_",S.has("comma")?{type:"comma"}:comma,"_","complexSelector"],postprocess:([T,,,,le])=>({type:"list",list:[...T.list,le]})},{name:"complexSelector",symbols:["compoundSelector"],postprocess:$},{name:"complexSelector",symbols:["complexSelector","__","compoundSelector"],postprocess:([T,,le])=>({type:"compound",list:[...le.list,{type:"combinator",combinator:" ",left:T,specificity:T.specificity}],specificity:M(T.specificity,le.specificity)})},{name:"complexSelector",symbols:["complexSelector","_","combinator","_","compoundSelector"],postprocess:([T,,le,,Ce])=>({type:"compound",list:[...Ce.list,{type:"combinator",combinator:le,left:T,specificity:T.specificity}],specificity:M(T.specificity,Ce.specificity)})},{name:"combinator",symbols:[S.has("gt")?{type:"gt"}:gt],postprocess:()=>">"},{name:"combinator",symbols:[S.has("plus")?{type:"plus"}:plus],postprocess:()=>"+"},{name:"combinator",symbols:[S.has("tilde")?{type:"tilde"}:tilde],postprocess:()=>"~"},{name:"combinator",symbols:[S.has("vbar")?{type:"vbar"}:vbar,S.has("vbar")?{type:"vbar"}:vbar],postprocess:()=>"||"},{name:"compoundSelector",symbols:["typeSelector"],postprocess:([T])=>({type:"compound",list:[T],specificity:T.specificity})},{name:"compoundSelector",symbols:["subclassSelector"],postprocess:([T])=>({type:"compound",list:[T],specificity:T.specificity})},{name:"compoundSelector",symbols:["compoundSelector","subclassSelector"],postprocess:([T,le])=>({type:"compound",list:[...T.list,le],specificity:M(T.specificity,le.specificity)})},{name:"subclassSelector",symbols:["idSelector"],postprocess:$},{name:"subclassSelector",symbols:["classSelector"],postprocess:$},{name:"subclassSelector",symbols:["attrSelector"],postprocess:$},{name:"attrSelector",symbols:["attrPresenceSelector"],postprocess:$},{name:"attrSelector",symbols:["attrValueSelector"],postprocess:$},{name:"typeSelector",symbols:["tagSelector"],postprocess:$},{name:"typeSelector",symbols:["uniSelector"],postprocess:$},{name:"attrPresenceSelector",symbols:[S.has("lbr")?{type:"lbr"}:lbr,"_","wqname","_",S.has("rbr")?{type:"rbr"}:rbr],postprocess:([,,T])=>({type:"attrPresence",name:T.name,namespace:T.namespace,specificity:[0,1,0]})},{name:"attrValueSelector",symbols:[S.has("lbr")?{type:"lbr"}:lbr,"_","wqname","_","attrMatcher","_","attrValue","_",S.has("rbr")?{type:"rbr"}:rbr],postprocess:([,,T,,le,,Ce])=>({type:"attrValue",name:T.name,namespace:T.namespace,matcher:le,value:Ce.value,modifier:Ce.modifier,specificity:[0,1,0]})},{name:"attrMatcher",symbols:[S.has("eq")?{type:"eq"}:eq],postprocess:()=>"="},{name:"attrMatcher",symbols:[S.has("tilde")?{type:"tilde"}:tilde,S.has("eq")?{type:"eq"}:eq],postprocess:()=>"~="},{name:"attrMatcher",symbols:[S.has("vbar")?{type:"vbar"}:vbar,S.has("eq")?{type:"eq"}:eq],postprocess:()=>"|="},{name:"attrMatcher",symbols:[S.has("caret")?{type:"caret"}:caret,S.has("eq")?{type:"eq"}:eq],postprocess:()=>"^="},{name:"attrMatcher",symbols:[S.has("dollar")?{type:"dollar"}:dollar,S.has("eq")?{type:"eq"}:eq],postprocess:()=>"$="},{name:"attrMatcher",symbols:[S.has("asterisk")?{type:"asterisk"}:asterisk,S.has("eq")?{type:"eq"}:eq],postprocess:()=>"*="},{name:"attrValue",symbols:["str"],postprocess:([T])=>({value:T,modifier:null})},{name:"attrValue",symbols:["idn"],postprocess:([T])=>({value:T,modifier:null})},{name:"attrValue",symbols:["str","_","attrModifier"],postprocess:([T,,le])=>({value:T,modifier:le})},{name:"attrValue",symbols:["idn","__","attrModifier"],postprocess:([T,,le])=>({value:T,modifier:le})},{name:"attrModifier",symbols:[{literal:"i"}],postprocess:()=>"i"},{name:"attrModifier",symbols:[{literal:"I"}],postprocess:()=>"i"},{name:"attrModifier",symbols:[{literal:"s"}],postprocess:()=>"s"},{name:"attrModifier",symbols:[{literal:"S"}],postprocess:()=>"s"},{name:"idSelector",symbols:[S.has("hashToken")?{type:"hashToken"}:hashToken],postprocess:([{value:T}])=>({type:"id",name:T,specificity:[1,0,0]})},{name:"classSelector",symbols:[S.has("fullstop")?{type:"fullstop"}:fullstop,"idn"],postprocess:([,T])=>({type:"class",name:T,specificity:[0,1,0]})},{name:"tagSelector",symbols:["wqname"],postprocess:([T])=>({type:"tag",name:T.name,namespace:T.namespace,specificity:[0,0,1]})},{name:"uniSelector",symbols:[S.has("asterisk")?{type:"asterisk"}:asterisk],postprocess:()=>({type:"universal",namespace:null,specificity:[0,0,0]})},{name:"uniSelector",symbols:["ns",S.has("asterisk")?{type:"asterisk"}:asterisk],postprocess:([T])=>({type:"universal",namespace:T,specificity:[0,0,0]})},{name:"wqname",symbols:["idn"],postprocess:([T])=>({name:T,namespace:null})},{name:"wqname",symbols:["ns","idn"],postprocess:([T,le])=>({name:le,namespace:T})},{name:"ns",symbols:[S.has("vbar")?{type:"vbar"}:vbar],postprocess:()=>""},{name:"ns",symbols:["idn",S.has("vbar")?{type:"vbar"}:vbar],postprocess:$},{name:"str",symbols:[S.has("str1")?{type:"str1"}:str1],postprocess:I},{name:"str",symbols:[S.has("str2")?{type:"str2"}:str2],postprocess:I},{name:"idn",symbols:[S.has("idn")?{type:"idn"}:idn],postprocess:I},{name:"_$ebnf$1",symbols:[S.has("ws")?{type:"ws"}:ws],postprocess:$},{name:"_$ebnf$1",symbols:[],postprocess:()=>null},{name:"_",symbols:["_$ebnf$1"],postprocess:()=>null},{name:"__",symbols:[S.has("ws")?{type:"ws"}:ws],postprocess:()=>null}],ParserStart:"main"};var U=Object.freeze({__proto__:null});const x={...k,ParserStart:"mainNoList"};function A(T,le){const Ce=new ye.Parser(ye.Grammar.fromCompiled(T));if(Ce.feed(le),0===Ce.results.length)throw new Error("Failed to parse - input string might be incomplete.");return Ce.results[0]}function B(T){if(!T.type)throw new Error("This is not an AST node.");switch(T.type){case"universal":return G(T.namespace)+"*";case"tag":return G(T.namespace)+T.name;case"class":return"."+T.name;case"id":return"#"+T.name;case"attrPresence":return`[${G(T.namespace)}${T.name}]`;case"attrValue":return`[${G(T.namespace)}${T.name}${T.matcher}${function me(T){return-1===T.indexOf('"')?`"${T}"`:-1===T.indexOf("'")?`'${T}'`:`"${T.replace('"','\\"')}"`}(T.value)}${T.modifier?T.modifier:""}]`;case"combinator":return B(T.left)+T.combinator;case"compound":return T.list.reduce((le,Ce)=>"combinator"===Ce.type?B(Ce)+le:le+B(Ce),"");case"list":return T.list.map(B).join(",")}}function G(T){return T||""===T?T+"|":""}function z(T){switch(T.type){case"universal":case"tag":return[1];case"id":return[2];case"class":return[3,T.name];case"attrPresence":return[4,B(T)];case"attrValue":return[5,B(T)];case"combinator":return[15,B(T)]}}function W(T,le){if(!Array.isArray(T)||!Array.isArray(le))throw new Error("Arguments must be arrays.");const Ce=T.length<le.length?T.length:le.length;for(let V=0;V<Ce;V++)if(T[V]!==le[V])return T[V]<le[V]?-1:1;return T.length-le.length}w.Ast=U,w.compareSelectors=function oe(T,le){return W(T.specificity,le.specificity)},w.compareSpecificity=function L(T,le){return W(T,le)},w.normalize=function Te(T){if(!T.type)throw new Error("This is not an AST node.");switch(T.type){case"compound":T.list.forEach(Te),T.list.sort((le,Ce)=>W(z(le),z(Ce)));break;case"combinator":Te(T.left);break;case"list":T.list.forEach(Te),T.list.sort((le,Ce)=>B(le)<B(Ce)?-1:1)}return T},w.parse=function P(T){return A(k,T)},w.parse1=function N(T){return A(x,T)},w.serialize=B},331:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(w,"__esModule",{value:!0});var we=ye(ue(2559)),he=String.fromCodePoint||function($){var S="";return $>65535&&($-=65536,S+=String.fromCharCode($>>>10&1023|55296),$=56320|1023&$),S+String.fromCharCode($)};w.default=function de($){return $>=55296&&$<=57343||$>1114111?"\ufffd":($ in we.default&&($=we.default[$]),he($))}},449:function(tt,w,ue){"use strict";var ye=this&&this.__createBinding||(Object.create?function(de,$,S,I){void 0===I&&(I=S),Object.defineProperty(de,I,{enumerable:!0,get:function(){return $[S]}})}:function(de,$,S,I){void 0===I&&(I=S),de[I]=$[S]}),we=this&&this.__exportStar||function(de,$){for(var S in de)"default"!==S&&!Object.prototype.hasOwnProperty.call($,S)&&ye($,de,S)};Object.defineProperty(w,"__esModule",{value:!0}),w.hasChildren=w.isDocument=w.isComment=w.isText=w.isCDATA=w.isTag=void 0,we(ue(8616),w),we(ue(8983),w),we(ue(8668),w),we(ue(2933),w),we(ue(4954),w),we(ue(8700),w),we(ue(6235),w);var he=ue(3268);Object.defineProperty(w,"isTag",{enumerable:!0,get:function(){return he.isTag}}),Object.defineProperty(w,"isCDATA",{enumerable:!0,get:function(){return he.isCDATA}}),Object.defineProperty(w,"isText",{enumerable:!0,get:function(){return he.isText}}),Object.defineProperty(w,"isComment",{enumerable:!0,get:function(){return he.isComment}}),Object.defineProperty(w,"isDocument",{enumerable:!0,get:function(){return he.isDocument}}),Object.defineProperty(w,"hasChildren",{enumerable:!0,get:function(){return he.hasChildren}})},1e3:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var ye=ue(316);function we(ce){if(ce&&ce.__esModule)return ce;var xe=Object.create(null);return ce&&Object.keys(ce).forEach(function(ke){if("default"!==ke){var se=Object.getOwnPropertyDescriptor(ce,ke);Object.defineProperty(xe,ke,se.get?se:{enumerable:!0,get:function(){return ce[ke]}})}}),xe.default=ce,Object.freeze(xe)}var he=we(ye),de=Object.freeze({__proto__:null}),$=Object.freeze({__proto__:null});const I=[["\u251c\u2500","\u2502 "],["\u2514\u2500","  "]],O=[["\u2520\u2500","\u2503 "],["\u2516\u2500","  "]],M=[["\u255f\u2500","\u2551 "],["\u2559\u2500","  "]];function k(ce,xe=O){return function x(ce,xe){return xe.map((ke,se,{length:D})=>function P(ce,xe,ke=!0){const se=ce[ke?1:0];return se[0]+xe.split("\n").join("\n"+se[1])}(ce,ke,se===D-1)).join("\n")}(xe,ce.map(ke=>function U(ce){switch(ce.type){case"terminal":{const xe=ce.valueContainer;return`\u25c1 #${xe.index} ${JSON.stringify(xe.specificity)} ${xe.value}`}case"tagName":return`\u25fb Tag name\n${k(ce.variants,M)}`;case"attrValue":return`\u25a3 Attr value: ${ce.name}\n${k(ce.matchers,M)}`;case"attrPresence":return`\u25e8 Attr presence: ${ce.name}\n${k(ce.cont)}`;case"pushElement":return`\u25c9 Push element: ${ce.combinator}\n${k(ce.cont,I)}`;case"popElement":return`\u25cc Pop element\n${k(ce.cont,I)}`;case"variant":return`\u25c7 = ${ce.value}\n${k(ce.cont)}`;case"matcher":return`\u25c8 ${ce.matcher} "${ce.value}"${ce.modifier||""}\n${k(ce.cont)}`}}(ke)))}var N=Object.freeze({__proto__:null,treeify:ce=>"\u25bd\n"+k(ce,I)});function G(ce){return me(ce),he.normalize(ce),ce}function me(ce){const xe=[];ce.list.forEach(ke=>{switch(ke.type){case"class":xe.push({matcher:"~=",modifier:null,name:"class",namespace:null,specificity:ke.specificity,type:"attrValue",value:ke.name});break;case"id":xe.push({matcher:"=",modifier:null,name:"id",namespace:null,specificity:ke.specificity,type:"attrValue",value:ke.name});break;case"combinator":me(ke.left),xe.push(ke);break;case"universal":break;default:xe.push(ke)}}),ce.list=xe}function Te(ce){const xe=[];for(;ce.length;){const ke=Me(ce,Ye=>!0,L),{matches:se,nonmatches:D,empty:Ze}=oe(ce,ke);ce=D,se.length&&xe.push(W(ke,se)),Ze.length&&xe.push(...z(Ze))}return xe}function z(ce){const xe=[];for(const ke of ce){const se=ke.terminal;if("terminal"===se.type)xe.push(se);else{const{matches:D,rest:Ze}=Fe(se.cont,Ye=>"terminal"===Ye.type);D.forEach(Ye=>xe.push(Ye)),Ze.length&&(se.cont=Ze,xe.push(se))}}return xe}function oe(ce,xe){const ke=[],se=[],D=[];for(const Ze of ce){const Ye=Ze.ast.list;Ye.length?(Ye.some(sn=>L(sn)===xe)?ke:se).push(Ze):D.push(Ze)}return{matches:ke,nonmatches:se,empty:D}}function L(ce){switch(ce.type){case"attrPresence":return`attrPresence ${ce.name}`;case"attrValue":return`attrValue ${ce.name}`;case"combinator":return`combinator ${ce.combinator}`;default:return ce.type}}function W(ce,xe){if("tag"===ce)return function T(ce){const xe=ee(ce,se=>"tag"===se.type,se=>se.name);return{type:"tagName",variants:Object.entries(xe).map(([se,D])=>({type:"variant",value:se,cont:Te(D.items)}))}}(xe);if(ce.startsWith("attrValue "))return function Ce(ce,xe){const ke=ee(xe,D=>"attrValue"===D.type&&D.name===ce,D=>`${D.matcher} ${D.modifier||""} ${D.value}`),se=[];for(const D of Object.values(ke)){const Ze=D.oneSimpleSelector,Ye=V(Ze),Mt=Te(D.items);se.push({type:"matcher",matcher:Ze.matcher,modifier:Ze.modifier,value:Ze.value,predicate:Ye,cont:Mt})}return{type:"attrValue",name:ce,matchers:se}}(ce.substring(10),xe);if(ce.startsWith("attrPresence "))return function le(ce,xe){for(const ke of xe)ge(ke,se=>"attrPresence"===se.type&&se.name===ce);return{type:"attrPresence",name:ce,cont:Te(xe)}}(ce.substring(13),xe);if("combinator >"===ce)return X(">",xe);if("combinator +"===ce)return X("+",xe);throw new Error(`Unsupported selector kind: ${ce}`)}function V(ce){if("i"===ce.modifier){const xe=ce.value.toLowerCase();switch(ce.matcher){case"=":return ke=>xe===ke.toLowerCase();case"~=":return ke=>ke.toLowerCase().split(/[ \t]+/).includes(xe);case"^=":return ke=>ke.toLowerCase().startsWith(xe);case"$=":return ke=>ke.toLowerCase().endsWith(xe);case"*=":return ke=>ke.toLowerCase().includes(xe);case"|=":return ke=>{const se=ke.toLowerCase();return xe===se||se.startsWith(xe)&&"-"===se[xe.length]}}}else{const xe=ce.value;switch(ce.matcher){case"=":return ke=>xe===ke;case"~=":return ke=>ke.split(/[ \t]+/).includes(xe);case"^=":return ke=>ke.startsWith(xe);case"$=":return ke=>ke.endsWith(xe);case"*=":return ke=>ke.includes(xe);case"|=":return ke=>xe===ke||ke.startsWith(xe)&&"-"===ke[xe.length]}}}function X(ce,xe){const ke=ee(xe,D=>"combinator"===D.type&&D.combinator===ce,D=>he.serialize(D.left)),se=[];for(const D of Object.values(ke)){const Ze=Te(D.items);se.push({ast:D.oneSimpleSelector.left,terminal:{type:"popElement",cont:Ze}})}return{type:"pushElement",combinator:ce,cont:Te(se)}}function ee(ce,xe,ke){const se={};for(;ce.length;){const D=Me(ce,xe,ke),Ze=Ni=>xe(Ni)&&ke(Ni)===D,Ye=Ni=>Ni.ast.list.some(Ze),{matches:Mt,rest:sn}=Be(ce,Ye);let sr=null;for(const Ni of Mt){const ta=ge(Ni,Ze);sr||(sr=ta)}if(null==sr)throw new Error("No simple selector is found.");se[D]={oneSimpleSelector:sr,items:Mt},ce=sn}return se}function ge(ce,xe){const ke=ce.ast.list,se=new Array(ke.length);let D=-1;for(let Ye=ke.length;Ye-- >0;)xe(ke[Ye])&&(se[Ye]=!0,D=Ye);if(-1==D)throw new Error("Couldn't find the required simple selector.");const Ze=ke[D];return ce.ast.list=ke.filter((Ye,Mt)=>!se[Mt]),Ze}function Me(ce,xe,ke){const se={};for(const Ye of ce){const Mt={};for(const sn of Ye.ast.list.filter(xe))Mt[ke(sn)]=!0;for(const sn of Object.keys(Mt))se[sn]?se[sn]++:se[sn]=1}let D="",Ze=0;for(const Ye of Object.entries(se))Ye[1]>Ze&&(D=Ye[0],Ze=Ye[1]);return D}function Fe(ce,xe){const ke=[],se=[];for(const D of ce)xe(D)?ke.push(D):se.push(D);return{matches:ke,rest:se}}function Be(ce,xe){const ke=[],se=[];for(const D of ce)xe(D)?ke.push(D):se.push(D);return{matches:ke,rest:se}}function Le(ce,xe){const ke=ye.compareSpecificity(xe.specificity,ce.specificity);return ke>0||0===ke&&xe.index<ce.index}function Ve(ce,xe){const ke=ye.compareSpecificity(xe.specificity,ce.specificity);return ke>0||0===ke&&xe.index>ce.index}w.Ast=de,w.DecisionTree=class A{constructor(xe){this.branches=Te(function B(ce){const xe=ce.length,ke=new Array(xe);for(let se=0;se<xe;se++){const[D,Ze]=ce[se],Ye=G(he.parse1(D));ke[se]={ast:Ye,terminal:{type:"terminal",valueContainer:{index:se,value:Ze,specificity:Ye.specificity}}}}return ke}(xe))}build(xe){return xe(this.branches)}},w.Picker=class mt{constructor(xe){this.f=xe}pickAll(xe){return this.f(xe)}pick1(xe,ke=!1){const se=this.f(xe),D=se.length;if(0===D)return null;if(1===D)return se[0].value;const Ze=ke?Le:Ve;let Ye=se[0];for(let Mt=1;Mt<D;Mt++){const sn=se[Mt];Ze(Ye,sn)&&(Ye=sn)}return Ye.value}},w.Treeify=N,w.Types=$},1554:tt=>{"use strict";tt.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},1735:(tt,w,ue)=>{ue(8734),ue(3679),tt.exports={WhitespaceProcessor:class he{constructor($){this.whitespaceChars=$.preserveNewlines?$.whitespaceCharacters.replace(/\n/g,""):$.whitespaceCharacters;const S=function we(de){return[...de].map($=>"\\u"+$.charCodeAt(0).toString(16).padStart(4,"0")).join("")}(this.whitespaceChars);if(this.leadingWhitespaceRe=new RegExp(`^[${S}]`),this.trailingWhitespaceRe=new RegExp(`[${S}]$`),this.allWhitespaceOrEmptyRe=new RegExp(`^[${S}]*$`),this.newlineOrNonWhitespaceRe=new RegExp(`(\\n|[^\\n${S}])`,"g"),$.preserveNewlines){const I=new RegExp(`\\n|[^\\n${S}]+`,"gm");this.shrinkWrapAdd=function(O,M,k=U=>U){if(!O)return;const U=M.stashedSpace;let x=!1,P=I.exec(O);if(P)for(x=!0,"\n"===P[0]?M.startNewLine():U||this.testLeadingWhitespace(O)?M.pushWord(k(P[0])):M.concatWord(k(P[0]));null!==(P=I.exec(O));)"\n"===P[0]?M.startNewLine():M.pushWord(k(P[0]));M.stashedSpace=U&&!x||this.testTrailingWhitespace(O)}}else{const I=new RegExp(`[^${S}]+`,"g");this.shrinkWrapAdd=function(O,M,k=U=>U){if(!O)return;const U=M.stashedSpace;let x=!1,P=I.exec(O);if(P)for(x=!0,U||this.testLeadingWhitespace(O)?M.pushWord(k(P[0])):M.concatWord(k(P[0]));null!==(P=I.exec(O));)M.pushWord(k(P[0]));M.stashedSpace=U&&!x||this.testTrailingWhitespace(O)}}}testLeadingWhitespace($){return this.leadingWhitespaceRe.test($)}testTrailingWhitespace($){return this.trailingWhitespaceRe.test($)}testContainsWords($){return!this.allWhitespaceOrEmptyRe.test($)}countNewlinesNoWords($){this.newlineOrNonWhitespaceRe.lastIndex=0;let I,S=0;for(;null!==(I=this.newlineOrNonWhitespaceRe.exec($));){if("\n"!==I[0])return 0;S++}return S}}}},1738:(tt,w,ue)=>{ue(1e3);const{trimCharacter:we}=ue(8051),{BlockStackItem:de,TableCellStackItem:$,TableRowStackItem:S,TableStackItem:I,TransformerStackItem:O}=ue(2683),{tableToString:M}=ue(5618),{WhitespaceProcessor:k}=ue(1735);function x(N){if(!(N instanceof de||N instanceof $))throw new Error("Only blocks and table cells can be requested for text contents.");return N.inlineTextBuilder.isEmpty()?N.rawText:N.rawText+N.inlineTextBuilder.toString()}function P(N,A,B,G){if(!(N instanceof de||N instanceof $))throw new Error("Only blocks and table cells can contain text.");const me=x(N),Te=Math.max(N.stashedLineBreaks,B);N.inlineTextBuilder.clear(),me?N.rawText=me+"\n".repeat(Te)+A:(N.rawText=A,N.leadingLineBreaks=Te),N.stashedLineBreaks=G}ue(3679),tt.exports={BlockTextBuilder:class U{constructor(A,B){this.options=A,this.picker=B,this.whitespaceProcessor=new k(A),this._stackItem=new de(A),this._wordTransformer=void 0}pushWordTransform(A){this._wordTransformer=new O(this._wordTransformer,A)}popWordTransform(){if(!this._wordTransformer)return;const A=this._wordTransformer.transform;return this._wordTransformer=this._wordTransformer.next,A}_getCombinedWordTransformer(){const A=(B,G)=>G?A(G.transform(B),G.next):B;return B=>A(B,this._wordTransformer)}_popStackItem(){const A=this._stackItem;return this._stackItem=A.next,A}addLineBreak(){(this._stackItem instanceof de||this._stackItem instanceof $)&&(this._stackItem.isPre?this._stackItem.rawText+="\n":this._stackItem.inlineTextBuilder.startNewLine())}addWordBreakOpportunity(){(this._stackItem instanceof de||this._stackItem instanceof $)&&(this._stackItem.inlineTextBuilder.wordBreakOpportunity=!0)}addInline(A,B={}){this._addInline(A,"object"==typeof B?B:{noWordTransform:B})}_addInline(A,{noWordTransform:B=!1}={}){if(this._stackItem instanceof de||this._stackItem instanceof $){if(this._stackItem.isPre)return void(this._stackItem.rawText+=A);if(0!==A.length&&(!this._stackItem.stashedLineBreaks||this.whitespaceProcessor.testContainsWords(A))){if(this.options.preserveNewlines){const G=this.whitespaceProcessor.countNewlinesNoWords(A);if(G>0)return void this._stackItem.inlineTextBuilder.startNewLine(G)}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.shrinkWrapAdd(A,this._stackItem.inlineTextBuilder,this._wordTransformer&&!B?this._getCombinedWordTransformer():void 0),this._stackItem.stashedLineBreaks=0}}}openBlock(A={},B=void 0,G=void 0){this._openBlock("object"==typeof A?A:{isPre:G,leadingLineBreaks:A,reservedLineLength:B})}_openBlock({leadingLineBreaks:A=1,reservedLineLength:B=0,isPre:G=!1}={}){const me=Math.max(20,this._stackItem.inlineTextBuilder.maxLineLength-B);this._stackItem=new de(this.options,this._stackItem,A,me),G&&(this._stackItem.isPre=!0)}closeBlock(A={},B=void 0){this._closeBlock("object"==typeof A?A:{trailingLineBreaks:A,blockTransform:B})}_closeBlock({trailingLineBreaks:A=1,blockTransform:B}={}){const G=this._popStackItem(),me=B?B(x(G)):x(G);P(this._stackItem,me,G.leadingLineBreaks,Math.max(G.stashedLineBreaks,A))}openTable(){this._stackItem=new I(this._stackItem)}openTableRow(){if(!(this._stackItem instanceof I))throw new Error("Can't add table row to something that is not a table! Check the formatter.");this._stackItem=new S(this._stackItem)}openTableCell(A={}){this._openTableCell("object"==typeof A?A:{maxColumnWidth:A})}_openTableCell({maxColumnWidth:A}={}){if(!(this._stackItem instanceof S))throw new Error("Can't add table cell to something that is not a table row! Check the formatter.");this._stackItem=new $(this.options,this._stackItem,A)}closeTableCell(A={},B=void 0){this._closeTableCell("object"==typeof A?A:{colspan:A,rowspan:B})}_closeTableCell({colspan:A=1,rowspan:B=1}={}){const G=this._popStackItem(),me=we(x(G),"\n");G.next.cells.push({colspan:A,rowspan:B,text:me})}closeTableRow(){const A=this._popStackItem();A.next.rows.push(A.cells)}closeTable(A={},B=void 0,G=void 0,me=void 0){this._closeTable("object"==typeof A?A:{colSpacing:A,leadingLineBreaks:G,rowSpacing:B,trailingLineBreaks:me})}_closeTable({colSpacing:A=3,rowSpacing:B=0,leadingLineBreaks:G=2,trailingLineBreaks:me=2}={}){const Te=this._popStackItem(),z=M(Te.rows,B,A);z&&P(this._stackItem,z,G,me)}toString(){return x(this._stackItem.getRoot())}}}},2163:(tt,w,ue)=>{"use strict";let ye=null,we=!1,he=1;const $=Symbol("SIGNAL");function S(n){const t=ye;return ye=n,t}const k={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function U(n){if(we)throw new Error("");if(null===ye)return;ye.consumerOnSignalRead(n);const t=ye.producersTail;if(void 0!==t&&t.producer===n)return;let e;const i=ye.recomputing;if(i&&(e=void 0!==t?t.nextProducer:ye.producers,void 0!==e&&e.producer===n))return ye.producersTail=e,void(e.lastReadVersion=n.version);const r=n.consumersTail;if(void 0!==r&&r.consumer===ye&&(!i||function ee(n,t){const e=t.producersTail;if(void 0!==e){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(void 0!==i)}return!1}(r,ye)))return;const o=Ce(ye),s={producer:n,consumer:ye,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};ye.producersTail=s,void 0!==t?t.nextProducer=s:ye.producers=s,o&&T(n,s)}function P(n){if((!Ce(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==he)){if(!n.producerMustRecompute(n)&&!L(n))return void G(n);n.producerRecomputeValue(n),G(n)}}function N(n){if(void 0===n.consumers)return;const t=we;we=!0;try{for(let e=n.consumers;void 0!==e;e=e.nextConsumer){const i=e.consumer;i.dirty||B(i)}}finally{we=t}}function A(){return!1!==ye?.consumerAllowSignalWrites}function B(n){n.dirty=!0,N(n),n.consumerMarkedDirty?.(n)}function G(n){n.dirty=!1,n.lastCleanEpoch=he}function me(n){return n&&function Te(n){n.producersTail=void 0,n.recomputing=!0}(n),S(n)}function z(n,t){S(t),n&&function oe(n){n.recomputing=!1;const t=n.producersTail;let e=void 0!==t?t.nextProducer:n.producers;if(void 0!==e){if(Ce(n))do{e=le(e)}while(void 0!==e);void 0!==t?t.nextProducer=void 0:n.producers=void 0}}(n)}function L(n){for(let t=n.producers;void 0!==t;t=t.nextProducer){const e=t.producer,i=t.lastReadVersion;if(i!==e.version||(P(e),i!==e.version))return!0}return!1}function W(n){if(Ce(n)){let t=n.producers;for(;void 0!==t;)t=le(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function T(n,t){const e=n.consumersTail,i=Ce(n);if(void 0!==e?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;void 0!==r;r=r.nextProducer)T(r.producer,r)}function le(n){const t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,void 0!==i?i.prevConsumer=r:t.consumersTail=r,void 0!==r)r.nextConsumer=i;else if(t.consumers=i,!Ce(t)){let o=t.producers;for(;void 0!==o;)o=le(o)}return e}function Ce(n){return n.consumerIsAlwaysLive||void 0!==n.consumers}function ge(n,t){return Object.is(n,t)}function Me(n,t){const e=Object.create(Le);e.computation=n,void 0!==t&&(e.equal=t);const i=()=>{if(P(e),U(e),e.value===mt)throw e.error;return e.value};return i[$]=e,i}const Fe=Symbol("UNSET"),Be=Symbol("COMPUTING"),mt=Symbol("ERRORED"),Le={...k,value:Fe,dirty:!0,error:null,equal:ge,kind:"computed",producerMustRecompute:n=>n.value===Fe||n.value===Be,producerRecomputeValue(n){if(n.value===Be)throw new Error("");const t=n.value;n.value=Be;const e=me(n);let i,r=!1;try{i=n.computation(),S(null),r=t!==Fe&&t!==mt&&i!==mt&&n.equal(t,i)}catch(o){i=mt,n.error=o}finally{z(n,e)}r?n.value=t:(n.value=i,n.version++)}};let ce=function Ve(){throw new Error};function xe(n){ce(n)}function D(n,t){const e=Object.create(Ni);e.value=n,void 0!==t&&(e.equal=t);const i=()=>function Ye(n){return U(n),n.value}(e);return i[$]=e,[i,s=>Mt(e,s),s=>function sn(n,t){A()||xe(n),Mt(n,t(n.value))}(e,s)]}function Mt(n,t){A()||xe(n),n.equal(n.value,t)||(n.value=t,function ta(n){n.version++,function x(){he++}(),N(n)}(n))}const Ni={...k,equal:ge,value:void 0,kind:"signal"},Op={...k,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function dn(n){return"function"==typeof n}function Yv(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Qv=Yv(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Pp(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class zt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(dn(i))try{i()}catch(o){t=o instanceof Qv?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{fT(o)}catch(s){t=t??[],s instanceof Qv?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Qv(t)}}add(t){var e;if(t&&t!==this)if(this.closed)fT(t);else{if(t instanceof zt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Pp(e,t)}remove(t){const{_finalizers:e}=this;e&&Pp(e,t),t instanceof zt&&t._removeParent(this)}}zt.EMPTY=(()=>{const n=new zt;return n.closed=!0,n})();const mT=zt.EMPTY;function pT(n){return n instanceof zt||n&&"closed"in n&&dn(n.remove)&&dn(n.add)&&dn(n.unsubscribe)}function fT(n){dn(n)?n():n.unsubscribe()}const Ka={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Np={setTimeout(n,t,...e){const{delegate:i}=Np;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Np;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gT(n){Np.setTimeout(()=>{const{onUnhandledError:t}=Ka;if(!t)throw n;t(n)})}function Lp(){}const U4=Xv("C",void 0,void 0);function Xv(n,t,e){return{kind:n,value:t,error:e}}let Ya=null;function Fp(n){if(Ka.useDeprecatedSynchronousErrorHandling){const t=!Ya;if(t&&(Ya={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Ya;if(Ya=null,e)throw i}}else n()}class Zv extends zt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pT(t)&&t.add(this)):this.destination=K4}static create(t,e,i){return new Mu(t,e,i)}next(t){this.isStopped?eC(function z4(n){return Xv("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?eC(function V4(n){return Xv("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?eC(U4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $4=Function.prototype.bind;function Jv(n,t){return $4.call(n,t)}class G4{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Bp(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Bp(i)}else Bp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Bp(e)}}}class Mu extends Zv{constructor(t,e,i){let r;if(super(),dn(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Ka.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Jv(t.next,o),error:t.error&&Jv(t.error,o),complete:t.complete&&Jv(t.complete,o)}):r=t}this.destination=new G4(r)}}function Bp(n){Ka.useDeprecatedSynchronousErrorHandling?function q4(n){Ka.useDeprecatedSynchronousErrorHandling&&Ya&&(Ya.errorThrown=!0,Ya.error=n)}(n):gT(n)}function eC(n,t){const{onStoppedNotification:e}=Ka;e&&Np.setTimeout(()=>e(n,t))}const K4={closed:!0,next:Lp,error:function W4(n){throw n},complete:Lp},tC="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qa(n){return n}function _T(n){return 0===n.length?Qa:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function X4(n){return n&&n instanceof Zv||function Q4(n){return n&&dn(n.next)&&dn(n.error)&&dn(n.complete)}(n)&&pT(n)}(e)?e:new Mu(e,i,r);return Fp(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=bT(i))((r,o)=>{const s=new Mu({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[tC](){return this}pipe(...e){return _T(e)(this)}toPromise(e){return new(e=bT(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function bT(n){var t;return null!==(t=n??Ka.Promise)&&void 0!==t?t:Promise}const Z4=Yv(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nC,Oe=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new yT(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Z4}next(e){Fp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Fp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Fp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?mT:(this.currentObservers=null,o.push(e),new zt(()=>{this.currentObservers=null,Pp(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new ie;return e.source=this,e}}return n.create=(t,e)=>new yT(t,e),n})();class yT extends Oe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:mT}}class yi extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function iC(){return nC}function na(n){const t=nC;return nC=n,t}const J4=Symbol("NotFound");function rC(n){return n===J4||"\u0275NotFound"===n?.name}Error;const CT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class re extends Error{code;constructor(t,e){super(Br(t,e)),this.code=t}}function Br(n,t){return`${function e8(n){return`NG0${Math.abs(n)}`}(n)}${t?": "+t:""}`}const ei=globalThis;function _t(n){for(let t in n)if(n[t]===_t)return t;throw Error("")}function t8(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function wr(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(wr).join(", ")}]`;if(null==n)return""+n;const t=n.overriddenName||n.name;if(t)return`${t}`;const e=n.toString();if(null==e)return""+e;const i=e.indexOf("\n");return i>=0?e.slice(0,i):e}function oC(n,t){return n?t?`${n} ${t}`:n:t||""}const n8=_t({__forward_ref__:_t});function tn(n){return n.__forward_ref__=tn,n.toString=function(){return wr(this())},n}function jt(n){return jp(n)?n():n}function jp(n){return"function"==typeof n&&n.hasOwnProperty(n8)&&n.__forward_ref__===tn}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Up(n){return function l8(n,t){return n.hasOwnProperty(t)&&n[t]||null}(n,zp)}function Vp(n){return n&&n.hasOwnProperty(sC)?n[sC]:null}const zp=_t({\u0275prov:_t}),sC=_t({\u0275inj:_t});class Z{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cC(n){return n&&!!n.\u0275providers}const wT=_t({\u0275cmp:_t}),f8=_t({\u0275dir:_t}),g8=_t({\u0275pipe:_t}),DT=_t({\u0275mod:_t}),Ja=_t({\u0275fac:_t}),Ru=_t({__NG_ELEMENT_ID__:_t}),xT=_t({__NG_ENV_ID__:_t});function Vo(n){return n[DT]||null}function cn(n){return n[wT]||null}function ar(n){return n[f8]||null}function Do(n){return n[g8]||null}function Rt(n){return"string"==typeof n?n:null==n?"":String(n)}const dC=_t({ngErrorCode:_t}),ET=_t({ngErrorMessage:_t}),Ou=_t({ngTokenPath:_t});function uC(n,t){return ST("",-200,t)}function hC(n,t){throw new re(-201,!1)}function ST(n,t,e){const i=new re(t,n);return i[dC]=t,i[ET]=n,e&&(i[Ou]=e),i}let mC;function kT(){return mC}function Dr(n){const t=mC;return mC=n,t}function AT(n,t,e){const i=Up(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:8&e?null:void 0!==t?t:void hC()}const ec={};class w8{injector;constructor(t){this.injector=t}retrieve(t,e){const i=Pu(e)||0;try{return this.injector.get(t,8&i?null:ec,i)}catch(r){if(rC(r))return r;throw r}}}function D8(n,t=0){const e=iC();if(void 0===e)throw new re(-203,!1);if(null===e)return AT(n,void 0,t);{const i=function x8(n){return{optional:!!(8&n),host:!!(1&n),self:!!(2&n),skipSelf:!!(4&n)}}(t),r=e.retrieve(n,i);if(rC(r)){if(i.optional)return null;throw r}return r}}function J(n,t=0){return(kT()||D8)(jt(n),t)}function p(n,t){return J(n,Pu(t))}function Pu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fC(n){const t=[];for(let e=0;e<n.length;e++){const i=jt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new re(900,!1);let r,o=0;for(let s=0;s<i.length;s++){const a=i[s],c=E8(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(J(r,o))}else t.push(J(i))}return t}function E8(n){return n.__NG_DI_FLAG__}function tc(n,t){return n.hasOwnProperty(Ja)?n[Ja]:null}function Tl(n,t){n.forEach(e=>Array.isArray(e)?Tl(e,t):t(e))}function IT(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function $p(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Wp(n,t,e){let i=Lu(n,t);return i>=0?n[1|i]=e:(i=~i,function RT(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function gC(n,t){const e=Lu(n,t);if(e>=0)return n[1|e]}function Lu(n,t){return function k8(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const zo={},xn=[],ia=new Z(""),OT=new Z("",-1),_C=new Z("");class Kp{get(t,e=ec){if(e===ec){const r=ST("",-201);throw r.name="\u0275NotFound",r}return e}}function Yp(n){return{\u0275providers:n}}function T8(...n){return{\u0275providers:bC(0,n),\u0275fromNgModule:!0}}function bC(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Tl(t,s=>{const a=s;Qp(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&PT(r,o),e}function PT(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];yC(r,o=>{t(o,i)})}}function Qp(n,t,e,i){if(!(n=jt(n)))return!1;let r=null,o=Vp(n);const s=!o&&cn(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Vp(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Qp(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Tl(o.imports,d=>{Qp(d,t,e,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&PT(l,t)}if(!a){const l=tc(r)||(()=>new r);t({provide:r,useFactory:l,deps:xn},r),t({provide:_C,useValue:r,multi:!0},r),t({provide:ia,useValue:()=>J(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;yC(c,d=>{t(d,l)})}}}return r!==n&&void 0!==n.providers}function yC(n,t){for(let e of n)cC(e)&&(e=e.\u0275providers),Array.isArray(e)?yC(e,t):t(e)}const I8=_t({provide:String,useValue:_t});function vC(n){return null!==n&&"object"==typeof n&&I8 in n}function vs(n){return"function"==typeof n}const CC=new Z(""),Xp={},BT={};let wC;function Zp(){return void 0===wC&&(wC=new Kp),wC}class hi{}class nc extends hi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,xC(t,s=>this.processProvider(s)),this.records.set(OT,Il(void 0,this)),r.has("environment")&&this.records.set(hi,Il(void 0,this));const o=this.records.get(CC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_C,xn,{self:!0}))}retrieve(t,e){const i=Pu(e)||0;try{return this.get(t,ec,i)}catch(r){if(rC(r))return r;throw r}}destroy(){Fu(this),this._destroyed=!0;const t=S(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(t)}}onDestroy(t){return Fu(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Fu(this);const e=na(this),i=Dr(void 0);try{return t()}finally{na(e),Dr(i)}}get(t,e=ec,i){if(Fu(this),t.hasOwnProperty(xT))return t[xT](this);const r=Pu(i),s=na(this),a=Dr(void 0);try{if(!(4&r)){let l=this.records.get(t);if(void 0===l){const d=function N8(n){return"function"==typeof n||"object"==typeof n&&"InjectionToken"===n.ngMetadataName}(t)&&Up(t);l=d&&this.injectableDefInScope(d)?Il(DC(t),Xp):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l,r)}return(2&r?Zp():this.parent).get(t,e=8&r&&e===ec?null:e)}catch(c){const l=function v8(n){return n[dC]}(c);throw-200===l||-201===l?new re(l,null):c}finally{Dr(a),na(s)}}resolveInjectorInitializers(){const t=S(null),e=na(this),i=Dr(void 0);try{const o=this.get(ia,xn,{self:!0});for(const s of o)s()}finally{na(e),Dr(i),S(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(wr(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){let e=vs(t=jt(t))?t:jt(t&&t.provide);const i=function R8(n){return vC(n)?Il(void 0,n.useValue):Il(HT(n),Xp)}(t);if(!vs(t)&&!0===t.multi){let r=this.records.get(e);r||(r=Il(void 0,Xp,!0),r.factory=()=>fC(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){const r=S(null);try{if(e.value===BT)throw uC(wr(t));return e.value===Xp&&(e.value=BT,e.value=e.factory(void 0,i)),"object"==typeof e.value&&e.value&&function P8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{S(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=jt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function DC(n){const t=Up(n),e=null!==t?t.factory:tc(n);if(null!==e)return e;if(n instanceof Z)throw new re(204,!1);if(n instanceof Function)return function M8(n){if(n.length>0)throw new re(204,!1);const e=function d8(n){return(n?.[zp]??null)||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new re(204,!1)}function HT(n,t,e){let i;if(vs(n)){const r=jt(n);return tc(r)||DC(r)}if(vC(n))i=()=>jt(n.useValue);else if(function LT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...fC(n.deps||[]));else if(function NT(n){return!(!n||!n.useExisting)}(n))i=(r,o)=>J(jt(n.useExisting),void 0!==o&&8&o?8:void 0);else{const r=jt(n&&(n.useClass||n.provide));if(!function O8(n){return!!n.deps}(n))return tc(r)||DC(r);i=()=>new r(...fC(n.deps))}return i}function Fu(n){if(n.destroyed)throw new re(205,!1)}function Il(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function xC(n,t){for(const e of n)Array.isArray(e)?xC(e,t):e&&cC(e)?xC(e.\u0275providers,t):t(e)}function jr(n,t){let e;n instanceof nc?(Fu(n),e=n):e=new w8(n);const r=na(e),o=Dr(void 0);try{return t()}finally{na(r),Dr(o)}}function EC(){return void 0!==kT()||null!=iC()}function qn(n){return Array.isArray(n)&&"object"==typeof n[1]}function cr(n){return Array.isArray(n)&&!0===n[1]}function UT(n){return!!(4&n.flags)}function qo(n){return n.componentOffset>-1}function Nl(n){return!(1&~n.flags)}function xo(n){return!!n.template}function ca(n){return!!(512&n[2])}function xs(n){return!(256&~n[2])}function xi(n){for(;Array.isArray(n);)n=n[0];return n}function Ll(n,t){return xi(t[n])}function $n(n,t){return xi(t[n.index])}function Fl(n,t){return n.data[t]}function sc(n,t){return n[t]}function lr(n,t){const e=t[n];return qn(e)?e:e[0]}function TC(n){return!(128&~n[2])}function Gi(n,t){return null==t?null:n[t]}function WT(n){n[17]=0}function KT(n){1024&n[2]||(n[2]|=1024,TC(n)&&Bl(n))}function nf(n){return!!(9216&n[2]||n[24]?.dirty)}function IC(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),nf(n)&&Bl(n)}function Bl(n){n[10].changeDetectionScheduler?.notify(0);let t=Es(n);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,TC(t));)t=Es(t)}function rf(n,t){if(xs(n))throw new re(911,!1);null===n[21]&&(n[21]=[]),n[21].push(t)}function Es(n){const t=n[3];return cr(t)?t[3]:t}function QT(n){return n[7]??=[]}function XT(n){return n.cleanup??=[]}const Et={lFrame:mI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let OC=!1;function JT(){Et.lFrame.elementDepthCount--}function PC(){return Et.bindingsEnabled}function eI(){return null!==Et.skipHydrationRootTNode}function tI(n){return Et.skipHydrationRootTNode===n}function nI(){Et.skipHydrationRootTNode=null}function Ee(){return Et.lFrame.lView}function Ct(){return Et.lFrame.tView}function Y(n){return Et.lFrame.contextLView=n,n[8]}function Q(n){return Et.lFrame.contextLView=null,n}function St(){let n=iI();for(;null!==n&&64===n.type;)n=n.parent;return n}function iI(){return Et.lFrame.currentTNode}function Ss(n,t){const e=Et.lFrame;e.currentTNode=n,e.isParent=t}function rI(){return Et.lFrame.isParent}function oI(){Et.lFrame.isParent=!1}function cI(){return OC}function sf(n){const t=OC;return OC=n,t}function dr(){const n=Et.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Wi(){return Et.lFrame.bindingIndex++}function ks(n){const t=Et.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function W8(n,t){const e=Et.lFrame;e.bindingIndex=e.bindingRootIndex=n,NC(t)}function NC(n){Et.lFrame.currentDirectiveIndex=n}function FC(){return Et.lFrame.currentQueryIndex}function af(n){Et.lFrame.currentQueryIndex=n}function Y8(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[5]:null}function uI(n,t,e){if(4&e){let r=t,o=n;for(;!(r=r.parent,null!==r||1&e||(r=Y8(o),null===r||(o=o[14],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Et.lFrame=hI();return i.currentTNode=t,i.lView=n,!0}function BC(n){const t=hI(),e=n[1];Et.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function hI(){const n=Et.lFrame,t=null===n?null:n.child;return null===t?mI(n):t}function mI(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function pI(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fI=pI;function HC(){const n=pI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return Et.lFrame.selectedIndex}function ac(n){Et.lFrame.selectedIndex=n}function Eo(){const n=Et.lFrame;return Fl(n.tView,n.selectedIndex)}function Go(){Et.lFrame.currentNamespace="svg"}function cf(){!function Z8(){Et.lFrame.currentNamespace=null}()}let gI=!0;function lf(){return gI}function Uu(n){gI=n}function _I(n,t=null,e=null,i){const r=bI(n,t,e,i);return r.resolveInjectorInitializers(),r}function bI(n,t=null,e=null,i,r=new Set){const o=[e||xn,T8(n)];return i=i||("object"==typeof n?void 0:wr(n)),new nc(o,t||Zp(),i||null,r)}class kt{static THROW_IF_NOT_FOUND=ec;static NULL=new Kp;static create(t,e){if(Array.isArray(t))return _I({name:""},e,t,"");{const i=t.name??"";return _I({name:i},t.parent,t.providers,i)}}static \u0275prov=pe({token:kt,providedIn:"any",factory:()=>J(OT)});static __NG_ELEMENT_ID__=-1}const Ut=new Z("");let So=(()=>class n{static __NG_ELEMENT_ID__=ez;static __NG_ENV_ID__=e=>e})();class yI extends So{_lView;constructor(t){super(),this._lView=t}get destroyed(){return xs(this._lView)}onDestroy(t){const e=this._lView;return rf(e,t),()=>function MC(n,t){if(null===n[21])return;const e=n[21].indexOf(t);-1!==e&&n[21].splice(e,1)}(e,t)}}function ez(){return new yI(Ee())}const vI=!1;let la=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yi(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();const ze=class tz extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,EC()&&(this.destroyRef=p(So,{optional:!0})??void 0,this.pendingTasks=p(la,{optional:!0})??void 0)}emit(t){const e=S(null);try{super.next(t)}finally{S(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof zt&&t.add(a),a}wrapInTimeout(t){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{void 0!==i&&this.pendingTasks?.remove(i)}})}}};function df(...n){}function CI(n){let t,e;function i(){n=df;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function wI(n){return queueMicrotask(()=>n()),()=>{n=df}}const jC="isAngularZone",uf=jC+"_ID";let nz=0;class $e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(t){const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=vI}=t;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,function oz(n){const t=()=>{!function rz(n){function t(){CI(()=>{n.callbackScheduled=!1,VC(n),n.isCheckStableRunning=!0,UC(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),VC(n))}(n)},e=nz++;n._inner=n._inner.fork({name:"angular",properties:{[jC]:!0,[uf]:e,[uf+e]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(function az(n){return EI(n,"__ignore_ng_zone__")}(c))return i.invokeTask(o,s,a,c);try{return DI(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),xI(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return DI(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function cz(n){return EI(n,"__scheduler_tick__")}(c)&&t(),xI(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,VC(n),UC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(jC)}static assertInAngularZone(){if(!$e.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new re(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,iz,df,df);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const iz={};function UC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function DI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xI(n){n._nesting--,UC(n)}class sz{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}function EI(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class cc{_console=console;handleError(t){this._console.error("ERROR",t)}}const As=new Z("",{factory:()=>{const n=p($e),t=p(hi);let e;return i=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw i}):(e??=t.get(cc),e.handleError(i))})}}}),lz={provide:ia,useValue:()=>{p(cc,{optional:!0})},multi:!0};function Pn(n,t){const[e,i,r]=D(n,t?.equal),o=e;return o.set=i,o.update=r,o.asReadonly=zC.bind(o),o}function zC(){const n=this[$];if(void 0===n.readonlyFn){const t=()=>this();t[$]=n,n.readonlyFn=t}return n.readonlyFn}let hf=(()=>class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=uz})();function uz(){return new hf(Ee(),St())}class lc{}const mf=new Z("",{factory:()=>!0}),SI=new Z("");let pf=(()=>{class n{internalPendingTasks=p(la);scheduler=p(lc);errorHandler=p(As);add(){const e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){const i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})(),kI=(()=>{class n{static \u0275prov=pe({token:n,providedIn:"root",factory:()=>new hz})}return n})();class hz{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const i=this.queues.get(t.zone);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[e,i]of this.queues)t||=null===e?this.flushQueue(i):e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(const i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}}class qC{[$];constructor(t){this[$]=t}destroy(){this[$].destroy()}}function ff(n,t){const e=t?.injector??p(kt);let r,i=!0!==t?.manualCleanup?e.get(So):null;const o=e.get(hf,null,{optional:!0}),s=e.get(lc);return null!==o?(r=function fz(n,t,e){const i=Object.create(pz);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=TI(i,e),n[23]??=new Set,n[23].add(i),i.consumerMarkedDirty(i),i}(o.view,s,n),i instanceof yI&&i._lView===o.view&&(i=null)):r=function gz(n,t,e){const i=Object.create(mz);return i.fn=TI(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}(n,e.get(kI),s),r.injector=e,null!==i&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new qC(r)}const AI={...Op,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const n=sf(!1);try{!function El(n){if(n.dirty=!1,n.version>0&&!L(n))return;n.version++;const t=me(n);try{n.cleanup(),n.fn()}finally{z(n,t)}}(this)}finally{sf(n)}},cleanup(){if(!this.cleanupFns?.length)return;const n=S(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],S(n)}}},mz={...AI,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(W(this),null!==this.onDestroyFns)for(const n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}},pz={...AI,consumerMarkedDirty(){this.view[2]|=8192,Bl(this.view),this.notifier.notify(13)},destroy(){if(W(this),null!==this.onDestroyFns)for(const n of this.onDestroyFns)n();this.cleanup(),this.view[23]?.delete(this)}};function TI(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}function Sn(n){return function Rp(n){const t=S(null);try{return n()}finally{S(t)}}(n)}function II(n,t,e,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void e(l)}a.done?t(c):Promise.resolve(c).then(i,r)}function E(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(c){II(o,i,r,s,a,"next",c)}function a(c){II(o,i,r,s,a,"throw",c)}s(void 0)})}}function Gn(n){return t=>{if(function MI(n){return dn(n?.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(n,t,e,i,r){return new _z(n,t,e,i,r)}class _z extends Zv{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function It(n,t){return Gn((e,i)=>{let r=0;e.subscribe(Nn(i,o=>{i.next(n.call(t,o,r++))}))})}function Ts(n){return{toString:n}.toString()}function PI(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}class Iz{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}const Wn=(()=>{const n=()=>NI;return n.ngInherit=!0,n})();function NI(n){return n.type.prototype.ngOnChanges&&(n.setInput=Rz),Mz}function Mz(){const n=FI(this),t=n?.current;if(t){const e=n.previous;if(e===zo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Rz(n,t,e,i,r){const o=this.declaredInputs[i],s=FI(n)||function Oz(n,t){return n[LI]=t}(n,{previous:zo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Iz(l&&l.currentValue,e,c===zo),PI(n,t,r,e)}const LI="__ngSimpleChanges__";function FI(n){return n[LI]||null}const dc=[],pn=function(n,t=null,e){for(let i=0;i<dc.length;i++)(0,dc[i])(n,t,e)};var et=function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n}(et||{});function BI(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function _f(n,t,e){HI(n,t,3,e)}function bf(n,t,e,i){(3&n[2])===e&&HI(n,t,e,i)}function WC(n,t){let e=n[2];(3&e)===t&&(e&=16383,e+=1,n[2]=e)}function HI(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[17]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[17]+=65536),(a<o||-1==o)&&(Bz(n,e,t,c),n[17]=(4294901760&n[17])+c+2),c++}function jI(n,t){pn(et.LifecycleHookStart,n,t);const e=S(null);try{t.call(n)}finally{S(e),pn(et.LifecycleHookEnd,n,t)}}function Bz(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[2]>>14<n[17]>>16&&(3&n[2])===t&&(n[2]+=16384,jI(a,o)):jI(a,o)}class zu{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}}function YC(n){return 3===n||4===n||6===n}function VI(n){return 64===n.charCodeAt(0)}function $l(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||zI(n,e,r,0,-1===e||2===e?t[++i]:null)}}return n}function zI(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e)return void(null!==r&&(n[o+1]=r));o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r)}function QC(n){return-1!==n}function qu(n){return 32767&n}function $u(n,t){let e=function Vz(n){return n>>16}(n),i=t;for(;e>0;)i=i[14],e--;return i}let XC=!0;function yf(n){const t=XC;return XC=n,t}let zz=0;const Wo={};function vf(n,t){const e=GI(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,ZC(i.data,n),ZC(t,null),ZC(i.blueprint,null));const r=Cf(n,t),o=n.injectorIndex;if(QC(r)){const s=qu(r),a=$u(r,t),c=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function ZC(n,t){n.push(0,0,0,0,0,0,0,0,t)}function GI(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Cf(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=JI(r),null===i)return-1;if(e++,r=r[14],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function JC(n,t,e){!function qz(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ru)&&(i=e[Ru]),null==i&&(i=e[Ru]=zz++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function WI(n,t,e){if(8&e||void 0!==n)return n;hC()}function KI(n,t,e,i){if(8&e&&void 0===i&&(i=null),!(3&e)){const r=n[9],o=Dr(void 0);try{return r?r.get(t,i,8&e):AT(t,i,8&e)}finally{Dr(o)}}return WI(i,0,e)}function YI(n,t,e,i=0,r){if(null!==n){if(2048&t[2]&&!(2&i)){const s=function Yz(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[2]&&!ca(s);){const a=QI(o,s,e,2|i,Wo);if(a!==Wo)return a;let c=o.parent;if(!c){const l=s[20];if(l){const d=l.get(e,Wo,i);if(d!==Wo)return d}c=JI(s),s=s[14]}o=c}return r}(n,t,e,i,Wo);if(s!==Wo)return s}const o=QI(n,t,e,i,Wo);if(o!==Wo)return o}return KI(t,e,i,r)}function QI(n,t,e,i,r){const o=function Wz(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ru)?n[Ru]:void 0;return"number"==typeof t?t>=0?255&t:Kz:t}(e);if("function"==typeof o){if(!uI(t,n,i))return 1&i?WI(r,0,i):KI(t,e,i,r);try{let s;if(s=o(i),null!=s||8&i)return s;hC()}finally{fI()}}else if("number"==typeof o){let s=null,a=GI(n,t),c=-1,l=1&i?t[15][5]:null;for((-1===a||4&i)&&(c=-1===a?Cf(n,t):t[a+8],-1!==c&&ZI(i,!1)?(s=t[1],a=qu(c),t=$u(c,t)):a=-1);-1!==a;){const d=t[1];if(XI(o,a,d.data)){const u=Gz(a,t,e,s,i,l);if(u!==Wo)return u}c=t[a+8],-1!==c&&ZI(i,t[1].data[a+8]===l)&&XI(o,a,t)?(s=d,a=qu(c),t=$u(c,t)):a=-1}}return r}function Gz(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],d=wf(a,s,e,null==i?qo(a)&&XC:i!=s&&!!(3&a.type),1&r&&o===a);return null!==d?Gu(t,s,d,a,r):Wo}function wf(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,d=o>>20,h=r?a+d:n.directiveEnd;for(let m=i?a:a+d;m<h;m++){const g=s[m];if(m<c&&e===g||m>=c&&g.type===e)return m}if(r){const m=s[c];if(m&&xo(m)&&m.type===e)return c}return null}function Gu(n,t,e,i,r){let o=n[e];const s=t.data;if(o instanceof zu){const a=o;if(a.resolving)throw function nn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Rt(n)}(s[e]),uC();const c=yf(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Dr(a.injectImpl):null;uI(n,i,0);try{o=n[e]=a.factory(void 0,r,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Fz(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=NI(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,s[e],t)}finally{null!==u&&Dr(u),yf(c),a.resolving=!1,fI()}}return o}function XI(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function ZI(n,t){return!(2&n||1&n&&t)}class ni{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return YI(this._tNode,this._lView,t,Pu(i),e)}}function Kz(){return new ni(St(),Ee())}function ht(n){return Ts(()=>{const t=n.prototype.constructor,e=t[Ja]||ew(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ja]||ew(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ew(n){return jp(n)?()=>{const t=ew(jt(n));return t&&t()}:tc(n)}function JI(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[5]:null}function rq(){return Gl(St(),Ee())}function Gl(n,t){return new nt($n(n,t))}let nt=(()=>class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=rq})();function rM(n){return n instanceof nt?n.nativeElement:n}function oq(){return this._results[Symbol.iterator]()}class Wl{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function no(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function S8(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=oq}function Wu(n){return!(128&~n.flags)}var Ef=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ef||{});const Sf=new Map;let cq=0;function iw(n){Sf.delete(n[19])}const ow="__ngContext__";function Er(n,t){qn(t)?(n[ow]=t[19],function dq(n){Sf.set(n[19],n)}(t)):n[ow]=t}function fM(n){return _M(n[12])}function gM(n){return _M(n[4])}function _M(n){for(;null!==n&&!cr(n);)n=n[4];return n}let sw;const ua=new Z("",{factory:()=>Mq}),Mq="ng",xM=new Z(""),aw=new Z("",{providedIn:"platform",factory:()=>"unknown"}),Af=new Z(""),cw=new Z("",{factory:()=>p(Ut).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Bq=new Z("",{factory:()=>!1});function Of(n){return!(32&~n.flags)}function ZM(n,t){const e=n.contentQueries;if(null!==e){const i=S(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=n.data[s];af(e[r]),a.contentQueries(2,t[s],s)}}}finally{S(i)}}}function Dw(n,t,e){af(0);const i=S(null);try{t(n,e)}finally{S(i)}}function xw(n,t,e){if(UT(t)){const i=S(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{S(i)}}}var oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n}(oo||{});let jf;function Yl(n){return function n1(){if(void 0===jf&&(jf=null,ei.trustedTypes))try{jf=ei.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jf}()?.createHTML(n)||n}class hc{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CT})`}}class _6 extends hc{getTypeName(){return"HTML"}}class b6 extends hc{getTypeName(){return"Style"}}class y6 extends hc{getTypeName(){return"Script"}}class v6 extends hc{getTypeName(){return"URL"}}class C6 extends hc{getTypeName(){return"ResourceURL"}}function Vr(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function Ko(n,t){const e=function w6(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${CT})`)}return e===t}class A6{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Yl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}}class T6{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Yl(t),e}}const M6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vf(n){return(n=String(n)).match(M6)?n:"unsafe:"+n}function Is(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ju(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const a1=Is("area,br,col,hr,img,wbr"),c1=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),l1=Is("rp,rt"),Aw=Ju(a1,Ju(c1,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ju(l1,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ju(l1,c1)),Tw=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d1=Ju(Tw,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R6=Is("script,style,template");class O6{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=L6(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=N6(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(t){const e=u1(t).toLowerCase();if(!Aw.hasOwnProperty(e))return this.sanitizedSomething=!0,!R6.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!d1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Tw[a]&&(c=Vf(c)),this.buf.push(" ",s,'="',m1(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=u1(t).toLowerCase();Aw.hasOwnProperty(e)&&!a1.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(m1(t))}}function N6(n){const t=n.nextSibling;if(t&&n!==t.previousSibling)throw h1(t);return t}function L6(n){const t=n.firstChild;if(t&&function P6(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,t))throw h1(t);return t}function u1(n){const t=n.nodeName;return"string"==typeof t?t:"FORM"}function h1(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const F6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B6=/([^\#-~ |!])/g;function m1(n){return n.replace(/&/g,"&amp;").replace(F6,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(B6,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zf;function p1(n,t){let e=null;try{zf=zf||function s1(n){const t=new T6(n);return function I6(){try{return!!(new window.DOMParser).parseFromString(Yl(""),"text/html")}catch{return!1}}()?new A6(t):t}(n);let i=t?String(t):"";e=zf.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=zf.getInertBodyElement(i)}while(i!==o);return Yl((new O6).sanitizeChildren(Iw(e)||e))}finally{if(e){const i=Iw(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function Iw(n){return"content"in n&&function H6(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}const j6=/^>|^->|<!--|-->|--!>|<!-$/g,U6=/(<|>)/g;function Rw(n,t){return n.createComment(function f1(n){return n.replace(j6,t=>t.replace(U6,"\u200b$1\u200b"))}(t))}function qf(n,t,e){return n.createElement(t,e)}function mc(n,t,e,i,r){n.insertBefore(t,e,i,r)}function _1(n,t,e){n.appendChild(t,e)}function b1(n,t,e,i,r){null!==i?mc(n,t,e,i,r):_1(n,t,e)}function eh(n,t,e,i){n.removeChild(null,t,e,i)}function v1(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&function Uz(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];VI(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}}(n,t,i),null!==r&&function q6(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}(n,t,r),null!==o&&function z6(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}var Fi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fi||{});function In(n){const t=function th(){const n=Ee();return n&&n[10].sanitizer}();return t?t.sanitize(Fi.URL,n)||"":Ko(n,"URL")?Vr(n):Vf(Rt(n))}function w1(n){return n.ownerDocument}function Yo(n){return n instanceof Function?n():n}function c9(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const k1="ng-template";function l9(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==c9(t[r+1].toLowerCase(),e,0))return!0}else if(Ow(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&"string"==typeof(o=t[r]);)if(o.toLowerCase()===e)return!0}return!1}function Ow(n){return 4===n.type&&n.value!==k1}function d9(n,t,e){return t===(4!==n.type||e?n.value:k1)}function u9(n,t,e){let i=4;const r=n.attrs,o=null!==r?function p9(n){for(let t=0;t<n.length;t++)if(YC(n[t]))return t;return n.length}(r):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!d9(n,c,e)||""===c&&1===t.length){if(ko(i))return!1;s=!0}}else if(8&i){if(null===r||!l9(n,r,c,e)){if(ko(i))return!1;s=!0}}else{const l=t[++a],d=h9(c,r,Ow(n),e);if(-1===d){if(ko(i))return!1;s=!0;continue}if(""!==l){let u;if(u=d>o?"":r[d+1].toLowerCase(),2&i&&l!==u){if(ko(i))return!1;s=!0}}}}else{if(!s&&!ko(i)&&!ko(c))return!1;if(s&&ko(c))continue;s=!1,i=c|1&i}}return ko(i)||s}function ko(n){return!(1&n)}function h9(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function f9(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function A1(n,t,e=!1){for(let i=0;i<t.length;i++)if(u9(n,t[i],e))return!0;return!1}function g9(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function T1(n,t){return n?":not("+t.trim()+")":t}function _9(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ko(s)&&(t+=T1(o,r),r=""),i=s,o=o||!ko(i);e++}return""!==r&&(t+=T1(o,r)),t}const un={};function Pw(n,t,e,i,r,o,s,a,c,l,d){const u=27+i,h=u+r,m=function v9(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:un);return e}(u,h),g="function"==typeof l?l():l;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:d}}function Gf(n,t,e,i,r,o,s,a,c,l,d){const u=t.blueprint.slice();return u[0]=r,u[2]=1228|i,(null!==l||n&&2048&n[2])&&(u[2]|=2048),WT(u),u[3]=u[14]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[9]=c||n&&n[9]||null,u[5]=o,u[19]=function lq(){return cq++}(),u[6]=d,u[20]=l,u[15]=2==t.type?n[15]:u,u}function Nw(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function nh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Lw(n,t){return n[12]?n[13][4]=t:n[12]=t,n[13]=t,t}function f(n=1){M1(Ct(),Ee(),Li()+n,!1)}function M1(n,t,e,i){if(!i)if(3&~t[2]){const o=n.preOrderHooks;null!==o&&bf(t,o,0,e)}else{const o=n.preOrderCheckHooks;null!==o&&_f(t,o,e)}ac(e)}var ih=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ih||{});function Xl(n,t,e,i){const r=S(null);try{const[o,s,a]=n.inputs[e];let c=null;0!==(s&ih.SignalBased)&&(c=t[o][$]),null!==c&&void 0!==c.transformFn?i=c.transformFn(i):null!==a&&(i=a.call(t,i)),null!==n.setInput?n.setInput(t,c,i,e,o):PI(t,c,o,i)}finally{S(r)}}var pa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pa||{});function Bw(n,t){return undefined(n,t)}const pc=new Set;var Hw=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Hw||{});const fc=new Z(""),N1=new Set;function Bi(n){N1.has(n)||(N1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let jw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();const L1=[0,1,2,3];let F1=(()=>{class n{ngZone=p($e);scheduler=p(lc);errorHandler=p(cc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(fc,{optional:!0})}execute(){const e=this.sequences.size>0;e&&pn(et.AfterRenderHooksStart),this.executing=!0;for(const i of L1)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[i])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,r.hooks[i])(r.pipelinedValue),r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&pn(et.AfterRenderHooksEnd)}register(e){const{view:i}=e;void 0!==i?((i[25]??=[]).push(e),Bl(i),i[2]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Hw.AFTER_NEXT_RENDER,e):e()}static \u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();class B1{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(e=>e!==this))}}function pi(n,t){const e=t?.injector??p(kt);return Bi("NgAfterNextRender"),function H1(n,t,e,i){const r=t.get(jw);r.impl??=t.get(F1);const o=t.get(fc,null,{optional:!0}),s=!0!==e?.manualCleanup?t.get(So):null,a=t.get(hf,null,{optional:!0}),c=new B1(r.impl,function A9(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}(n,e,t,!0)}const Kf=new Z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:p(hi)})});function j1(n,t,e){const i=n.get(Kf);if(Array.isArray(t))for(const r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function U1(n,t,e,i){const r=n?.[26]?.enter;null!==t&&r&&r.has(e.index)&&function Uw(n,t){for(const[e,i]of t)j1(n,i.animateFns)}(i,r)}function Jl(n,t,e,i,r,o,s,a){if(null!=r){let c,l=!1;cr(r)?c=r:qn(r)&&(l=!0,r=r[0]);const d=xi(r);0===n&&null!==i?(U1(a,i,o,e),null==s?_1(t,i,d):mc(t,i,d,s||null,!0)):1===n&&null!==i?(U1(a,i,o,e),mc(t,i,d,s||null,!0)):2===n?q1(a,o,e,u=>{eh(t,d,l,u)}):3===n&&q1(a,o,e,()=>{t.destroyNode(d)}),null!=c&&function F9(n,t,e,i,r,o,s){const a=i[7];a!==xi(i)&&Jl(t,n,e,o,a,r,s);for(let l=10;l<i.length;l++){const d=i[l];Xf(d[1],d,n,t,o,a)}}(t,n,e,c,o,i,s)}}function z1(n,t){t[10].changeDetectionScheduler?.notify(9),Xf(n,t,t[11],2,null,null)}function Vw(n,t){const e=n[9],i=e.indexOf(t);e.splice(i,1)}function rh(n,t){if(xs(t))return;const e=t[11];e.destroyNode&&Xf(n,t,e,3,null,null),function R9(n){let t=n[12];if(!t)return zw(n[1],n);for(;t;){let e=null;if(qn(t))e=t[12];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)qn(t)&&zw(t[1],t),t=t[3];null===t&&(t=n),qn(t)&&zw(t[1],t),e=t&&t[4]}t=e}}(t)}function zw(n,t){if(xs(t))return;const e=S(null);try{t[2]&=-129,t[2]|=256,t[24]&&W(t[24]),function N9(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof zu)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];pn(et.LifecycleHookStart,a,c);try{c.call(a)}finally{pn(et.LifecycleHookEnd,a,c)}}else{pn(et.LifecycleHookStart,r,o);try{o.call(r)}finally{pn(et.LifecycleHookEnd,r,o)}}}}}(n,t),function P9(n,t){const e=n.cleanup,i=t[7];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[7]=null);const r=t[21];if(null!==r){t[21]=null;for(let s=0;s<r.length;s++)(0,r[s])()}const o=t[23];if(null!==o){t[23]=null;for(const s of o)s.destroy()}}(n,t),1===t[1].type&&t[11].destroy();const i=t[16];if(null!==i&&cr(t[3])){i!==t[3]&&Vw(i,t);const r=t[18];null!==r&&r.detachView(n)}iw(t)}finally{S(e)}}function q1(n,t,e,i){const r=n?.[26];if(null==r||null==r.leave||!r.leave.has(t.index))return i(!1);n&&pc.add(n),j1(e,()=>{if(r.leave&&r.leave.has(t.index)){const s=r.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){const l=s.animateFns[c],{promise:d}=l();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),function O9(n,t){const e=n[26]?.running;e?e.then(()=>{n[26].running=void 0,pc.delete(n),t(!0)}):t(!1)}(n,i)}else n&&pc.delete(n),i(!1)},r)}function qw(n,t,e){return function $1(n,t,e){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return e[0];if(qo(i)){const{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===oo.None||r===oo.Emulated)return null}return $n(i,e)}(n,t.parent,e)}function G1(n,t,e){return K1(n,t,e)}let K1=function W1(n,t,e){return 40&n.type?$n(n,e):null};function Gw(n,t,e,i){const r=qw(n,i,t),o=t[11],a=G1(i.parent||t[5],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)b1(o,r,e[c],a,!1);else b1(o,r,e,a,!1)}function gc(n,t){if(null!==t){const e=t.type;if(3&e)return $n(t,n);if(4&e)return Qf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return gc(n,i);{const r=n[t.index];return cr(r)?Qf(-1,r):xi(r)}}if(128&e)return gc(n,t.next);if(32&e)return Bw(t,n)()||xi(n[t.index]);{const i=Q1(n,t);return null!==i?Array.isArray(i)?i[0]:gc(Es(n[15]),i):gc(n,t.next)}}return null}function Q1(n,t){return null!==t?n[15][5].projection[t.projection]:null}function Qf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return gc(i,r)}return t[7]}function Ww(n,t,e,i,r,o,s){for(;null!=e;){const a=i[9];if(128===e.type){e=e.next;continue}const c=i[e.index],l=e.type;if(s&&0===t&&(c&&Er(xi(c),i),e.flags|=2),!Of(e))if(8&l)Ww(n,t,e.child,i,r,o,!1),Jl(t,n,a,r,c,e,o,i);else if(32&l){const d=Bw(e,i);let u;for(;u=d();)Jl(t,n,a,r,u,e,o,i);Jl(t,n,a,r,c,e,o,i)}else 16&l?X1(n,t,i,e,r,o):Jl(t,n,a,r,c,e,o,i);e=s?e.projectionNext:e.next}}function Xf(n,t,e,i,r,o){Ww(e,i,n.firstChild,t,r,o,!1)}function X1(n,t,e,i,r,o){const s=e[15],c=s[5].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Jl(t,n,e[9],r,c[l],i,o,e);else{let l=c;const d=s[3];Wu(i)&&(l.flags|=128),Ww(n,t,l,d,r,o,!0)}}function Z1(n,t,e,i,r){const o=Li(),s=2&i;try{ac(-1),s&&t.length>27&&M1(n,t,27,!1),pn(s?et.TemplateUpdateStart:et.TemplateCreateStart,r,e),e(i,r)}finally{ac(o),pn(s?et.TemplateUpdateEnd:et.TemplateCreateEnd,r,e)}}function Zf(n,t,e){(function z9(n,t,e){const i=e.directiveStart,r=e.directiveEnd;qo(e)&&function C9(n,t,e){const i=$n(t,n),r=function I1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Pw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}(e),o=n[10].rendererFactory,s=Lw(n,Gf(n,r,null,Nw(e),i,t,null,o.createRenderer(i,e),null,null,null));n[t.index]=s}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||vf(e,t);const o=e.initialInputs;for(let s=i;s<r;s++){const a=n.data[s],c=Gu(t,n,s,e);Er(c,t),null!==o&&W9(0,s-i,c,a,0,o),xo(a)&&(lr(e.index,t)[8]=Gu(t,n,s,e))}})(n,t,e),!(64&~e.flags)&&function q9(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function K8(){return Et.lFrame.currentDirectiveIndex}();try{ac(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];NC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&$9(c,l)}}finally{ac(-1),NC(s)}}(n,t,e)}function ed(n,t,e=$n){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}let J1=()=>null;function Jf(n,t,e,i,r,o){ig(n,t[1],t,e,i)?qo(n)&&function e2(n,t){const e=lr(t,n);16&e[2]||(e[2]|=64)}(t,n.index):(3&n.type&&(e=function V9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(e)),Kw(n,t,e,i,r,o))}function Kw(n,t,e,i,r,o){if(3&n.type){const s=$n(n,t);i=null!=o?o(i,n.value||"",e):i,r.setProperty(s,e,i)}}function $9(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Yw(n,t){const e=n.directiveRegistry;let i=null;if(e)for(let r=0;r<e.length;r++){const o=e[r];A1(t,o.selectors,!1)&&(i??=[],xo(o)?i.unshift(o):i.push(o))}return i}function W9(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;a+=2)Xl(i,e,s[a],s[a+1])}function tg(n,t,e,i,r){const o=27+e,s=t[1],a=r(s,t,n,i,e);t[o]=a,Ss(n,!0);const c=2===n.type;return c?(v1(t[11],a,n),(0===function V8(){return Et.lFrame.elementDepthCount}()||Nl(n))&&Er(a,t),function z8(){Et.lFrame.elementDepthCount++}()):Er(a,t),lf()&&(!c||!Of(n))&&Gw(s,t,a,n),n}function ng(n){let t=n;return rI()?oI():(t=t.parent,Ss(t,!1)),t}function ig(n,t,e,i,r){const o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const l=s[c];Xl(t.data[l],e[l],s[c+1],r),a=!0}if(o)for(const c of o)Xl(t.data[c],e[c],i,r),a=!0;return a}function Y9(n,t){const e=lr(t,n),i=e[1];!function Q9(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[0];null!==r&&null===e[6]&&(e[6]=null),pn(et.ComponentStart);try{rg(i,e,e[8])}finally{pn(et.ComponentEnd,e[8])}}function rg(n,t,e){BC(t);try{const i=n.viewQuery;null!==i&&Dw(1,i,e);const r=n.template;null!==r&&Z1(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[18]?.finishViewCreation(n),n.staticContentQueries&&ZM(n,t),n.staticViewQueries&&Dw(2,n.viewQuery,e);const o=n.components;null!==o&&function X9(n,t){for(let e=0;e<t.length;e++)Y9(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,HC()}}function td(n,t,e,i){const r=S(null);try{const o=t.tView,c=Gf(n,o,e,4096&n[2]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[16]=n[t.index];const d=n[18];return null!==d&&(c[18]=d.createEmbeddedView(o)),rg(o,c,e),c}finally{S(r)}}function _c(n,t){return!t||null===t.firstChild||Wu(n)}function oh(n,t,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=t[e.index];null!==o&&i.push(xi(o)),cr(o)&&Z9(o,i);const s=e.type;if(8&s)oh(n,t,e.child,i);else if(32&s){const a=Bw(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Q1(t,e);if(Array.isArray(a))i.push(...a);else{const c=Es(t[15]);oh(c[1],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function Z9(n,t){for(let e=10;e<n.length;e++){const i=n[e],r=i[1].firstChild;null!==r&&oh(i[1],i,r,t)}n[7]!==n[0]&&t.push(n[7])}function i2(n){if(null!==n[25]){for(const t of n[25])t.impl.addSequence(t);n[25].length=0}}let r2=[];const n$={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Bl(n.lView)},consumerOnSignalRead(){this.lView[24]=this}},r$={...k,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Es(n.lView);for(;t&&!o2(t[1]);)t=Es(t);t&&KT(t)},consumerOnSignalRead(){this.lView[24]=this}};function o2(n){return 2!==n.type}function s2(n){if(null===n[23])return;let t=!0;for(;t;){let e=!1;for(const i of n[23])i.dirty&&(e=!0,null===i.zone||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(8192&n[2])}}function og(n,t=0){const i=n[10].rendererFactory;i.begin?.();try{!function s$(n,t){const e=cI();try{sf(!0),Xw(n,t);let i=0;for(;nf(n);){if(100===i)throw new re(103,!1);i++,Xw(n,1)}}finally{sf(e)}}(n,t)}finally{i.end?.()}}function a2(n,t,e,i){if(xs(t))return;const r=t[2];BC(t);let a=!0,c=null,l=null;o2(n)?(l=function J9(n){return n[24]??function e$(n){const t=r2.pop()??Object.create(n$);return t.lView=n,t}(n)}(t),c=me(l)):null===function I(){return ye}()?(a=!1,l=function i$(n){const t=n[24]??Object.create(r$);return t.lView=n,t}(t),c=me(l)):t[24]&&(W(t[24]),t[24]=null);try{WT(t),function lI(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Z1(n,t,e,2,i);const d=!(3&~r);if(d){const m=n.preOrderCheckHooks;null!==m&&_f(t,m,null)}else{const m=n.preOrderHooks;null!==m&&bf(t,m,0,null),WC(t,0)}if(function a$(n){for(let t=fM(n);null!==t;t=gM(t)){if(!(2&t[2]))continue;const e=t[9];for(let i=0;i<e.length;i++)KT(e[i])}}(t),s2(t),c2(t,0),null!==n.contentQueries&&ZM(n,t),d){const m=n.contentCheckHooks;null!==m&&_f(t,m)}else{const m=n.contentHooks;null!==m&&bf(t,m,1),WC(t,1)}!function l$(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)ac(~r);else{const o=r,s=e[++i],a=e[++i];W8(s,o);const c=t[o];pn(et.HostBindingsUpdateStart,c);try{a(2,c)}finally{pn(et.HostBindingsUpdateEnd,c)}}}}finally{ac(-1)}}(n,t);const u=n.components;null!==u&&d2(t,u,0);const h=n.viewQuery;if(null!==h&&Dw(2,h,i),d){const m=n.viewCheckHooks;null!==m&&_f(t,m)}else{const m=n.viewHooks;null!==m&&bf(t,m,2),WC(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[22]){for(const m of t[22])m();t[22]=null}i2(t),t[2]&=-73}catch(d){throw Bl(t),d}finally{null!==l&&(z(l,c),a&&function t$(n){n.lView[24]!==n&&(n.lView=null,r2.push(n))}(l)),HC()}}function c2(n,t){for(let e=fM(n);null!==e;e=gM(e))for(let i=10;i<e.length;i++)l2(e[i],t)}function c$(n,t,e){pn(et.ComponentStart);const i=lr(t,n);try{l2(i,e)}finally{pn(et.ComponentEnd,i[8])}}function l2(n,t){TC(n)&&Xw(n,t)}function Xw(n,t){const i=n[1],r=n[2],o=n[24];let s=!!(0===t&&16&r);if(s||=!!(64&r&&0===t),s||=!!(1024&r),s||=!(!o?.dirty||!L(o)),s||=!1,o&&(o.dirty=!1),n[2]&=-9217,s)a2(i,n,i.template,n[8]);else if(8192&r){const a=S(null);try{s2(n),c2(n,1);const c=i.components;null!==c&&d2(n,c,1),i2(n)}finally{S(a)}}}function d2(n,t,e){for(let i=0;i<t.length;i++)c$(n,t[i],e)}function nd(n,t){const e=cI()?64:1088;for(n[10].changeDetectionScheduler?.notify(t);n;){n[2]|=e;const i=Es(n);if(ca(n)&&!i)return n;n=i}return null}function u2(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function h2(n,t){const e=10+t;if(e<n.length)return n[e]}function id(n,t,e,i=!0){const r=t[1];if(function d$(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],IT(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[16];null!==s&&e!==s&&m2(s,t);const a=t[18];null!==a&&a.insertView(n),IC(t),t[2]|=128}(r,t,n,e),i){const s=Qf(e,n),a=t[11],c=a.parentNode(n[7]);null!==c&&function M9(n,t,e,i,r,o){i[0]=r,i[5]=t,Xf(n,i,e,1,r,o)}(r,n[5],a,t,c,s)}const o=t[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Zw(n,t){const e=sh(n,t);return void 0!==e&&rh(e[1],e),e}function sh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[16];null!==r&&r!==n&&Vw(r,i),t>0&&(n[e-1][4]=i[4]);const o=$p(n,10+t);!function V1(n,t){z1(n,t),t[0]=null,t[5]=null}(i[1],i);const s=o[18];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function m2(n,t){const e=n[9],i=t[3];(qn(i)||t[15]!==i[3][15])&&(n[2]|=2),null===e?n[9]=[t]:e.push(t)}class ah{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,e=t[1];return oh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return xs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(sh(t,i),$p(e,i))}this._attachedToViewContainer=!1}rh(this._lView[1],this._lView)}onDestroy(t){rf(this._lView,t)}markForCheck(){nd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){IC(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,og(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ca(this._lView),e=this._lView[16];null!==e&&!t&&Vw(e,this._lView),z1(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=t;const e=ca(this._lView),i=this._lView[16];null!==i&&!e&&m2(i,this._lView),IC(this._lView)}}let Ln=(()=>class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=u$;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){const o=td(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new ah(o)}})();function u$(){return sg(St(),Ee())}function sg(n,t){return 4&n.type?new Ln(t,n,Gl(n,t)):null}function bc(n,t,e,i,r){let o=n.data[t];if(null===o)o=function n0(n,t,e,i,r){const o=iI(),s=rI(),c=n.data[t]=function v$(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return eI()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return function y$(n,t,e,i){null===n.firstChild&&(n.firstChild=t),null!==e&&(i?null==e.child&&null!==t.parent&&(e.child=t):null===e.next&&(e.next=t,t.prev=e))}(n,c,o,s),c}(n,t,e,i,r),function G8(){return Et.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function ju(){const n=Et.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ss(o,!0),o}function R2(n,t){let e=0,i=n.firstChild;if(i){const r=n.data.r;for(;e<r;){const o=i.nextSibling;eh(t,i,!1),i=o,e++}}}let nG=class{},B2=class{};class iG{resolveComponentFactory(t){throw new re(917,!1)}}let pg=class{static NULL=new iG};class Sr{}let ai=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function rG(){const n=Ee(),e=lr(St().index,n);return(qn(e)?e:n)[11]}()})(),oG=(()=>{class n{static \u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();const u0={};class od{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,u0,i);return r!==u0||e===u0?r:this.parentInjector.get(t,e,i)}}function gg(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=oC(r,a):2==o&&(i=oC(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function R(n,t=0){const e=Ee();return null===e?J(n,t):YI(St(),e,jt(n),t)}function U2(n,t,e,i,r){const o=null===i?null:{"":-1},s=r(n,e);if(null!==s){let a=s,c=null,l=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,c,l]=d.resolveHostDirectives(s);break}!function uG(n,t,e,i,r,o,s){const a=i.length;let c=null;for(let h=0;h<a;h++){const m=i[h];null===c&&xo(m)&&(c=m,dG(n,e,h)),JC(vf(e,t),n,m.type)}(function _G(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t})(e,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){const m=i[h];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,u=nh(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let h=0;h<a;h++){const m=i[h];if(e.mergedAttrs=$l(e.mergedAttrs,m.hostAttrs),mG(n,e,t,u,m),gG(u,m,r),null!==s&&s.has(m)){const[y,v]=s.get(m);e.directiveToIndex.set(m.type,[u,y+e.directiveStart,v+e.directiveStart])}else(null===o||!o.has(m))&&e.directiveToIndex.set(m.type,u);null!==m.contentQueries&&(e.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=64);const g=m.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!d&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),d=!0),u++}!function hG(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){const r=n.data[i];if(null!==e&&e.has(r)){const o=e.get(r);z2(0,t,o,i),z2(1,t,o,i),$2(t,i,!0)}else V2(0,t,r,i),V2(1,t,r,i),$2(t,i,!1)}}(n,e,o)}(n,t,e,a,o,c,l)}null!==o&&null!==i&&function lG(n,t,e){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new re(-301,!1);i.push(t[r],o)}}(e,i,o)}function dG(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function V2(n,t,e,i){const r=0===n?e.inputs:e.outputs;for(const o in r)if(r.hasOwnProperty(o)){let s;s=0===n?t.inputs??={}:t.outputs??={},s[o]??=[],s[o].push(i),q2(t,o)}}function z2(n,t,e,i){const r=0===n?e.inputs:e.outputs;for(const o in r)if(r.hasOwnProperty(o)){const s=r[o];let a;a=0===n?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),q2(t,s)}}function q2(n,t){"class"===t?n.flags|=8:"style"===t&&(n.flags|=16)}function $2(n,t,e){const{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(null===i||!e&&null===r||e&&null===o||Ow(n))return n.initialInputs??=[],void n.initialInputs.push(null);let s=null,a=0;for(;a<i.length;){const c=i[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!e&&r.hasOwnProperty(c)){const l=r[c];for(const d of l)if(d===t){s??=[],s.push(c,i[a+1]);break}}else if(e&&o.hasOwnProperty(c)){const l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){s??=[],s.push(l[d+1],i[a+1]);break}}a+=2}else a+=2;else a+=4}n.initialInputs??=[],n.initialInputs.push(s)}function mG(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=tc(r.type)),s=new zu(o,xo(r),R,null);n.blueprint[i]=s,e[i]=s,function pG(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function fG(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,nh(n,e,r.hostVars,un),r)}function gG(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;xo(t)&&(e[""]=n)}}function h0(n,t,e,i,r,o,s,a){const c=t[1],l=c.consts,u=bc(c,n,e,i,Gi(l,s));return o&&U2(c,t,u,Gi(l,a),r),u.mergedAttrs=$l(u.mergedAttrs,u.attrs),null!==u.attrs&&gg(u,u.attrs,!1),null!==u.mergedAttrs&&gg(u,u.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,u),u}function m0(n,t){BI(n,t),UT(t)&&n.queries.elementEnd(t)}function p0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qo(n,t,e){return n[t]=e}function Mn(n,t,e){return e!==un&&(!Object.is(n[t],e)&&(n[t]=e,!0))}function Cc(n,t,e,i){const r=Mn(n,t,e);return Mn(n,t+1,i)||r}function Ms(n,t,e){return function i(r){nd(qo(n)?lr(n.index,t):t,5);const s=t[8];let a=K2(t,s,e,r),c=i.__ngNextListenerFn__;for(;c;)a=K2(t,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function K2(n,t,e,i){const r=S(null);try{return pn(et.OutputStart,t,e),!1!==e(i)}catch(o){return function Qw(n,t){const e=n[9];if(!e)return;let i;try{i=e.get(As,null)}catch{i=null}i?.(t)}(n,o),!1}finally{pn(et.OutputEnd,t,e),S(r)}}function yg(n,t,e,i,r,o,s,a){const c=Nl(n);let l=!1,d=null;if(!i&&c&&(d=function wG(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],c=r[o+2];return a&&a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,o,n.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0;else{const u=$n(n,e),h=i?i(u):u,m=r.listen(h,o,a);(function CG(n){return n.startsWith("animation")||n.startsWith("transition")})(o)||Y2(i?y=>i(xi(y[n.index])):n.index,t,e,o,a,m,!1)}return l}function Y2(n,t,e,i,r,o,s){const a=t.firstCreatePass?XT(t):null,c=QT(e),l=c.length;c.push(r,o),a&&a.push(i,n,l,(l+1)*(s?-1:1))}function sd(n,t,e,i,r,o){const a=t[1],u=t[e][a.data[e].outputs[i]].subscribe(o);Y2(n.index,a,t,r,o,u,!0)}const Rs=Symbol("BINDING");class Z2 extends pg{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=cn(t);return new vg(e,this.ngModule)}}class vg extends B2{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function IG(n){return Object.keys(n).map(t=>{const[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:0!==(i&ih.SignalBased)};return r&&(o.transform=r),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function MG(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function b9(n){return n.map(_9).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,s){pn(et.DynamicComponentStart);const a=S(null);try{const c=this.componentDef,l=function LG(n,t,e,i){const r=n?["ng-version","21.0.5"]:function y9(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!ko(r))break;r=o}i++}return e.length&&t.push(1,...e),t}(t.selectors[0]);let o=null,s=null,a=0;if(e)for(const d of e)a+=d[Rs].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){const u=i[d];if("function"!=typeof u)for(const h of u.bindings){a+=h[Rs].requiredVars;const m=d+1;h.create&&(h.targetIdx=m,(o??=[]).push(h)),h.update&&(h.targetIdx=m,(s??=[]).push(h))}}const c=[t];if(i)for(const d of i){const h=ar("function"==typeof d?d:d.type);c.push(h)}return Pw(0,null,function FG(n,t){return n||t?e=>{if(1&e&&n)for(const i of n)i.create();if(2&e&&t)for(const i of t)i.update()}:null}(o,s),1,a,c,null,null,null,[r],null)}(i,c,s,o),d=function RG(n,t,e){let i=t instanceof hi?t:t?.injector;return i&&null!==n.getStandaloneInjector&&(i=n.getStandaloneInjector(i)||i),i?new od(e,i):e}(c,r||this.ngModule,t),u=function OG(n){const t=n.get(Sr,null);if(null===t)throw new re(407,!1);return{rendererFactory:t,sanitizer:n.get(oG,null),changeDetectionScheduler:n.get(lc,null),ngReflect:!1}}(d),h=u.rendererFactory.createRenderer(null,c),m=i?function H9(n,t,e,i){const o=i.get(Bq,!1)||e===oo.ShadowDom||e===oo.ExperimentalIsolatedShadowDom,s=n.selectRootElement(t,o);return function j9(n){J1(n)}(s),s}(h,i,c.encapsulation,d):function PG(n,t){const e=function NG(n){return(n.selectors[0][0]||"div").toLowerCase()}(n);return qf(t,e,"svg"===e?"svg":"math"===e?"math":null)}(c,h),g=s?.some(J2)||o?.some(F=>"function"!=typeof F&&F.bindings.some(J2)),y=Gf(null,l,null,512|Nw(c),null,null,u,h,d,null,null);y[27]=m,BC(y);let v=null;try{const F=h0(27,y,2,"#host",()=>l.directiveRegistry,!0,0);v1(h,m,F),Er(m,y),Zf(l,y,F),xw(l,F,y),m0(l,F),void 0!==e&&function HG(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o&&o.length?Array.from(o):null)}}(F,this.ngContentSelectors,e),v=lr(F.index,y),y[8]=v[8],rg(l,y,null)}catch(F){throw null!==v&&iw(v),iw(y),F}finally{pn(et.DynamicComponentEnd),HC()}return new BG(this.componentType,y,!!g)}finally{S(a)}}}function J2(n){const t=n[Rs].kind;return"input"===t||"twoWay"===t}class BG extends nG{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=Fl(e[1],27),this.location=Gl(this._tNode,e),this.instance=lr(this._tNode.index,e)[8],this.hostView=this.changeDetectorRef=new ah(e,void 0),this.componentType=t}setInput(t,e){const i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const r=this._rootLView;ig(i,r[1],r,t,e),this.previousInputValues.set(t,e),nd(lr(i.index,r),1)}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Un=(()=>class n{static __NG_ELEMENT_ID__=jG})();function jG(){return nR(St(),Ee())}const UG=Un,eR=class extends UG{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cf(this._hostTNode,this._hostLView);if(QC(t)){const e=$u(t,this._hostLView),i=qu(t);return new ni(e[1].data[i+8],e)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=tR(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,_c(this._hostTNode,null)),a}createComponent(t,e,i,r,o,s,a){const c=t&&!function Vu(n){return"function"==typeof n}(t);let l;if(c)l=e;else{const v=e||{};l=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}const d=c?t:new vg(cn(t)),u=i||this.parentInjector;if(!o&&null==d.ngModule){const F=(c?u:this.parentInjector).get(hi,null);F&&(o=F)}cn(d.componentType??{});const y=d.create(u,r,null,o,s,a);return this.insertImpl(y.hostView,l,_c(this._hostTNode,null)),y}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function U8(n){return cr(n[3])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=r[3],l=new eR(c,c[5],c[3]);l.detach(l.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;return id(s,r,o,i),t.attachToViewContainerRef(),IT(f0(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=tR(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=sh(this._lContainer,e);i&&($p(f0(this._lContainer),e),rh(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=sh(this._lContainer,e);return i&&null!=$p(f0(this._lContainer),e)?new ah(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function tR(n){return n[8]}function f0(n){return n[8]||(n[8]=[])}function nR(n,t){let e;const i=t[n.index];return cr(i)?e=i:(e=u2(i,t,null,n),t[n.index]=e,Lw(t,e)),iR(e,t,n,i),new eR(e,n,t)}let iR=function oR(n,t,e,i){if(n[7])return;let r;r=8&e.type?xi(i):function VG(n,t){const e=n[11],i=e.createComment(""),r=$n(t,n),o=e.parentNode(r);return mc(e,o,i,e.nextSibling(r),!1),i}(t,e),n[7]=r};class _0{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new _0(this.queryList)}setDirty(){this.queryList.setDirty()}}class b0{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new b0(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==D0(t,e).matches&&this.queries[e].setDirty()}}class sR{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function YG(n){return n.split(",").map(t=>t.trim())}(t):t}}class y0{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new y0(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class v0{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new v0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,$G(e,o)),this.matchTNodeWithReadOption(t,e,wf(e,t,o,!1,!1))}else i===Ln?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,wf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===nt||r===Un||r===Ln&&4&e.type)this.addMatch(e.index,-2);else{const o=wf(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $G(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function WG(n,t,e,i){return-1===e?function GG(n,t){return 11&n.type?Gl(n,t):4&n.type?sg(n,t):null}(t,n):-2===e?function KG(n,t,e){return e===nt?Gl(t,n):e===Ln?sg(t,n):e===Un?nR(t,n):void 0}(n,t,i):Gu(n,n[1],e,t)}function aR(n,t,e,i){const r=t[18].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:WG(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function C0(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=aR(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let u=10;u<d.length;u++){const h=d[u];h[16]===h[3]&&C0(h[1],h,l,i)}if(null!==d[9]){const u=d[9];for(let h=0;h<u.length;h++){const m=u[h];C0(m[1],m,l,i)}}}}}return i}function w0(n,t){return n[18].queries[t].queryList}function cR(n,t,e){const i=new Wl(!(4&~e));return function ZT(n,t,e,i){const r=QT(t);r.push(e),n.firstCreatePass&&XT(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[18]??=new b0).queries.push(new _0(i))-1}function lR(n,t,e){const i=Ct();return i.firstCreatePass&&(uR(i,new sR(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),cR(i,Ee(),t)}function dR(n,t,e,i){const r=Ct();if(r.firstCreatePass){const o=St();uR(r,new sR(t,e,i),o.index),function QG(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),!(2&~e)&&(r.staticContentQueries=!0)}return cR(r,Ee(),e)}function uR(n,t,e){null===n.queries&&(n.queries=new y0),n.queries.track(new v0(t,e))}function D0(n,t){return n.queries.getByIndex(t)}function hR(n,t){const e=n[1],i=D0(e,t);return i.crossesNgTemplate?C0(e,n,t,[]):aR(e,n,i,t)}function x0(n,t,e){let i;const r=Me(()=>{i._dirtyCounter();const o=function ZG(n,t){const e=n._lView,i=n._queryIndex;if(void 0===e||void 0===i||4&e[2])return t?void 0:xn;const r=w0(e,i),o=hR(e,i);return r.reset(o,rM),t?r.first:r._changesDetected||void 0===n._flatValue?n._flatValue=r.toArray():n._flatValue}(i,n);if(t&&void 0===o)throw new re(-951,!1);return o});return i=r[$],i._dirtyCounter=Pn(0),i._flatValue=void 0,r}function mR(n){return x0(!0,!1)}function pR(n){return x0(!0,!0)}function fR(n,t){const e=n[$];e._lView=Ee(),e._queryIndex=t,e._queryList=w0(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}let Os=class{},yR=class{};class A0 extends Os{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Z2(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;const o=Vo(t);this._bootstrapComponents=Yo(o.bootstrap),this._r3Injector=bI(t,e,[{provide:Os,useValue:this},{provide:pg,useValue:this.componentFactoryResolver},...i],wr(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vR extends yR{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new A0(this.moduleType,t,[])}}class sW extends Os{injector;componentFactoryResolver=new Z2(this);instance=null;constructor(t){super();const e=new nc([...t.providers,{provide:Os,useValue:this},{provide:pg,useValue:this.componentFactoryResolver}],t.parent||Zp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function T0(n,t,e=null){return new sW({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let aW=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=bC(0,e.type),r=i.length>0?T0([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(J(hi))})}return n})();function qe(n){return Ts(()=>{const t=wR(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ef.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(aW).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||oo.Emulated,styles:n.styles||xn,_:null,schemas:n.schemas||null,tView:null,id:""};t.standalone&&Bi("NgStandalone"),DR(e);const i=n.dependencies;return e.directiveDefs=Cg(i,CR),e.pipeDefs=Cg(i,Do),e.id=function uW(n){let t=0;const i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function CR(n){return cn(n)||ar(n)}function wt(n){return Ts(()=>({type:n.type,bootstrap:n.bootstrap||xn,declarations:n.declarations||xn,imports:n.imports||xn,exports:n.exports||xn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cW(n,t){if(null==n)return zo;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=ih.None,c=null),e[o]=[i,a,c],t[o]=s}return e}function lW(n){if(null==n)return zo;const t={};for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function fe(n){return Ts(()=>{const t=wR(n);return DR(t),t})}function ur(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function wR(n){const t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||zo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||xn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:cW(n.inputs,t),outputs:lW(n.outputs),debugInfo:null}}function DR(n){n.features?.forEach(t=>t(n))}function Cg(n,t){return n?()=>{const e="function"==typeof n?n():n,i=[];for(const r of e){const o=t(r);null!==o&&i.push(o)}return i}:null}function xR(n){const t=e=>{const i=Array.isArray(n);null===e.hostDirectives?(e.resolveHostDirectives=hW,e.hostDirectives=i?n.map(I0):[n]):i?e.hostDirectives.unshift(...n.map(I0)):e.hostDirectives.unshift(n)};return t.ngInherit=!0,t}function hW(n){const t=[];let e=!1,i=null,r=null;for(let o=0;o<n.length;o++){const s=n[o];if(null!==s.hostDirectives){const a=t.length;i??=new Map,r??=new Map,ER(s,t,i),r.set(s,[a,t.length-1])}0===o&&xo(s)&&(e=!0,t.push(s))}for(let o=e?1:0;o<n.length;o++)t.push(n[o]);return[t,i,r]}function ER(n,t,e){if(null!==n.hostDirectives)for(const i of n.hostDirectives)if("function"==typeof i){const r=i();for(const o of r)SR(I0(o),t,e)}else SR(i,t,e)}function SR(n,t,e){const i=ar(n.directive);(function mW(n,t){for(const e in t)t.hasOwnProperty(e)&&(n[t[e]]=n[e])})(i.declaredInputs,n.inputs),ER(i,t,e),e.set(i,n),t.push(i)}function I0(n){return"function"==typeof n?{directive:jt(n),inputs:zo,outputs:zo}:{directive:jt(n.directive),inputs:kR(n.inputs),outputs:kR(n.outputs)}}function kR(n){if(void 0===n||0===n.length)return zo;const t={};for(let e=0;e<n.length;e+=2)t[n[e]]=n[e+1];return t}function Ge(n){let t=function pW(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(xo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new re(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=M0(n.inputs),s.declaredInputs=M0(n.declaredInputs),s.outputs=M0(n.outputs);const a=r.hostBindings;a&&yW(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&_W(n,c),l&&bW(n,l),fW(n,r),t8(n.outputs,r.outputs),xo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ge&&(e=!1)}}t=Object.getPrototypeOf(t)}!function gW(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=$l(r.hostAttrs,e=$l(e,r.hostAttrs))}}(i)}function fW(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function M0(n){return n===zo?{}:n===xn?[]:n}function _W(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function bW(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function yW(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function TR(n,t,e,i,r,o,s,a){if(e.firstCreatePass){n.mergedAttrs=$l(n.mergedAttrs,n.attrs);const d=n.tView=Pw(2,n,r,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);null!==e.queries&&(e.queries.template(e,n),d.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),Ss(n,!1);const c=IR(e,t,n,i);lf()&&Gw(e,t,c,n),Er(c,t);const l=u2(c,t,c,n);t[i+27]=l,Lw(t,l)}function Dc(n,t,e,i,r,o,s,a,c,l,d){const u=e+27;let h;if(t.firstCreatePass){if(h=bc(t,u,4,s||null,a||null),null!=l){const m=Gi(t.consts,l);h.localNames=[];for(let g=0;g<m.length;g+=2)h.localNames.push(m[g],-1)}}else h=t.data[u];return TR(h,n,t,e,i,r,o,c),null!=l&&ed(n,h,d),h}function Vn(n,t,e,i,r,o,s,a){const c=Ee(),l=Ct();return function vW(n,t,e,i,r,o,s,a,c,l,d){const u=e+27;let h;t.firstCreatePass?(h=bc(t,u,4,s||null,a||null),PC()&&U2(t,n,h,Gi(t.consts,l),Yw),BI(t,h)):h=t.data[u],TR(h,n,t,e,i,r,o,c),Nl(h)&&Zf(t,n,h),null!=l&&ed(n,h,d)}(c,l,n,t,e,i,r,Gi(l.consts,o),void 0,s,a),Vn}function wg(n,t,e,i,r,o,s,a){const c=Ee(),l=Ct();return Dc(c,l,n,t,e,i,r,Gi(l.consts,o),void 0,s,a),wg}let IR=function MR(n,t,e,i){return Uu(!0),t[11].createComment("")};let qR=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function md(n){return"function"==typeof n&&void 0!==n[$]}function GR(n){return md(n)&&"function"==typeof n.set}const aO=new Z(""),cO=new Z("");let H0,B0=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,EC()&&(this._destroyRef=p(So,{optional:!0})??void 0),H0||(function A7(n){H0=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||n)(J($e),J(k7),J(cO))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),k7=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return H0?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Dh(n){return!!n&&"function"==typeof n.then}function lO(n){return!!n&&"function"==typeof n.subscribe}const dO=new Z("");let uO=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=p(dO,{optional:!0})??[];injector=p(kt);constructor(){}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=jr(this.injector,r);if(Dh(o))e.push(o);else if(lO(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T7=new Z("");function hO(n,t){return Array.isArray(t)?t.reduce(hO,n):{...n,...t}}let Xo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(As);afterRenderManager=p(jw);zonelessEnabled=p(mf);rootEffectScheduler=p(kI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=p(la);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(It(e=>!e))}constructor(){p(fc,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=p(hi);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=kt.NULL){return this._injector.get($e).run(()=>{pn(et.BootstrapComponentStart);const s=e instanceof B2;if(!this._injector.get(uO).done)throw new re(405,"");let c;c=s?e:this._injector.get(pg).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const l=function M7(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Os),u=c.create(r,[],i||c.selector,l),h=u.location.nativeElement,m=u.injector.get(aO,null);return m?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Ig(this.components,u),m?.unregisterApplication(h)}),this._loadComponent(u),pn(et.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pn(et.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(Hw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw pn(et.ChangeDetectionEnd),new re(101,!1);const e=S(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,S(e),this.afterTick.next(),pn(et.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sr,null,{optional:!0}));let e=0;for(;0!==this.dirtyFlags&&e++<10;){pn(et.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{pn(et.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews)(i||nf(r))&&(og(r,i&&!this.zonelessEnabled?0:1),e=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>nf(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ig(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(T7,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ig(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new re(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ig(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Qe(n,t,e,i){const r=Ee();return Mn(r,Wi(),t)&&(Ct(),function G9(n,t,e,i,r,o){const s=$n(n,t);!function eg(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Rt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],s,o,n.value,e,i,r)}(Eo(),r,n,t,e,i)),Qe}function Q0(){return Ee()[15][8]}typeof document<"u"&&document;Object.keys({disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"});class nY{destroy(t){}updateValue(t,e){}swap(t,e){const i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}}function J0(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function eD(n,t,e,i){return!(void 0===t||!t.has(i)||(n.attach(e,t.get(i)),t.delete(i),0))}function LO(n,t,e,i,r){if(eD(n,t,i,e(i,r)))n.updateValue(i,r);else{const o=n.create(i,r);n.attach(i,o)}}function FO(n,t,e,i){const r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}class BO{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const e=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}}function te(n,t,e,i,r,o,s,a){Bi("NgControlFlow");const c=Ee(),l=Ct();return Dc(c,l,n,t,e,i,r,Gi(l.consts,o),256,s,a),tD}function tD(n,t,e,i,r,o,s,a){Bi("NgControlFlow");const c=Ee(),l=Ct();return Dc(c,l,n,t,e,i,r,Gi(l.consts,o),512,s,a),tD}function ne(n,t){Bi("NgControlFlow");const e=Ee(),i=Wi(),r=e[i]!==un?e[i]:-1,o=-1!==r?Vg(e,27+r):void 0;if(Mn(e,i,n)){const a=S(null);try{if(void 0!==o&&Zw(o,0),-1!==n){const c=27+n,l=Vg(e,c),d=nD(e[1],c),u=null;id(l,td(e,d,t,{dehydratedView:u}),0,_c(d,u))}}finally{S(a)}}else if(void 0!==o){const a=h2(o,0);void 0!==a&&(a[8]=t)}}class rY{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-10}}function kn(n,t){return t}class sY{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}}function hn(n,t,e,i,r,o,s,a,c,l,d,u,h){Bi("NgControlFlow");const m=Ee(),g=Ct(),y=void 0!==c,v=Ee(),F=a?s.bind(v[15][8]):s,q=new sY(y,F);v[27+n]=q,Dc(m,g,n+1,t,e,i,r,Gi(g.consts,o),256),y&&Dc(m,g,n+2,c,l,d,u,Gi(g.consts,h),512)}class aY extends nY{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-10}at(t){return this.getLView(t)[8].$implicit}attach(t,e){const i=e[6];this.needsIndexUpdate||=t!==this.length,id(this.lContainer,e,t,_c(this.templateTNode,i)),function cY(n,t){if(n.length<=10)return;const i=n[10+t],r=i?i[26]:void 0;i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0&&(function T9(n,t){const e=n.get(Kf);if(t.detachedLeaveAnimationFns){for(const i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}(i[9],r),pc.delete(i),r.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function lY(n,t){if(n.length<=10)return;const i=n[10+t],r=i?i[26]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}(this.lContainer,t),function dY(n,t){return sh(n,t)}(this.lContainer,t)}create(t,e){return td(this.hostLView,this.templateTNode,new rY(this.lContainer,e,t),{dehydratedView:null})}destroy(t){rh(t[1],t)}updateValue(t,e){this.getLView(t)[8].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[8].$index=t}getLView(t){return function uY(n,t){return h2(n,t)}(this.lContainer,t)}}function mn(n){const t=S(null),e=Li();try{const i=Ee(),r=i[1],o=i[e],s=e+1,a=Vg(i,s);if(void 0===o.liveCollection){const l=nD(r,s);o.liveCollection=new aY(a,i,l)}else o.liveCollection.reset();const c=o.liveCollection;if(function iY(n,t,e,i){let r,o,s=0,a=n.length-1;if(Array.isArray(t)){S(i);let l=t.length-1;for(S(null);s<=a&&s<=l;){const d=n.at(s),u=t[s],h=J0(s,d,s,u,e);if(0!==h){h<0&&n.updateValue(s,u),s++;continue}const m=n.at(a),g=t[l],y=J0(a,m,l,g,e);if(0!==y){y<0&&n.updateValue(a,g),a--,l--;continue}const v=e(s,d),F=e(a,m),q=e(s,u);if(Object.is(q,F)){const Se=e(l,g);Object.is(Se,v)?(n.swap(s,a),n.updateValue(a,g),l--,a--):n.move(a,s),n.updateValue(s,u),s++;continue}if(r??=new BO,o??=FO(n,s,a,e),eD(n,r,s,q))n.updateValue(s,u),s++,a++;else if(o.has(q))r.set(v,n.detach(s)),a--;else{const Se=n.create(s,t[s]);n.attach(s,Se),s++,a++}}for(;s<=l;)LO(n,r,e,s,t[s]),s++}else if(null!=t){S(i);const l=t[Symbol.iterator]();S(null);let d=l.next();for(;!d.done&&s<=a;){const u=n.at(s),h=d.value,m=J0(s,u,s,h,e);if(0!==m)m<0&&n.updateValue(s,h),s++,d=l.next();else{r??=new BO,o??=FO(n,s,a,e);const g=e(s,h);if(eD(n,r,s,g))n.updateValue(s,h),s++,a++,d=l.next();else if(o.has(g)){const y=e(s,u);r.set(y,n.detach(s)),a--}else n.attach(s,n.create(s,h)),s++,a++,d=l.next()}}for(;!d.done;)LO(n,r,e,n.length,d.value),d=l.next()}for(;s<=a;)n.destroy(n.detach(a--));r?.forEach(l=>{n.destroy(l)})}(c,n,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){const l=Wi(),d=0===c.length;if(Mn(i,l,d)){const u=e+2,h=Vg(i,u);if(d){const m=nD(r,u),g=null;id(h,td(i,m,void 0,{dehydratedView:g}),0,_c(m,g))}else r.firstUpdatePass&&function ug(n){const t=n[6]??[],i=n[3][11],r=[];for(const o of t)void 0!==o.data.di?r.push(o):R2(o,i);n[6]=r}(h),Zw(h,0)}}}finally{S(t)}}function Vg(n,t){return n[t]}function nD(n,t){return Fl(n,t)}function K(n,t,e){const i=Ee();return Mn(i,Wi(),t)&&(Ct(),Jf(Eo(),i,n,t,i[11],e)),K}function iD(n,t,e,i,r){ig(t,n,e,r?"class":"style",i)}function _(n,t,e,i){const r=Ee(),o=r[1],s=n+27,a=o.firstCreatePass?h0(s,r,2,t,Yw,PC(),e,i):o.data[s];if(tg(a,r,n,t,rD),Nl(a)){const c=r[1];Zf(c,r,a),xw(c,a,r)}return null!=i&&ed(r,a),_}function b(){const n=Ct(),e=ng(St());return n.firstCreatePass&&m0(n,e),tI(e)&&nI(),JT(),null!=e.classesWithoutHost&&function Hz(n){return!!(8&n.flags)}(e)&&iD(n,e,Ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function jz(n){return!!(16&n.flags)}(e)&&iD(n,e,Ee(),e.stylesWithoutHost,!1),b}function ve(n,t,e,i){return _(n,t,e,i),b(),ve}function ji(n,t,e,i){const r=Ee(),o=r[1],s=n+27,a=o.firstCreatePass?function G2(n,t,e,i,r,o){const s=t.consts,c=bc(t,n,e,i,Gi(s,r));if(c.mergedAttrs=$l(c.mergedAttrs,c.attrs),null!=o){const l=Gi(s,o);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return null!==c.attrs&&gg(c,c.attrs,!1),null!==c.mergedAttrs&&gg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,2,t,e,i):o.data[s];return tg(a,r,n,t,rD),null!=i&&ed(r,a),ji}function hr(){return tI(ng(St()))&&nI(),JT(),hr}function Ps(n,t,e,i){return ji(n,t,e,i),hr(),Ps}let rD=(n,t,e,i,r)=>(Uu(!0),qf(t[11],i,function J8(){return Et.lFrame.currentNamespace}()));function Eh(n,t,e){const i=Ee(),r=i[1],o=n+27,s=r.firstCreatePass?h0(o,i,8,"ng-container",Yw,PC(),t,e):r.data[o];if(tg(s,i,n,"ng-container",sD),Nl(s)){const a=i[1];Zf(a,i,s),xw(a,s,i)}return null!=e&&ed(i,s),Eh}function gd(){const n=Ct(),e=ng(St());return n.firstCreatePass&&m0(n,e),gd}function Kn(n,t,e){return Eh(n,t,e),gd(),Kn}let sD=(n,t,e,i,r)=>(Uu(!0),Rw(t[11],""));function Ne(){return Ee()}function Ui(n,t,e){const i=Ee();return Mn(i,Wi(),t)&&(Ct(),Kw(Eo(),i,n,t,i[11],e)),Ui}const Sh=void 0;var fY=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Sh,Sh,Sh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pY(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let _d={};function mr(n){const t=function gY(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=zO(t);if(e)return e;const i=t.split("-")[0];if(e=zO(i),e)return e;if("en"===i)return fY;throw new re(701,!1)}function zO(n){return n in _d||(_d[n]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[n]),_d[n]}var Fn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Fn||{});const zg="en-US";let qO=zg;function ae(n,t,e){const i=Ee(),r=Ct(),o=St();return dD(r,i,i[11],o,n,t,e),ae}function lD(n,t,e){const i=Ee(),r=Ct(),o=St();return(3&o.type||e)&&yg(o,r,i,e,i[11],n,t,Ms(o,i,t)),lD}function dD(n,t,e,i,r,o,s){let a=!0,c=null;if((3&i.type||s)&&(c??=Ms(i,t,o),yg(i,n,t,s,e,r,o,c)&&(a=!1)),a){const l=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let u=0;u<d.length;u+=2){const h=d[u],m=d[u+1];c??=Ms(i,t,o),sd(i,t,h,m,r,c)}if(l&&l.length)for(const u of l)c??=Ms(i,t,o),sd(i,t,u,r,r,c)}}function C(n=1){return function Q8(n){return(Et.lFrame.contextLView=function YT(n,t){for(;n>0;)t=t[14],n--;return t}(n,Et.lFrame.contextLView))[8]}(n)}function iQ(n,t){let e=null;const i=function m9(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?A1(n,o,!0):g9(i,o))return r}else e=r}return e}function ln(n){const t=Ee()[15][5];if(!t.projection){const i=t.projection=function Gp(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){if(128!==o.type){const s=n?iQ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function it(n,t=0,e,i,r,o){const s=Ee(),a=Ct(),c=i?n+1:null;null!==c&&Dc(s,a,c,i,r,o,null,e);const l=bc(a,27+n,16,null,e||null);null===l.projection&&(l.projection=t),oI();const u=!s[6]||eI();null===s[15][5].projection[l.projection]&&null!==c?function rQ(n,t,e){const i=27+e,r=t.data[i],o=n[i];id(o,td(n,r,void 0,{dehydratedView:null}),0,_c(r,null))}(s,a,c):u&&!Of(l)&&function L9(n,t,e){X1(t[11],0,t,e,qw(n,e,t),G1(e.parent||t[5],e,t))}(a,s,l)}function Ei(n,t,e,i){return dR(n,t,e,i),Ei}function Jt(n,t,e){return lR(n,t,e),Jt}function _e(n){const t=Ee(),e=Ct(),i=FC();af(i+1);const r=D0(e,i);if(n.dirty&&function j8(n){return!(4&~n[2])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=hR(t,i);n.reset(o,rM),n.notifyOnChanges()}return!0}return!1}function be(){return w0(Ee(),FC())}function uD(n,t,e,i,r){return fR(t,dR(n,e,i,r)),uD}function hD(n,t,e,i){return fR(n,lR(t,e,i)),hD}function mD(n=1){af(FC()+n)}function rn(n){return sc(function sI(){return Et.lFrame.contextLView}(),27+n)}function Wg(n,t){return n<<17|t<<2}function Rc(n){return n>>17&32767}function pD(n){return 2|n}function bd(n){return(131068&n)>>2}function fD(n,t){return-131069&n|t<<2}function gD(n){return 1|n}function lP(n,t,e,i){const r=n[e+1],o=null===t;let s=i?Rc(r):bd(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];dQ(n[s],t)&&(a=!0,n[s+1]=i?gD(l):pD(l)),s=i?Rc(l):bd(l)}a&&(n[e+1]=i?pD(r):gD(r))}function dQ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Lu(n,t)>=0}const vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dP(n){return n.substring(vi.key,vi.keyEnd)}function uP(n,t){const e=vi.textEnd;return e===t?-1:(t=vi.keyEnd=function pQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,vi.key=t,e),yd(n,t,e))}function yd(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Zo(n,t,e){return gP(n,t,e,!1),Zo}function st(n,t){return gP(n,t,null,!0),st}function Ir(n){!function _P(n,t,e,i){const r=Ct(),o=ks(2);r.firstUpdatePass&&yP(r,null,o,i);const s=Ee();if(e!==un&&Mn(s,o,e)){const a=r.data[Li()];if(DP(a,i)&&!bP(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=oC(c,e||"")),iD(r,a,s,e,i)}else!function SQ(n,t,e,i,r,o,s,a){r===un&&(r=xn);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;null!==d||null!==u;){const h=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0;let y,g=null;d===u?(c+=2,l+=2,h!==m&&(g=u,y=m)):null===u||null!==d&&d<u?(c+=2,g=d):(l+=2,g=u,y=m),null!==g&&CP(n,t,e,i,g,y,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function xQ(n,t,e){if(null==e||""===e)return xn;const i=[],r=Vr(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(EQ,yQ,n,!0)}function yQ(n,t){for(let e=function hQ(n){return function mP(n){vi.key=0,vi.keyEnd=0,vi.value=0,vi.valueEnd=0,vi.textEnd=n.length}(n),uP(n,yd(n,0,vi.textEnd))}(t);e>=0;e=uP(t,e))Wp(n,dP(t),!0)}function gP(n,t,e,i){const r=Ee(),o=Ct(),s=ks(2);o.firstUpdatePass&&yP(o,n,s,i),t!==un&&Mn(r,s,t)&&CP(o,o.data[Li()],r,r[11],n,r[s+1]=function kQ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=wr(Vr(n)))),n}(t,e),i,s)}function bP(n,t){return t>=n.expandoStartIndex}function yP(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Li()],s=bP(n,e);DP(o,i)&&null===t&&!s&&(t=!1),t=function vQ(n,t,e,i){const r=function LC(n){const t=Et.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Rh(e=_D(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=_D(r,n,t,e,i),null===o){let c=function CQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==bd(i))return n[Rc(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=_D(null,n,t,c[1],i),c=Rh(c,t.attrs,i),function wQ(n,t,e,i){n[Rc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function DQ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Rh(i,n[o].hostAttrs,e);return Rh(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function cQ(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Rc(s),c=bd(s);n[i]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||Lu(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const h=Rc(n[a+1]);n[i+1]=Wg(h,a),0!==h&&(n[h+1]=fD(n[h+1],i)),n[a+1]=function sQ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Wg(a,0),0!==a&&(n[a+1]=fD(n[a+1],i)),a=i;else n[i+1]=Wg(c,0),0===a?a=i:n[c+1]=fD(n[c+1],i),c=i;l&&(n[i+1]=pD(n[i+1])),lP(n,d,i,!0),lP(n,d,i,!1),function lQ(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Lu(o,t)>=0&&(e[i+1]=gD(e[i+1]))}(t,d,n,i,o),s=Wg(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function _D(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Rh(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Rh(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wp(n,s,!!e||t[++o]))}return void 0===n?null:n}function EQ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Wp(n,i,e)}function CP(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],d=function aQ(n){return!(1&~n)}(l)?wP(c,t,e,r,bd(l),s):void 0;Kg(d)||(Kg(o)||function oQ(n){return!(2&~n)}(l)&&(o=wP(c,null,e,r,a,s)),function B9(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:pa.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=pa.Important),n.setStyle(e,i,r,o))}}(i,s,Ll(Li(),e),r,o))}function wP(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let h=e[r+1];h===un&&(h=u?xn:void 0);let m=u?gC(h,i):d===i?h:void 0;if(l&&!Kg(m)&&(m=gC(c,i)),Kg(m)&&(a=m,s))return a;const g=n[r+1];r=s?Rc(g):bd(g)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=gC(c,i))}return a}function Kg(n){return void 0!==n}function DP(n,t){return!!(n.flags&(t?8:16))}function H(n,t=""){const e=Ee(),i=Ct(),r=n+27,o=i.firstCreatePass?bc(i,r,1,t,null):i.data[r],s=xP(i,e,o,t,n);e[r]=s,lf()&&Gw(i,e,s,o),Ss(o,!1)}let xP=(n,t,e,i,r)=>(Uu(!0),function Mw(n,t){return n.createText(t)}(t[11],i));function SP(n,t,e,i=""){return Mn(n,Wi(),e)?t+Rt(e)+i:un}function kP(n,t,e,i,r,o=""){const a=Cc(n,function $o(){return Et.lFrame.bindingIndex}(),e,r);return ks(2),a?t+Rt(e)+i+Rt(r)+o:un}function Ae(n){return Xe("",n),Ae}function Xe(n,t,e){const i=Ee(),r=SP(i,n,t,e);return r!==un&&Ns(i,Li(),r),Xe}function vd(n,t,e,i,r){const o=Ee(),s=kP(o,n,t,e,i,r);return s!==un&&Ns(o,Li(),s),vd}function Ns(n,t,e){const i=Ll(t,n);!function g1(n,t,e){n.setValue(t,e)}(n[11],i,e)}function Ot(n,t,e){GR(t)&&(t=t());const i=Ee();return Mn(i,Wi(),t)&&(Ct(),Jf(Eo(),i,n,t,i[11],e)),Ot}function Bt(n,t){const e=GR(n);return e&&n.set(t),e}function Pt(n,t){const e=Ee(),i=Ct(),r=St();return dD(i,e,e[11],r,n,t),Pt}function en(n){return Mn(Ee(),Wi(),n)?Rt(n):un}function qP(n,t,e){const i=Ct();i.firstCreatePass&&$P(t,i.data,i.blueprint,xo(n),e)}function $P(n,t,e,i,r){if(n=jt(n),Array.isArray(n))for(let o=0;o<n.length;o++)$P(n[o],t,e,i,r);else{const o=Ct(),s=Ee(),a=St();let c=vs(n)?n:jt(n.provide);const l=HT(n),d=1048575&a.providerIndexes,u=a.directiveStart,h=a.providerIndexes>>20;if(vs(n)||!n.multi){const m=new zu(l,r,R,null),g=yD(c,t,r?d:d+h,u);-1===g?(JC(vf(a,s),o,c),bD(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(m),s.push(m)):(e[g]=m,s[g]=m)}else{const m=yD(c,t,d+h,u),g=yD(c,t,d,d+h),v=g>=0&&e[g];if(r&&!v||!r&&!(m>=0&&e[m])){JC(vf(a,s),o,c);const F=function VQ(n,t,e,i,r){const s=new zu(n,e,R,null);return s.multi=[],s.index=t,s.componentProviders=0,GP(s,r,i&&!e),s}(r?UQ:jQ,e.length,r,i,l);!r&&v&&(e[g].providerFactory=F),bD(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(F),s.push(F)}else bD(o,n,m>-1?m:g,GP(e[r?g:m],l,!r&&i));!r&&i&&v&&e[g].componentProviders++}}}function bD(n,t,e,i){const r=vs(t),o=function FT(n){return!!n.useClass}(t);if(r||o){const c=(o?jt(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[i,c]):l[d+1].push(i,c)}else l.push(e,c)}}}function GP(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function yD(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function jQ(n,t,e,i,r){return vD(this.multi,[])}function UQ(n,t,e,i,r){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Gu(i,i[1],this.providerFactory.index,r);s=c.slice(0,a),vD(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],vD(o,s);return s}function vD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Je(n,t){return e=>{e.providersResolver=(i,r)=>qP(i,r?r(n):n,!1),t&&(e.viewProvidersResolver=(i,r)=>qP(i,r?r(t):t,!0))}}function Oh(n,t,e){const i=dr()+n,r=Ee();return r[i]===un?Qo(r,i,e?t.call(e):t()):function _h(n,t){return n[t]}(r,i)}function CD(n,t,e,i){return YP(Ee(),dr(),n,t,e,i)}function wD(n,t,e,i,r,o,s){return function ZP(n,t,e,i,r,o,s,a,c){const l=t+e;return function so(n,t,e,i,r,o){const s=Cc(n,t,e,i);return Cc(n,t+2,r,o)||s}(n,l,r,o,s,a)?Qo(n,l+4,c?i.call(c,r,o,s,a):i(r,o,s,a)):Ph(n,l+4)}(Ee(),dr(),n,t,e,i,r,o,s)}function Ph(n,t){const e=n[t];return e===un?void 0:e}function YP(n,t,e,i,r,o){const s=t+e;return Mn(n,s,r)?Qo(n,s+1,o?i.call(o,r):i(r)):Ph(n,s+1)}function pr(n,t){const e=Ct();let i;const r=n+27;e.firstCreatePass?(i=function ZQ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=tc(i.type)),a=Dr(R);try{const c=yf(!1),l=o();return yf(c),function AC(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Ee(),r,l),l}finally{Dr(a)}}function Mr(n,t,e){const i=n+27,r=Ee(),o=sc(r,i);return Nh(r,i)?YP(r,dr(),t,o.transform,e,o):o.transform(e)}function eN(n,t,e,i){const r=n+27,o=Ee(),s=sc(o,r);return Nh(o,r)?function QP(n,t,e,i,r,o,s){const a=t+e;return Cc(n,a,r,o)?Qo(n,a+2,s?i.call(s,r,o):i(r,o)):Ph(n,a+2)}(o,dr(),t,s.transform,e,i,s):s.transform(e,i)}function Nh(n,t){return n[1].data[t].pure}function ao(n,t){return sg(n,t)}class TX{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let IX=(()=>{class n{compileModuleSync(e){return new vR(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Yo(Vo(e).declarations).reduce((s,a)=>{const c=cn(a);return c&&s.push(new vg(c)),s},[]);return new TX(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RX=(()=>{class n{applicationErrorHandler=p(As);appRef=p(Xo);taskService=p(la);ngZone=p($e);zonelessEnabled=p(mf);tracing=p(fc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new zt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(SI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?wI:CI;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ya=new Z("",{factory:()=>p(ya,{optional:!0,skipSelf:!0})||function OX(){return typeof $localize<"u"&&$localize.locale||zg}()}),e_=Symbol("InputSignalNode#UNSET"),xN={...Ni,transformFn:void 0,applyValueToInputSignal(n,t){Mt(n,t)}};function EN(n,t){const e=Object.create(xN);function i(){if(U(e),e.value===e_)throw new re(-950,null);return e.value}return e.value=n,e.transformFn=t?.transform,i[$]=e,i}class Pc{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>function Df(n){return function $z(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(YC(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(St(),n)}(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}const VX=(()=>{const n=new Z("");return n.__NG_ELEMENT_ID__=t=>{const e=St();if(null===e)throw new re(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new re(204,!1)},n})();function SN(n,t){return EN(n,t)}const qX=(SN.required=function zX(n){return EN(e_,n)},SN);function kN(n,t){return mR()}const t_=(kN.required=function $X(n,t){return pR()},kN);function AN(n,t){return mR()}const WX=(AN.required=function GX(n,t){return pR()},AN);let YX=(()=>{class n{zone=p($e);changeDetectionScheduler=p(lc);applicationRef=p(Xo);applicationErrorHandler=p(As);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QX=new Z("",{factory:()=>!1});function RN(n){const t=n?.scheduleInRootZone,e=function XX({ngZoneFactory:n,scheduleInRootZone:t}){return n??=()=>new $e({...ON(),scheduleInRootZone:t}),[{provide:mf,useValue:!1},{provide:$e,useFactory:n},{provide:ia,multi:!0,useFactory:()=>{const e=p(YX,{optional:!0});return()=>e.initialize()}},{provide:ia,multi:!0,useFactory:()=>{const e=p(ZX);return()=>{e.initialize()}}},{provide:SI,useValue:t??vI}]}({ngZoneFactory:()=>{const i=ON(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Bi("NgZone_CoalesceEvent"),new $e(i)},scheduleInRootZone:t});return Yp([{provide:QX,useValue:!0},e])}function ON(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let ZX=(()=>{class n{subscription=new zt;initialized=!1;zone=p($e);pendingTasks=p(la);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const n_=new Z(""),nZ=new Z("");function Fh(n){return!n.moduleRef}let LN;function FN(){LN=iZ}function iZ(n,t){const e=n.injector.get(Xo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new re(-403,!1);n.instance.ngDoBootstrap(e)}t.push(n)}let BN=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,i){const r=[[{provide:lc,useExisting:RX},{provide:$e,useClass:sz},{provide:mf,useValue:!0}],...i?.applicationProviders??[],lz],o=function oW(n,t,e){return new A0(n,t,e,!1)}(e.moduleType,this.injector,r);return FN(),function NN(n){const t=Fh(n)?n.r3Injector:n.moduleRef.injector,e=t.get($e);return e.run(()=>{Fh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const i=t.get(As);let r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Fh(n)){const o=()=>t.destroy(),s=n.platformInjector.get(n_);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{const o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(n_);s.add(o),n.moduleRef.onDestroy(()=>{Ig(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return function rZ(n,t,e){try{const i=e();return Dh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}(i,e,()=>{const o=t.get(la),s=o.add(),a=t.get(uO);return a.runInitializers(),a.donePromise.then(()=>{if(function vY(n){"string"==typeof n&&(qO=n.toLowerCase().replace(/_/g,"-"))}(t.get(ya,zg)||zg),!t.get(nZ,!0))return Fh(n)?t.get(Xo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fh(n)){const d=t.get(Xo);return void 0!==n.rootComponent&&d.bootstrap(n.rootComponent),d}return LN?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}({moduleRef:o,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){const r=hO({},i);return FN(),function KX(n,t,e){const i=new vR(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(n_,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(J(kt))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Dd=null;function HN(n,t,e=[]){const i=`Platform: ${t}`,r=new Z(i);return(o=[])=>{let s=i_();if(!s){const a=[...e,...o,{provide:r,useValue:!0}];s=n?.(a)??function oZ(n){if(i_())throw new re(400,!1);(function I7(){!function ke(n){ce=n}(()=>{throw new re(600,"")})})(),Dd=n;const t=n.get(BN);return function UN(n){const t=n.get(xM,null);jr(n,()=>{t?.forEach(e=>e())})}(n),t}(function jN(n=[],t){return kt.create({name:t,providers:[{provide:CC,useValue:"platform"},{provide:n_,useValue:new Set([()=>Dd=null])},...n]})}(a,i))}return function sZ(){const t=i_();if(!t)throw new re(-401,!1);return t}()}}function i_(){return Dd?.get(BN)??null}let qt=(()=>class n{static __NG_ELEMENT_ID__=cZ})();function cZ(n){return function lZ(n,t,e){if(qo(n)&&!e){const i=lr(n.index,t);return new ah(i,i)}return 175&n.type?new ah(t[15],t):null}(St(),Ee(),!(16&~n))}class GN{constructor(){}supports(t){return t instanceof Map||p0(t)}create(){return new pZ}}class pZ{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||p0(t)))throw new re(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new fZ(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class fZ{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function KN(){return new r_([new GN])}let r_=(()=>{class n{static \u0275prov=pe({token:n,providedIn:"root",factory:KN});factories;constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{const i=p(n,{optional:!0,skipSelf:!0});return n.create(e,i||KN())}}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new re(901,!1)}}return n})();const bZ=HN(null,"core",[]);let yZ=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(J(Xo))};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})();function Re(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Rr(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}const RD=Symbol("NOT_SET"),cL=new Set,zZ={...Ni,kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:RD,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(null===this.sequence.lastPhase||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==RD&&!L(this))return this.signal;try{for(const r of this.cleanup??cL)r()}finally{this.cleanup?.clear()}const t=[];void 0!==n&&t.push(n),t.push(this.registerCleanupFn);const e=me(this);let i;try{i=this.userFn.apply(null,t)}finally{z(this,e)}return(this.value===RD||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}};class qZ extends B1{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(t,e,i,r,o,s=null){super(t,[void 0,void 0,void 0,void 0],i,!1,o.get(So),s),this.scheduler=r;for(const a of L1){const c=e[a];if(void 0===c)continue;const l=Object.create(zZ);l.sequence=this,l.phase=a,l.userFn=c,l.dirty=!0,l.signal=()=>(U(l),l.value),l.signal[$]=l,l.registerCleanupFn=d=>(l.cleanup??=new Set).add(d),this.nodes[a]=l,this.hooks[a]=d=>l.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(null!==this.onDestroyFns)for(const t of this.onDestroyFns)t();super.destroy();for(const t of this.nodes)if(t)try{for(const e of t.cleanup??cL)e()}finally{W(t)}}}function lL(n,t){const e=cn(n),i=t.elementInjector||Zp();return new vg(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}let dL=null;function Ca(){return dL}class KZ{}let OD=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(YZ),providedIn:"platform"})}return n})(),YZ=(()=>{class n extends OD{_location;_history;_doc=p(Ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ca().getBaseHref(this._doc)}onPopState(e){const i=Ca().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ca().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uL(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class hL{}const mL="browser";var fr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(fr||{}),An=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(An||{}),zr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(zr||{});function m_(n,t){return lo(mr(n)[Fn.DateFormat],t)}function p_(n,t){return lo(mr(n)[Fn.TimeFormat],t)}function f_(n,t){return lo(mr(n)[Fn.DateTimeFormat],t)}function co(n,t){const e=mr(n),i=e[Fn.NumberSymbols][t];if(typeof i>"u"){if(12===t)return e[Fn.NumberSymbols][0];if(13===t)return e[Fn.NumberSymbols][1]}return i}function EL(n){if(!n[Fn.ExtraData])throw new re(2303,!1)}function lo(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new re(2304,!1)}function BD(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const HJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,g_={},jJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function SL(n,t,e,i){let r=function YJ(n){if(TL(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return __(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(HJ))return function QJ(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,c,l),t}(i)}const t=new Date(n);if(!TL(t))throw new re(2311,!1);return t}(n);t=Ls(e,t)||t;let a,s=[];for(;t;){if(a=jJ.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let c=r.getTimezoneOffset();i&&(c=AL(i,c),r=function KJ(n,t){const r=n.getTimezoneOffset();return function WJ(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(AL(t,r)-r))}(r,i));let l="";return s.forEach(d=>{const u=function GJ(n){if(jD[n])return jD[n];let t;switch(n){case"G":case"GG":case"GGG":t=Rn(3,An.Abbreviated);break;case"GGGG":t=Rn(3,An.Wide);break;case"GGGGG":t=Rn(3,An.Narrow);break;case"y":t=gi(0,1,0,!1,!0);break;case"yy":t=gi(0,2,0,!0,!0);break;case"yyy":t=gi(0,3,0,!1,!0);break;case"yyyy":t=gi(0,4,0,!1,!0);break;case"Y":t=C_(1);break;case"YY":t=C_(2,!0);break;case"YYY":t=C_(3);break;case"YYYY":t=C_(4);break;case"M":case"L":t=gi(1,1,1);break;case"MM":case"LL":t=gi(1,2,1);break;case"MMM":t=Rn(2,An.Abbreviated);break;case"MMMM":t=Rn(2,An.Wide);break;case"MMMMM":t=Rn(2,An.Narrow);break;case"LLL":t=Rn(2,An.Abbreviated,fr.Standalone);break;case"LLLL":t=Rn(2,An.Wide,fr.Standalone);break;case"LLLLL":t=Rn(2,An.Narrow,fr.Standalone);break;case"w":t=HD(1);break;case"ww":t=HD(2);break;case"W":t=HD(1,!0);break;case"d":t=gi(2,1);break;case"dd":t=gi(2,2);break;case"c":case"cc":t=gi(7,1);break;case"ccc":t=Rn(1,An.Abbreviated,fr.Standalone);break;case"cccc":t=Rn(1,An.Wide,fr.Standalone);break;case"ccccc":t=Rn(1,An.Narrow,fr.Standalone);break;case"cccccc":t=Rn(1,An.Short,fr.Standalone);break;case"E":case"EE":case"EEE":t=Rn(1,An.Abbreviated);break;case"EEEE":t=Rn(1,An.Wide);break;case"EEEEE":t=Rn(1,An.Narrow);break;case"EEEEEE":t=Rn(1,An.Short);break;case"a":case"aa":case"aaa":t=Rn(0,An.Abbreviated);break;case"aaaa":t=Rn(0,An.Wide);break;case"aaaaa":t=Rn(0,An.Narrow);break;case"b":case"bb":case"bbb":t=Rn(0,An.Abbreviated,fr.Standalone,!0);break;case"bbbb":t=Rn(0,An.Wide,fr.Standalone,!0);break;case"bbbbb":t=Rn(0,An.Narrow,fr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Rn(0,An.Abbreviated,fr.Format,!0);break;case"BBBB":t=Rn(0,An.Wide,fr.Format,!0);break;case"BBBBB":t=Rn(0,An.Narrow,fr.Format,!0);break;case"h":t=gi(3,1,-12);break;case"hh":t=gi(3,2,-12);break;case"H":t=gi(3,1);break;case"HH":t=gi(3,2);break;case"m":t=gi(4,1);break;case"mm":t=gi(4,2);break;case"s":t=gi(5,1);break;case"ss":t=gi(5,2);break;case"S":t=gi(6,1);break;case"SS":t=gi(6,2);break;case"SSS":t=gi(6,3);break;case"Z":case"ZZ":case"ZZZ":t=y_(0);break;case"ZZZZZ":t=y_(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=y_(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=y_(2);break;default:return null}return jD[n]=t,t}(d);l+=u?u(r,e,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function __(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ls(n,t){const e=function kJ(n){return mr(n)[Fn.LocaleId]}(n);if(g_[e]??={},g_[e][t])return g_[e][t];let i="";switch(t){case"shortDate":i=m_(n,zr.Short);break;case"mediumDate":i=m_(n,zr.Medium);break;case"longDate":i=m_(n,zr.Long);break;case"fullDate":i=m_(n,zr.Full);break;case"shortTime":i=p_(n,zr.Short);break;case"mediumTime":i=p_(n,zr.Medium);break;case"longTime":i=p_(n,zr.Long);break;case"fullTime":i=p_(n,zr.Full);break;case"short":const r=Ls(n,"shortTime"),o=Ls(n,"shortDate");i=b_(f_(n,zr.Short),[r,o]);break;case"medium":const s=Ls(n,"mediumTime"),a=Ls(n,"mediumDate");i=b_(f_(n,zr.Medium),[s,a]);break;case"long":const c=Ls(n,"longTime"),l=Ls(n,"longDate");i=b_(f_(n,zr.Long),[c,l]);break;case"full":const d=Ls(n,"fullTime"),u=Ls(n,"fullDate");i=b_(f_(n,zr.Full),[d,u])}return i&&(g_[e][t]=i),i}function b_(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ao(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function gi(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function VJ(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new re(2301,!1)}}(n,o);if((e>0||a>-e)&&(a+=e),3===n)0===a&&-12===e&&(a=12);else if(6===n)return function UJ(n,t){return Ao(n,3).substring(0,t)}(a,t);const c=co(s,5);return Ao(a,t,c,i,r)}}function Rn(n,t,e=fr.Format,i=!1){return function(r,o){return function zJ(n,t,e,i,r,o){switch(e){case 2:return function IJ(n,t,e){const i=mr(n),o=lo([i[Fn.MonthsFormat],i[Fn.MonthsStandalone]],t);return lo(o,e)}(t,r,i)[n.getMonth()];case 1:return function TJ(n,t,e){const i=mr(n),o=lo([i[Fn.DaysFormat],i[Fn.DaysStandalone]],t);return lo(o,e)}(t,r,i)[n.getDay()];case 0:const s=n.getHours(),a=n.getMinutes();if(o){const l=function PJ(n){const t=mr(n);return EL(t),(t[Fn.ExtraData][2]||[]).map(i=>"string"==typeof i?BD(i):[BD(i[0]),BD(i[1])])}(t),d=function NJ(n,t,e){const i=mr(n);EL(i);const o=lo([i[Fn.ExtraData][0],i[Fn.ExtraData][1]],t)||[];return lo(o,e)||[]}(t,r,i),u=l.findIndex(h=>{if(Array.isArray(h)){const[m,g]=h,y=s>=m.hours&&a>=m.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(m.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function AJ(n,t,e){const i=mr(n),o=lo([i[Fn.DayPeriodsFormat],i[Fn.DayPeriodsStandalone]],t);return lo(o,e)}(t,r,i)[s<12?0:1];case 3:return function MJ(n,t){return lo(mr(n)[Fn.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new re(2302,!1)}}(r,o,n,t,e,i)}}function y_(n){return function(t,e,i){const r=-1*i,o=co(e,5),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ao(s,2,o)+Ao(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ao(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ao(s,2,o)+":"+Ao(Math.abs(r%60),2,o);case 3:return 0===i?"Z":(r>=0?"+":"")+Ao(s,2,o)+":"+Ao(Math.abs(r%60),2,o);default:throw new re(2310,!1)}}}const qJ=0,v_=4;function kL(n){const t=n.getDay(),e=0===t?-3:v_-t;return __(n.getFullYear(),n.getMonth(),n.getDate()+e)}function HD(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=kL(e),s=function $J(n){const t=__(n,qJ,1).getDay();return __(n,0,1+(t<=v_?v_:v_+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ao(r,n,co(i,5))}}function C_(n,t=!1){return function(e,i){return Ao(kL(e).getFullYear(),n,co(i,5),t)}}const jD={};function AL(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function TL(n){return n instanceof Date&&!isNaN(n.valueOf())}const GD=/\s+/,OL=[];let zh=(()=>{class n{_ngEl;_renderer;initialClasses=OL;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=null!=e?e.trim().split(GD):OL}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(GD):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(GD).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(R(nt),R(ai))};static \u0275dir=fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})(),qh=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:pa.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(R(nt),R(r_),R(ai))};static \u0275dir=fe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Ed=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(R(Un))};static \u0275dir=fe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Wn]})}return n})();const kee=new Z(""),Aee=new Z("");let FL=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return SL(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function To(n,t){return new re(2100,!1)}()}}static \u0275fac=function(i){return new(i||n)(R(ya,16),R(kee,24),R(Aee,24))};static \u0275pipe=ur({name:"date",type:n,pure:!0})}return n})(),HL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})();class jL{_doc;constructor(t){this._doc=t}manager}let XD=(()=>{class n extends jL{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(J(Ut))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const ZD=new Z("");let UL=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});const r=e.filter(s=>!(s instanceof XD));this._plugins=r.slice().reverse();const o=e.find(s=>s instanceof XD);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(J(ZD),J($e))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const JD="ng-app-id";function VL(n){for(const t of n)t.remove()}function zL(n,t){const e=t.createElement("style");return e.textContent=n,e}function ex(n,t){const e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}let qL=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,function Bee(n,t,e,i){const r=n.head?.querySelectorAll(`style[${JD}="${t}"],link[${JD}="${t}"]`);if(r)for(const o of r)o.removeAttribute(JD),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(const r of e)this.addUsage(r,this.inline,zL);i?.forEach(r=>this.addUsage(r,this.external,ex))}removeStyles(e,i){for(const r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){const o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){const r=i.get(e);r&&(r.usage--,r.usage<=0&&(VL(r.elements),i.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])VL(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[i,{elements:r}]of this.inline)r.push(this.addElement(e,zL(i,this.doc)));for(const[i,{elements:r}]of this.external)r.push(this.addElement(e,ex(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(J(Ut),J(ua),J(cw,8),J(aw))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const tx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nx=/%COMP%/g,qee=new Z("",{factory:()=>!0});function GL(n,t){return t.map(e=>e.replace(nx,n))}let ix=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,a,c=null,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new rx(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof YL?r.applyToHost(e):r instanceof ox&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case oo.Emulated:o=new YL(c,l,i,this.appId,d,s,a,u,h);break;case oo.ShadowDom:return new KL(c,e,i,s,a,this.nonce,u,h,l);case oo.ExperimentalIsolatedShadowDom:return new KL(c,e,i,s,a,this.nonce,u,h);default:o=new ox(c,l,i,d,s,a,u,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(J(UL),J(qL),J(ua),J(qee),J(Ut),J($e),J(cw),J(fc,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class rx{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(tx[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(WL(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(WL(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new re(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=tx[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=tx[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(pa.DashCase|pa.Important)?t.style.setProperty(e,i,r&pa.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&pa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if("string"==typeof t&&!(t=Ca().getGlobalEventTarget(this.doc,t)))throw new re(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&e.preventDefault()}}}function WL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class KL extends rx{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,o,s,a,c,l){super(t,r,o,a,c),this.hostEl=e,this.sharedStylesHost=l,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=GL(i.id,d);for(const h of d){const m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=h,this.shadowRoot.appendChild(m)}const u=i.getExternalStyles?.();if(u)for(const h of u){const m=ex(h,r);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class ox extends rx{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=l?GL(l,d):d,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===pc.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class YL extends ox{contentAttr;hostAttr;constructor(t,e,i,r,o,s,a,c,l){const d=r+"-"+i.id;super(t,e,i,o,s,a,c,l,d),this.contentAttr=function $ee(n){return"_ngcontent-%COMP%".replace(nx,n)}(d),this.hostAttr=function Gee(n){return"_nghost-%COMP%".replace(nx,n)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class sx extends KZ{supportsDOMEvents=!0;static makeCurrent(){!function WZ(n){dL??=n}(new sx)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Kee(){return $h=$h||document.head.querySelector("base"),$h?$h.getAttribute("href"):null}();return null==e?null:function Yee(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){$h=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return uL(document.cookie,t)}}let $h=null,Xee=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const QL=["alt","control","meta","shift"],Zee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ete=(()=>{class n extends jL{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r,o){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ca().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),QL.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=Zee[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),QL.forEach(s=>{s!==r&&(0,Jee[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(i){return new(i||n)(J(Ut))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const ZL=[{provide:aw,useValue:mL},{provide:xM,useValue:function tte(){sx.makeCurrent()},multi:!0},{provide:Ut,useFactory:function ite(){return function Iq(n){sw=n}(document),document}}],JL=HN(bZ,"browser",ZL),eF=[{provide:cO,useClass:class Qee{addToWindow(t){ei.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new re(5103,!1);return o},ei.getAllAngularTestabilities=()=>t.getAllTestabilities(),ei.getAllAngularRootElements=()=>t.getAllRootElements(),ei.frameworkStabilizers||(ei.frameworkStabilizers=[]),ei.frameworkStabilizers.push(i=>{const r=ei.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ca().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}}},{provide:aO,useClass:B0},{provide:B0,useClass:B0}],tF=[{provide:CC,useValue:"root"},{provide:cc,useFactory:function nte(){return new cc}},{provide:ZD,useClass:XD,multi:!0},{provide:ZD,useClass:ete,multi:!0},ix,qL,UL,{provide:Sr,useExisting:ix},{provide:hL,useClass:Xee},[]];let nF=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[...tF,...eF],imports:[HL,yZ]})}return n})();function Or(n,t){return Me(n,t?.equal)}function fn(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,t||[])).next())})}function wa(n){return this instanceof wa?(this.v=n,this):new wa(n)}function dF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ux(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}Error,Error,"function"==typeof SuppressedError&&SuppressedError;const uF=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hF(n){return dn(n?.then)}function mF(n){return dn(n[tC])}function pF(n){return Symbol.asyncIterator&&dn(n?.[Symbol.asyncIterator])}function fF(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gF=function Vte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _F(n){return dn(n?.[gF])}function bF(n){return function lF(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(g){return Promise.resolve(g).then(m,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(m,g){i[m]&&(r[m]=function(y){return new Promise(function(v,F){o.push([m,y,v,F])>1||c(m,y)})},g&&(r[m]=g(r[m])))}function c(m,g){try{!function l(m){m.value instanceof wa?Promise.resolve(m.value.v).then(d,u):h(o[0][2],m)}(i[m](g))}catch(y){h(o[0][3],y)}}function d(m){c("next",m)}function u(m){c("throw",m)}function h(m,g){m(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield wa(e.read());if(r)return yield wa(void 0);yield yield wa(i)}}finally{e.releaseLock()}})}function yF(n){return dn(n?.getReader)}function gr(n){if(n instanceof ie)return n;if(null!=n){if(mF(n))return function zte(n){return new ie(t=>{const e=n[tC]();if(dn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(uF(n))return function qte(n){return new ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(hF(n))return function $te(n){return new ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,gT)})}(n);if(pF(n))return vF(n);if(_F(n))return function Gte(n){return new ie(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(yF(n))return function Wte(n){return vF(bF(n))}(n)}throw fF(n)}function vF(n){return new ie(t=>{(function Kte(n,t){var e,i,r,o;return fn(this,void 0,void 0,function*(){try{for(e=dF(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Fs(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function CF(n,t=0){return Gn((e,i)=>{e.subscribe(Nn(i,r=>Fs(i,n,()=>i.next(r),t),()=>Fs(i,n,()=>i.complete(),t),r=>Fs(i,n,()=>i.error(r),t)))})}function wF(n,t=0){return Gn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function DF(n,t){if(!n)throw new Error("Iterable cannot be null");return new ie(e=>{Fs(e,t,()=>{const i=n[Symbol.asyncIterator]();Fs(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Vt(n,t){return t?function ene(n,t){if(null!=n){if(mF(n))return function Yte(n,t){return gr(n).pipe(wF(t),CF(t))}(n,t);if(uF(n))return function Xte(n,t){return new ie(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(hF(n))return function Qte(n,t){return gr(n).pipe(wF(t),CF(t))}(n,t);if(pF(n))return DF(n,t);if(_F(n))return function Zte(n,t){return new ie(e=>{let i;return Fs(e,t,()=>{i=n[gF](),Fs(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>dn(i?.return)&&i.return()})}(n,t);if(yF(n))return function Jte(n,t){return DF(bF(n),t)}(n,t)}throw fF(n)}(n,t):gr(n)}const{isArray:tne}=Array,{getPrototypeOf:nne,prototype:ine,keys:rne}=Object;function xF(n){if(1===n.length){const t=n[0];if(tne(t))return{args:t,keys:null};if(function one(n){return n&&"object"==typeof n&&nne(n)===ine}(t)){const e=rne(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function EF(n){return n&&dn(n.schedule)}function mx(n){return n[n.length-1]}function SF(n){return dn(mx(n))?n.pop():void 0}function Gh(n){return EF(mx(n))?n.pop():void 0}const{isArray:ane}=Array;function kF(n){return It(t=>function cne(n,t){return ane(t)?n(...t):n(t)}(n,t))}function AF(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function px(...n){const t=SF(n),{args:e,keys:i}=xF(n),r=new ie(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;gr(e[d]).subscribe(Nn(o,h=>{u||(u=!0,l--),a[d]=h},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?AF(i,a):a),o.complete())}))}});return t?r.pipe(kF(t)):r}let TF=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(R(ai),R(nt))};static \u0275dir=fe({type:n})}return n})(),Nc=(()=>{class n extends TF{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,features:[Ge]})}return n})();const Ki=new Z(""),dne={provide:Ki,useExisting:tn(()=>Io),multi:!0},hne=new Z("");let Io=(()=>{class n extends TF{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,null==this._compositionMode&&(this._compositionMode=!function une(){const n=Ca()?Ca().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(R(ai),R(nt),R(hne,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Je([dne]),Ge]})}return n})();function fx(n){return null==n||0===gx(n)}function gx(n){return null==n?null:Array.isArray(n)||"string"==typeof n?n.length:n instanceof Set?n.size:null}const Si=new Z(""),Da=new Z(""),mne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _x{static min(t){return function MF(n){return t=>{if(null==t.value||null==n)return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function RF(n){return t=>{if(null==t.value||null==n)return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function OF(n){return fx(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function PF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function NF(n){return fx(n.value)||mne.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function LF(n){return t=>{const e=t.value?.length??gx(t.value);return null===e||0===e?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}(t)}static maxLength(t){return function FF(n){return t=>{const e=t.value?.length??gx(t.value);return null!==e&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}(t)}static pattern(t){return function BF(n){if(!n)return D_;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(fx(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return qF(t)}static composeAsync(t){return $F(t)}}function D_(n){return null}function HF(n){return null!=n}function jF(n){return Dh(n)?Vt(n):n}function UF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function VF(n,t){return t.map(e=>e(n))}function zF(n){return n.map(t=>function pne(n){return!n.validate}(t)?t:e=>t.validate(e))}function qF(n){if(!n)return null;const t=n.filter(HF);return 0==t.length?null:function(e){return UF(VF(e,t))}}function bx(n){return null!=n?qF(zF(n)):null}function $F(n){if(!n)return null;const t=n.filter(HF);return 0==t.length?null:function(e){return px(VF(e,t).map(jF)).pipe(It(UF))}}function yx(n){return null!=n?$F(zF(n)):null}function GF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function WF(n){return n._rawValidators}function KF(n){return n._rawAsyncValidators}function vx(n){return n?Array.isArray(n)?n:[n]:[]}function x_(n,t){return Array.isArray(n)?n.includes(t):n===t}function YF(n,t){const e=vx(t);return vx(n).forEach(r=>{x_(e,r)||e.push(r)}),e}function QF(n,t){return vx(t).filter(e=>!x_(n,e))}class XF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Yi extends XF{name;get formDirective(){return null}get path(){return null}}class Mo extends XF{_parent=null;name=null;valueAccessor=null}class ZF{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jo=(()=>{class n extends ZF{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(R(Mo,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ge]})}return n})();const Wh="VALID",S_="INVALID",Sd="PENDING",Kh="DISABLED";class kd{}class eB extends kd{value;source;constructor(t,e){super(),this.value=t,this.source=e}}class Dx extends kd{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}}class xx extends kd{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}}class k_ extends kd{status;source;constructor(t,e){super(),this.status=t,this.source=e}}class tB extends kd{source;constructor(t){super(),this.source=t}}class Ex extends kd{source;constructor(t){super(),this.source=t}}function Sx(n){return(A_(n)?n.validators:n)||null}function kx(n,t){return(A_(t)?t.asyncValidators:n)||null}function A_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ax{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(t){Sn(()=>this.statusReactive.set(t))}_status=Or(()=>this.statusReactive());statusReactive=Pn(void 0);get valid(){return this.status===Wh}get invalid(){return this.status===S_}get pending(){return this.status==Sd}get disabled(){return this.status===Kh}get enabled(){return this.status!==Kh}errors;get pristine(){return Sn(this.pristineReactive)}set pristine(t){Sn(()=>this.pristineReactive.set(t))}_pristine=Or(()=>this.pristineReactive());pristineReactive=Pn(!0);get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(t){Sn(()=>this.touchedReactive.set(t))}_touched=Or(()=>this.touchedReactive());touchedReactive=Pn(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(YF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QF(t,this._rawAsyncValidators))}hasValidator(t){return x_(this._rawValidators,t)}hasAsyncValidator(t){return x_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new xx(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new xx(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new Dx(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new Dx(!0,i))}markAsPending(t={}){this.status=Sd;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new k_(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kh,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new eB(this.value,i)),this._events.next(new k_(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wh,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wh||this.status===Sd)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new eB(this.value,e)),this._events.next(new k_(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kh:Wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Sd,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e,shouldHaveEmitted:!1!==t};const i=jF(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new k_(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Kh:this.errors?S_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sd)?Sd:this._anyControlsHaveStatus(S_)?S_:Wh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Dx(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new xx(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function wne(n){return Array.isArray(n)?bx(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Dne(n){return Array.isArray(n)?yx(n):n||null}(this._rawAsyncValidators)}}class Tx extends Ax{constructor(t,e,i){super(Sx(e),kx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function iB(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new re(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function nB(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new re(1e3,"");if(!i[e])throw new re(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{...e,onlySelf:!0})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),!1!==e?.emitEvent&&this._events.next(new Ex(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Lc=new Z("",{factory:()=>Yh}),Yh="always";function Qh(n,t,e=Yh){Ix(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Sne(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rB(n,t)})}(n,t),function Ane(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function kne(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rB(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ene(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function I_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),R_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function M_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ix(n,t){const e=WF(n);null!==t.validator?n.setValidators(GF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=KF(n);null!==t.asyncValidator?n.setAsyncValidators(GF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();M_(t._rawValidators,r),M_(t._rawAsyncValidators,r)}function R_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=WF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=KF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return M_(t._rawValidators,i),M_(t._rawAsyncValidators,i),e}function rB(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oB(n,t){Ix(n,t)}function Rx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function sB(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ox(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Io?e=o:function Mne(n){return Object.getPrototypeOf(n.constructor)===Nc}(o)?i=o:r=o}),r||i||e||null}const One={provide:Yi,useExisting:tn(()=>Fc)},Xh=Promise.resolve();let Fc=(()=>{class n extends Yi{callSetDisabledState;get submitted(){return Sn(this.submittedReactive)}_submitted=Or(()=>this.submittedReactive());submittedReactive=Pn(!1);_directives=new Set;form;ngSubmit=new ze;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new Tx({},bx(e),yx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Xh.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Qh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Xh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Xh.then(()=>{const i=this._findContainer(e.path),r=new Tx({});oB(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Xh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Xh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),sB(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new tB(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(R(Si,10),R(Da,10),R(Lc,8))};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ae("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([One]),Ge]})}return n})();function aB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const es=class extends Ax{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Sx(e),kx(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==e?.emitEvent&&this._events.next(new Ex(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Bne={provide:Mo,useExisting:tn(()=>ts)},lB=Promise.resolve();let ts=(()=>{class n extends Mo{_changeDetectorRef;callSetDisabledState;control=new es;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ox(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Rx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){lB.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Re(i);lB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function T_(n,t){return[...t.path,n]}(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(R(Yi,9),R(Si,10),R(Da,10),R(Ki,10),R(qt,8),R(Lc,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Je([Bne]),Ge,Wn]})}return n})(),N_=(()=>{class n extends Yi{callSetDisabledState;get submitted(){return Sn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Or(()=>this._submittedReactive());_submittedReactive=Pn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(R_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Qh(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){I_(e.control||null,e,!1),function Rne(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,i){this.form.get(e.path).setValue(i)}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,sB(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new tB(this.control)),"dialog"===e?.target?.method}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(I_(i||null,e),(n=>n instanceof es)(r)&&(Qh(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);oB(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Tne(n,t){return R_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ix(this.form,this),this._oldForm&&R_(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(i){return new(i||n)(R(Si,10),R(Da,10),R(Lc,8))};static \u0275dir=fe({type:n,features:[Ge,Wn]})}return n})();const Px=new Z(""),Gne={provide:Mo,useExisting:tn(()=>Nx)};let Nx=(()=>{class n extends Mo{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Ox(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&I_(i,this,!1),Qh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Rx(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&I_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(R(Si,10),R(Da,10),R(Ki,10),R(Px,8),R(Lc,8))};static \u0275dir=fe({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Je([Gne]),Ge,Wn]})}return n})();const Qne={provide:Yi,useExisting:tn(()=>Jh)};let Jh=(()=>{class n extends N_{form=null;ngSubmit=new ze;get control(){return this.form}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ae("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([Qne]),Ge]})}return n})(),kB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})(),uie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Lc,useValue:e.callSetDisabledState??Yh}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[kB]})}return n})(),hie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Px,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Lc,useValue:e.callSetDisabledState??Yh}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[kB]})}return n})();function _i(n,t){return Gn((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Nn(i,c=>{r?.unsubscribe();let l=0;const d=o++;gr(n(c,d)).subscribe(r=Nn(i,u=>i.next(t?t(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function F_(n){return Gn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function uo(n,t,e=1/0){return dn(t)?uo((i,r)=>It((o,s)=>t(i,o,r,s))(gr(n(i,r))),e):("number"==typeof t&&(e=t),Gn((i,r)=>function mie(n,t,e,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const h=()=>{u&&!c.length&&!l&&t.complete()},m=y=>l<i?g(y):c.push(y),g=y=>{o&&t.next(y),l++;let v=!1;gr(e(y,d++)).subscribe(Nn(t,F=>{r?.(F),o?m(F):t.next(F)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){const F=c.shift();s?Fs(t,s,()=>g(F)):g(F)}h()}catch(F){t.error(F)}}))};return n.subscribe(Nn(t,m,()=>{u=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Ad(n,t){return dn(t)?uo(n,t,1):uo(n,1)}function gn(n,t){return Gn((e,i)=>{let r=0;e.subscribe(Nn(i,o=>n.call(t,o,r++)&&i.next(o)))})}function We(...n){return Vt(n,Gh(n))}class Ro{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ro?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ro;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ro?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}addHeaderEntry(t,e){const i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pie{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}class fie{encodeKey(t){return AB(t)}encodeValue(t){return AB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const _ie=/%(\d[a-f0-9])/gi,bie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function AB(n){return encodeURIComponent(n).replace(_ie,(t,e)=>bie[e]??t)}function B_(n){return`${n}`}class Yt{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new fie,t.fromString){if(t.fromObject)throw new re(2805,!1);this.map=function gie(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(B_):[B_(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(B_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(B_(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function TB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IB(n){return typeof Blob<"u"&&n instanceof Blob}function MB(n){return typeof FormData<"u"&&n instanceof FormData}const em="Content-Type",RB="text/plain",OB="application/json",PB=`${OB}, ${RB}, */*`;class tm{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){let o;if(this.url=e,this.method=t.toUpperCase(),function yie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new re(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Ro,this.context??=new pie,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Yt,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||TB(this.body)||IB(this.body)||MB(this.body)||function vie(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MB(this.body)?null:IB(this.body)?this.body.type||null:TB(this.body)?null:"string"==typeof this.body?RB:this.body instanceof Yt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?OB:null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,d=t.credentials||this.credentials,u=t.referrer||this.referrer,h=t.integrity||this.integrity,m=t.referrerPolicy||this.referrerPolicy,g=t.transferCache??this.transferCache,y=t.timeout??this.timeout,v=void 0!==t.body?t.body:this.body,F=t.withCredentials??this.withCredentials,q=t.reportProgress??this.reportProgress;let Se=t.headers||this.headers,He=t.params||this.params;const Ke=t.context??this.context;return void 0!==t.setHeaders&&(Se=Object.keys(t.setHeaders).reduce((Ft,Ue)=>Ft.set(Ue,t.setHeaders[Ue]),Se)),t.setParams&&(He=Object.keys(t.setParams).reduce((Ft,Ue)=>Ft.set(Ue,t.setParams[Ue]),He)),new tm(e,i,v,{params:He,headers:Se,context:Ke,reportProgress:q,responseType:r,withCredentials:F,transferCache:g,keepalive:o,cache:a,priority:s,timeout:y,mode:c,redirect:l,credentials:d,referrer:u,integrity:h,referrerPolicy:m})}}var xa=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(xa||{});class Hx{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,i="OK"){this.headers=t.headers||new Ro,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}}class j_ extends Hx{constructor(t={}){super(t)}type=xa.ResponseHeader;clone(t={}){return new j_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nm extends Hx{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=xa.Response;clone(t={}){return new nm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}}class Hc extends Hx{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}const LB=new Z(""),Sie=/^\)\]\}',?\n/;let FB=(()=>{class n{xhrFactory;tracingService=p(fc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if("JSONP"===e.method)throw new re(-2800,!1);const i=this.xhrFactory;return We(null).pipe(_i(()=>new ie(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((v,F)=>s.setRequestHeader(v,F.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept",PB),!e.headers.has(em)){const v=e.detectContentTypeHeader();null!==v&&s.setRequestHeader(em,v)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){const v=e.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const v=s.statusText||"OK",F=new Ro(s.getAllResponseHeaders());return c=new j_({headers:F,status:s.status,statusText:v,url:s.responseURL||e.url}),c},d=this.maybePropagateTrace(()=>{let{headers:v,status:F,statusText:q,url:Se}=l(),He=null;204!==F&&(He=typeof s.response>"u"?s.responseText:s.response),0===F&&(F=He?200:0);let Ke=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof He){const Ft=He;He=He.replace(Sie,"");try{He=""!==He?JSON.parse(He):null}catch(Ue){He=Ft,Ke&&(Ke=!1,He={error:Ue,text:He})}}Ke?(o.next(new nm({body:He,headers:v,status:F,statusText:q,url:Se||void 0})),o.complete()):o.error(new Hc({error:He,headers:v,status:F,statusText:q,url:Se||void 0}))}),u=this.maybePropagateTrace(v=>{const{url:F}=l(),q=new Hc({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(q)});let h=u;e.timeout&&(h=this.maybePropagateTrace(v=>{const{url:F}=l(),q=new Hc({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:F||void 0});o.error(q)}));let m=!1;const g=this.maybePropagateTrace(v=>{m||(o.next(l()),m=!0);let F={type:xa.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(F.total=v.total),"text"===e.responseType&&s.responseText&&(F.partialText=s.responseText),o.next(F)}),y=this.maybePropagateTrace(v=>{let F={type:xa.UploadProgress,loaded:v.loaded};v.lengthComputable&&(F.total=v.total),o.next(F)});return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",h),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:xa.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(J(hL))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BB(n,t){return t(n)}function kie(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const HB=new Z(""),im=new Z("",{factory:()=>[]}),Tie=new Z(""),jB=new Z("",{providedIn:"root",factory:()=>!0});function Iie(){let n=null;return(t,e)=>{null===n&&(n=(p(HB,{optional:!0})??[]).reduceRight(kie,BB));const i=p(pf);if(p(jB)){const o=i.add();return n(t,e).pipe(F_(o))}return n(t,e)}}let U_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):J(FB),r},providedIn:"root"})}return n})(),Vx=(()=>{class n{backend;injector;chain=null;pendingTasks=p(pf);contributeToStability=p(jB);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(im),...this.injector.get(Tie,[])]));this.chain=i.reduceRight((r,o)=>function Aie(n,t,e){return(i,r)=>jr(e,()=>t(i,o=>n(o,r)))}(r,o,this.injector),BB)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(F_(i))}return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(J(U_),J(hi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):J(Vx),r},providedIn:"root"})}return n})();function qx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}let rm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof tm)o=e;else{let c,l;c=r.headers instanceof Ro?r.headers:new Ro(r.headers),r.params&&(l=r.params instanceof Yt?r.params:new Yt({fromObject:r.params})),o=new tm(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}const s=We(o).pipe(Ad(c=>this.handler.handle(c)));if(e instanceof tm||"events"===r.observe)return s;const a=s.pipe(gn(c=>c instanceof nm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(It(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new re(2806,!1);return c.body}));case"blob":return a.pipe(It(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new re(2807,!1);return c.body}));case"text":return a.pipe(It(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new re(2808,!1);return c.body}));default:return a.pipe(It(c=>c.body))}case"response":return a;default:throw new re(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Yt).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,qx(r,i))}post(e,i,r={}){return this.request("POST",e,qx(r,i))}put(e,i,r={}){return this.request("PUT",e,qx(r,i))}static \u0275fac=function(i){return new(i||n)(J(zx))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VB=new Z("",{factory:()=>!0}),zB=new Z("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qB=new Z("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});let Lie=(()=>{class n{cookieName=p(zB);doc=p(Ut);lastCookieString="";lastToken=null;parseCount=0;getToken(){const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=uL(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fie=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):J(Lie),r},providedIn:"root"})}return n})();function Bie(n,t){if(!p(VB)||"GET"===n.method||"HEAD"===n.method)return t(n);try{const r=p(OD).href,{origin:o}=new URL(r),{origin:s}=new URL(n.url,o);if(o!==s)return t(n)}catch{return t(n)}const e=p(Fie).getToken(),i=p(qB);return null!=e&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var Ea=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ea||{});function jc(n,t){return{\u0275kind:n,\u0275providers:t}}function Hie(...n){const t=[rm,Vx,{provide:zx,useExisting:Vx},{provide:U_,useFactory:()=>p(LB,{optional:!0})??p(FB)},{provide:im,useValue:Bie,multi:!0}];for(const e of n)t.push(...e.\u0275providers);return Yp(t)}const $B=new Z("");let Uie=(()=>{class n{constructor(){}intercept(e,i){if(e.params.has("noCache")){const r=e.clone({setHeaders:{"Cache-Control":"no-cache, no-store, must-revalidate"},params:e.params.delete("noCache")});return i.handle(r)}return i.handle(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),Qi=(()=>{class n{constructor(){}getValue(e){return localStorage.getItem(e.toString())}setValue(e,i){localStorage.setItem(e.toString(),i)}removeValue(e){localStorage.removeItem(e.toString())}clear(e=!1){Object.keys(Ht).forEach(r=>{let o=r.toString();(e||!o.includes("PERSISTENT"))&&localStorage.removeItem(r.toString())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var n,Ht=function(n){return n.USopenAfterCreate="USopenAfterCreate PERSISTENT",n.USlinkOptionActive="USlinkOptionActive PERSISTENT",n.USautoDocument="USautoDocument PERSISTENT",n.USautoCategoryMark="USautoCategoryMark PERSISTENT",n.UScategoryName="UScategoryName PERSISTENT",n.USpostDocAction="USpostDocAction PERSISTENT",n.USpostDocFolderId="USpostDocFolderId PERSISTENT",n.USpostDocFolderName="USpostDocFolderName PERSISTENT",n.USsyncUserSettings="USsyncUserSettings PERSISTENT",n.systemBaseUrl="systemBaseUrl PERSISTENT",n.primaryTarget="primaryTarget",n.selectedProjects="selectedProjects",n.selectedTags="selectedTags",n.officeDB="officeDB",n.sendInProcess="sendInProcess",n.contactDB="contactDB PERSISTENT",n.taskpaneActive="taskpaneActive",n.documentedItemId="documentedItemId PERSISTENT",n.asyncMessage="asyncMessage PERSISTENT",n.selectedEmail="selectedEmail",n.appointmentIsNew="appointmentIsNew",n}(Ht||{}),ri=function(n){return n[n.INFO=0]="INFO",n[n.DEBUG=1]="DEBUG",n[n.ERROR=2]="ERROR",n[n.WARN=3]="WARN",n[n.TRACE=4]="TRACE",n}(ri||{});(n=ri||(ri={})).getStyle=function t(e){switch(e){case n.DEBUG:return"color: #9E9E9E; font-weight: bold;";case n.ERROR:return"color: #F44336; font-weight: bold;";case n.WARN:return"color: #FF9800; font-weight: bold;";case n.TRACE:return"color: #9C27B0; font-weight: bold;";default:return"color: #2196F3; font-weight: bold;"}};class li{constructor(t="main"){this.className=t}info(t,...e){this.log(ri.INFO,t,...e)}debug(t,...e){this.log(ri.DEBUG,t,...e)}error(t,...e){this.log(ri.ERROR,t,...e)}warn(t,...e){this.log(ri.WARN,t,...e)}trace(t,...e){this.log(ri.TRACE,t,...e)}log(t=ri.INFO,e,...i){const r=(new Date).toLocaleString(),o=this.className,s=ri.getStyle(t),a="color: inherit;";let c="";if(null!=e&&""!==e)switch(c=`%c[BM4OWA][${o}][${ri[t]}][${r}] %c%o`,t){case ri.DEBUG:console.debug(c,s,a,e,...i);break;case ri.ERROR:console.error(c,s,a,e,...i);break;case ri.WARN:console.warn(c,s,a,e,...i);break;case ri.TRACE:console.trace(c,s,a,e,...i);break;default:console.log(c,s,a,e,...i)}else switch(c=`%c[BM4OWA][${o}][${ri[t]}][${r}]`,t){case ri.DEBUG:console.debug(c,s,...i);break;case ri.ERROR:console.error(c,s,...i);break;case ri.WARN:console.warn(c,s,...i);break;case ri.TRACE:console.trace(c,s,...i);break;default:console.log(c,s,...i)}}}class $x{constructor(t,e){this.component=t,this.data=e}}function qr(n){return!!n&&(n instanceof ie||dn(n.lift)&&dn(n.subscribe))}function GB(n=1/0){return uo(Qa,n)}function Uc(...n){return function Vie(){return GB(1)}()(Vt(n,Gh(n)))}function Bs(n){return new ie(t=>{gr(n()).subscribe(t)})}const Pr=new ie(n=>n.complete());function On(n){return n<=0?()=>Pr:Gn((t,e)=>{let i=0;t.subscribe(Nn(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}const Gx={now:()=>(Gx.delegate||Date).now(),delegate:void 0};class V_ extends Oe{constructor(t=1/0,e=1/0,i=Gx){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function WB(n={}){const{connector:t=()=>new Oe,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=c=void 0,d=u=!1},g=()=>{const y=s;m(),y?.unsubscribe()};return Gn((y,v)=>{l++,!u&&!d&&h();const F=c=c??t();v.add(()=>{l--,0===l&&!u&&!d&&(a=Wx(g,r))}),F.subscribe(v),!s&&l>0&&(s=new Mu({next:q=>F.next(q),error:q=>{u=!0,h(),a=Wx(m,e,q),F.error(q)},complete:()=>{d=!0,h(),a=Wx(m,i),F.complete()}}),gr(y).subscribe(s))})(o)}}function Wx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Mu({next:()=>{i.unsubscribe(),n()}});return gr(t(...e)).subscribe(i)}function Kx(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,WB({connector:()=>new V_(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class om{}let KB=(()=>{class n extends om{getTranslation(e){return We({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class Yx{}let YB=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function z_(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let r,o,s,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!z_(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&typeof t[o]<"u")return!1;return!0}if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!z_(n[o],t[o]))return!1;return!0}}return!1}function Sa(n){return typeof n<"u"&&null!==n}function Qx(n){return n&&"object"==typeof n&&!Array.isArray(n)}function QB(n,t){let e=Object.assign({},n);return Qx(n)&&Qx(t)&&Object.keys(t).forEach(i=>{Qx(t[i])?i in n?e[i]=QB(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}class q_{}let XB=(()=>{class n extends q_{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let r;return r="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,r}getValue(e,i){let r="string"==typeof i?i.split("."):[i];i="";do{i+=r.shift(),!Sa(e)||!Sa(e[i])||"object"!=typeof e[i]&&r.length?r.length?i+=".":e=void 0:(e=e[i],i="")}while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return Sa(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class $_{}let ZB=(()=>{class n extends $_{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class JB{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ze;onLangChange=new ze;onDefaultLangChange=new ze}const Xx=new Z("USE_STORE"),Zx=new Z("USE_DEFAULT_LANG"),Jx=new Z("DEFAULT_LANGUAGE"),eE=new Z("USE_EXTEND");let zn=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new ze;_onLangChange=new ze;_onDefaultLangChange=new ze;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,r,o,s,a=!0,c=!1,l=!1,d){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=c,this.extend=l,d&&this.setDefaultLang(d)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=e),i.pipe(On(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return We(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe(On(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),We(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(Kx(1),On(1));return this.loadingTranslations=i.pipe(It(r=>this.compiler.compileTranslations(r,e)),Kx(1),On(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?{...r,...this.translations[e]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(r||this.extend)&&this.translations[e]?QB(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let c of i)s[c]=this.getParsedResult(e,c,r),qr(s[c])&&(a=!0);return a?px(i.map(l=>qr(s[l])?s[l]:We(s[l]))).pipe(It(l=>{let d={};return l.forEach((u,h)=>{d[i[h]]=u}),d})):s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),typeof o>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof o>"u"){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:i}get(e,i){if(!Sa(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ad(r=>qr(r=this.getParsedResult(r,e,i))?r:We(r)));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return qr(r)?r:We(r)}}getStreamOnTranslationChange(e,i){if(!Sa(e)||!e.length)throw new Error('Parameter "key" required');return Uc(Bs(()=>this.get(e,i)),this.onTranslationChange.pipe(_i(r=>{const o=this.getParsedResult(r.translations,e,i);return"function"==typeof o.subscribe?o:We(o)})))}stream(e,i){if(!Sa(e)||!e.length)throw new Error('Parameter "key" required');return Uc(Bs(()=>this.get(e,i)),this.onLangChange.pipe(_i(r=>{const o=this.getParsedResult(r.translations,e,i);return qr(o)?o:We(o)})))}instant(e,i){if(!Sa(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(qr(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof e>"u"?void 0:(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||n)(J(JB),J(om),J($_),J(q_),J(Yx),J(Zx),J(Xx),J(eE),J(Jx))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),sm=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){let o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);qr(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(z_(e,this.lastKey)&&z_(i,this.lastParams))return this.value;let r;if(Sa(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(R(zn,16),R(qt,16))};static \u0275pipe=ur({name:"translate",type:n,pure:!1,standalone:!1});static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),qie=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:om,useClass:KB},e.compiler||{provide:$_,useClass:ZB},e.parser||{provide:q_,useClass:XB},e.missingTranslationHandler||{provide:Yx,useClass:YB},JB,{provide:Xx,useValue:e.isolate},{provide:Zx,useValue:e.useDefaultLang},{provide:eE,useValue:e.extend},{provide:Jx,useValue:e.defaultLanguage},zn]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:om,useClass:KB},e.compiler||{provide:$_,useClass:ZB},e.parser||{provide:q_,useClass:XB},e.missingTranslationHandler||{provide:Yx,useClass:YB},{provide:Xx,useValue:e.isolate},{provide:Zx,useValue:e.useDefaultLang},{provide:eE,useValue:e.extend},{provide:Jx,useValue:e.defaultLanguage},zn]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})(),e3=(()=>{class n{constructor(e){this.translate=e,this.messageEvent=new ze,this.nextModal=null,this.previousModal=null,e.setDefaultLang("all"),e.use("all")}ngOnInit(){this.next=this.data.nextType}ngAfterViewInit(){this.messageEvent.emit(this.modalTemp),this.modalHeader=this.data.modalHeader,this.modalFooter=this.data.modalFooter}getTemplate(){return this.modalTemp}extractDBFromPointer(e){return e.substring(e.lastIndexOf("|")+1)}confirmAction(){}cancelAction(){this.data.closeAllModal()}closeAll(){this.data.closeAllModal()}get next(){return this.nextModal}set next(e){this.nextModal=e}get previous(){return this.previousModal}set previous(e){this.previousModal=e}set title(e){this.modalTitle=e}openAnotherModal(e,i){return null!=e?this.modalMain.loadComponent(e,i):null}static{this.\u0275fac=function(i){return new(i||n)(R(zn))}}static{this.\u0275dir=fe({type:n,inputs:{data:"data",modalMain:"modalMain"},outputs:{messageEvent:"messageEvent"},standalone:!1})}}return n})(),ns=(()=>{class n{constructor(e){this.local=e,this.console=new li("GraphHelper"),this.syncUserSettings=null,this.roamingSettingsNotUpToDate=null}set(e,i){const r=Date.now().toString();Office.context.roamingSettings.set(Kt.USlastUpdate,r),sessionStorage.setItem("BM4O_"+Kt.USlastUpdate,r),Office.context.roamingSettings.set(e,i);let o=this.getLocalKey(e);this.local.setValue(o,i)}get(e){let i=null,r=this.getLocalKey(e);if(this.isSyncUSerSettings()&&!this.isRoamingSettingsNotUpToDate()){let o=Office.context.roamingSettings.get(e);null!=o&&(i=o,this.local.setValue(r,o))}else{let o=this.local.getValue(r);if(null!=o)i=o;else{let s=Office.context.roamingSettings.get(e);null!=s&&(i=s,this.local.setValue(r,s))}}if(null==i){const o=$ie[e];null!=o?(i=String(o),Office.context.roamingSettings.set(e,i),this.local.setValue(r,i)):i=""}return i}remove(e){Office.context.roamingSettings.remove(e);let i=this.getLocalKey(e);this.local.removeValue(i)}save(){return new ie(e=>{this.isRoamingSettingsNotUpToDate()&&this.syncLocalStorageToRoamingSettings(),Office.context.roamingSettings.saveAsync(i=>{e.next(i)})})}syncLocalStorageToRoamingSettings(){try{this.console.info("syncLocalStorageToRoamingSettings"),Object.values(Kt).forEach(e=>{try{const i=this.getLocalKey(e);if(null!=i){const r=this.local.getValue(i);null!=r&&Office.context.roamingSettings.set(e,r)}}catch(i){this.console.warn(`Fehler beim Synchronisieren von ${e}:`,i)}})}catch(e){this.console.error("Fehler beim Synchronisieren von LocalStorage zu RoamingSettings:",e)}}isSyncUSerSettings(){if(null==this.syncUserSettings){if(this.isRoamingSettingsNotUpToDate())this.syncUserSettings=this.local.getValue(this.getLocalKey(Kt.USsyncUserSettings));else if(this.syncUserSettings=Office.context.roamingSettings.get(Kt.USsyncUserSettings),null==this.syncUserSettings||null==this.syncUserSettings){let e=Office.context.roamingSettings.get(Kt.systemBaseUrl);this.syncUserSettings=String(null==e),this.set(Kt.USsyncUserSettings,this.syncUserSettings),this.save().subscribe(i=>{})}this.console.info("isSyncUSerSettings:",this.syncUserSettings)}return"true"===this.syncUserSettings}setSyncUserSettings(e){this.syncUserSettings=String(e),this.set(Kt.USsyncUserSettings,this.syncUserSettings)}isRoamingSettingsNotUpToDate(){if(null==this.roamingSettingsNotUpToDate){const e=Office.context.roamingSettings.get(Kt.USlastUpdate),i=sessionStorage.getItem("BM4O_"+Kt.USlastUpdate);if(null==i)this.roamingSettingsNotUpToDate=!1;else if(null==e)this.roamingSettingsNotUpToDate=!0;else{const r=parseInt(e,10);this.roamingSettingsNotUpToDate=parseInt(i,10)>r}this.console.info("isRoamingSettingsNotUpToDate:",this.roamingSettingsNotUpToDate)}return this.roamingSettingsNotUpToDate}getLocalKey(e){let i=e.toString();return Ht[i]}get OpenAfterCreate(){return"true"===this.get(Kt.USopenAfterCreate)}get LinkOptionActive(){return"true"===this.get(Kt.USlinkOptionActive)}get AutoDocument(){return"true"===this.get(Kt.USautoDocument)}get AutoCategoryMark(){return"true"===this.get(Kt.USautoCategoryMark)}get CategoryName(){return this.get(Kt.UScategoryName)}get PostDocAction(){return this.get(Kt.USpostDocAction)||"none"}get PostDocFolderId(){return this.get(Kt.USpostDocFolderId)||""}get PostDocFolderName(){return this.get(Kt.USpostDocFolderName)||""}static{this.\u0275fac=function(i){return new(i||n)(J(Qi))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kt=function(n){return n.USopenAfterCreate="USopenAfterCreate",n.USlinkOptionActive="USlinkOptionActive",n.USautoDocument="USautoDocument",n.USautoCategoryMark="USautoCategoryMark",n.UScategoryName="UScategoryName",n.USpostDocAction="USpostDocAction",n.USpostDocFolderId="USpostDocFolderId",n.USpostDocFolderName="USpostDocFolderName",n.USsyncUserSettings="USsyncUserSettings",n.USlastUpdate="USlastUpdate",n.systemBaseUrl="systemBaseUrl",n}(Kt||{});let $ie=(()=>{class n{static{this.USopenAfterCreate=!0}static{this.USlinkOptionActive=!1}static{this.USautoDocument=!1}static{this.USautoCategoryMark=!1}static{this.USpostDocAction="none"}static{this.USpostDocFolderId=""}static{this.USpostDocFolderName=""}static{this.USsyncUserSettings=!0}static{this.systemBaseUrl=""}}return n})();const Gie=["address","path","index","lc","localLC","modalDesign","init","webInt","webIntModal","login","mailAddr","addressChange","graphRequired","graphLoaded","attachmentsLoaded","deleteAttachments","documentIconReady","connector","platform","destinationChanged","documentDestinationCheckChanged","itemRecognized","updateBM4OData","activeWindowChanged","giFeaturesReady"];let ki=(()=>{class n{constructor(){this.waitListRecord={},this.waitListWithFunction={},Gie.forEach(e=>{this.waitListRecord[e]=[],this.waitListWithFunction[e]=[]})}normalizeObserver(e){return{next:"function"==typeof e.next?e.next.bind(e):()=>{},error:"function"==typeof e.error?e.error.bind(e):s=>{},complete:"function"==typeof e.complete?e.complete.bind(e):()=>{}}}addToWaitList(e,i){this.waitListRecord[e].push(this.normalizeObserver(i))}addToWaitListFunc(e,i,r){this.waitListWithFunction[e].push({subscriber:this.normalizeObserver(i),function:r})}accessWaitList(e){return this.waitListRecord[e]}clearWaitList(e){this.waitListRecord[e].length=0}resolveFuncWaitList(e){for(const i of this.waitListWithFunction[e])i.function(i.subscriber);this.waitListWithFunction[e].length=0}notifyWaitList(e,i,r){for(const o of this.accessWaitList(e))o.next(i),r&&o.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dt=(()=>{class n{get activeWindow(){return this._activeWindow}set activeWindow(e){let i=this._activeWindow;this._activeWindow=e;let r=new Wie;r.currentWindow=i,r.newWindow=e,this.activeWindowChanged(r)}constructor(e,i){this.waitListService=e,this.userSettings=i,this.loggedIn=!1,this.showSelectedDocuments=!1,this.indexParamStart="index.xsp?",this.urlExtension=this.indexParamStart+"loadTabs=false",this.systemBaseUrl="",this.autoDeleteAfterDocumentation=!1,this.configJson={createContact:!1,createCompany:!1,readContact:!1,readCompany:!1,createEmail:!1,readEmail:!1,allowProjectSelection:!1,createTicket:!1,readTicket:!1},this.curSystem="gi",this.getSystemBaseUrl()&&(this.curSystem="start",this.setSystemFromURL(this.getSystemBaseUrl())),this.mailAddr="",this.mailUnid="",this.subject="",this.resetMailAddr="",this.cc=[],this.to=[],this.from={},this.mailAddrCount=0,this.getSystemBaseUrl()&&(this.systemBaseUrlObj=new URL(this.getSystemBaseUrl())),this.lcs={},this.lcsLocal={},this.selectedContacts=null,this.modalSessionCache=!1,this.rippleColorRGBA="rgba(154, 169, 255, 0.1)",this.createAddressOpen=!1,this.ownMail="",this.showMailBody=!0,this.connectorType=null,this.allowActions=!1,this.allowCreate=!1,this.attachmentsLoaded=!0,this.useClient=!1,this.redirect=!1,this.redirect=!!new URLSearchParams(window.location.search).has("redirect"),this.optionsObj={method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"}}setSystemFromURL(e){return e.includes(".nsf")?(this.system="gi","gi"):(this.system="ba","ba")}get isRedirectPage(){return this.redirect}set isClient(e){this.useClient=e}get isClient(){return this.useClient}set attachmentsReady(e){this.attachmentsLoaded=e,this.waitListService.notifyWaitList("attachmentsLoaded",e,!0)}get attachmentsReady(){return this.attachmentsLoaded}set system(e){this.curSystem=e}get system(){return this.curSystem}set loginOpen(e){this.loginWindowOpen=e}get loginOpen(){return this.loginWindowOpen}set curOWAMessageID(e){this.messageID=e}get curOWAMessageID(){return this.messageID}set actionsAllowed(e){this.allowActions=e}get actionsAllowed(){return this.allowActions}set createAllowed(e){this.allowCreate=e}get createAllowed(){return this.allowCreate}set openMail(e){this.openEMail=e}get openMail(){return this.openEMail}set deleteAttachments(e){this.waitListService.notifyWaitList("deleteAttachments",e),this.deleteAttach=e}get deleteAttachments(){return this.deleteAttach}set curConnectorType(e){this.connectorType=e}get curConnectorType(){return this.connectorType}set curConnector(e){this.connector=e;try{const i=e;let r=!1;i&&(r="function"==typeof i.isLoggedIn?!!i.isLoggedIn():!!(i.isLoggedIn??i.loggedIn)),this.loggedIn=r}catch{}this.waitListService.notifyWaitList("connector",!0)}get curConnector(){return this.connector}get isCreateBlockOpen(){return this.createAddressOpen}get rippleColor(){return this.rippleColorRGBA}set displayMailBody(e){this.showMailBody=e}get displayMailBody(){return this.showMailBody}set curMailAddr(e){""===this.resetMailAddr&&(this.resetMailAddr=e),this.mailAddr=e,this.waitListService.resolveFuncWaitList("mailAddr")}get curMailAddr(){return this.mailAddr}get startMailAddr(){return this.resetMailAddr}set curSubject(e){this.subject=e}get curSubject(){return this.subject}set curCC(e){this.cc=e}get curCC(){return this.cc}set curTo(e){this.to=e}get curTo(){return this.to}set curFrom(e){this.from=e}get curFrom(){return this.from}set curMailAddrCount(e){this.mailAddrCount=e}get curMailAddrCount(){return this.mailAddrCount}set curMailUnid(e){this.mailUnid=e}get curMailUnid(){return this.mailUnid}get origin(){return this.systemBaseUrlObj.origin}get options(){return this.optionsObj}get languageConf(){return this.lcs}set languageConf(e){this.lcs=e}set ownMailAddr(e){this.ownMail=e}set languageConfLocal(e){this.lcsLocal=e}get languageConfLocal(){return this.lcsLocal}get currentContactsDB(){return this.selectedContacts}set currentContactsDB(e){this.selectedContacts=e}get modalCacheFlag(){return this.modalSessionCache}set modalCacheFlag(e){this.modalSessionCache=e}languageEntry(e){return this.lcs[e]}changeGlobalOptions(e){return this.changeOptionsObj(e,this.optionsObj)}changeOwnOptions(e){const i={};return Object.assign(i,this.optionsObj),this.changeOptionsObj(e,i)}objectWithParams(e){let i={};return i=Object.assign(i,this.options),i.params=e,i}clearTemps(){this.clearModalTemps()}clearModalTemps(){this.currentContactsDB=null}createAddressToggle(){this.createAddressOpen=!this.createAddressOpen}waitForWebInt(e){this.waitListService.addToWaitList("webInt",e)}notifyWaitList(){this.waitListService.notifyWaitList("webInt",this.getSystemBaseUrl(),!0),this.waitListService.clearWaitList("webInt")}changeOptionsObj(e,i){return new Map(Object.entries(e)).forEach((o,s)=>{i[s]=o}),i}showSpinner(){document.getElementById("loadingSpinner").style.display="block"}hideSpinner(){document.getElementById("loadingSpinner").style.display="none"}numericBackendVersion(){if("ba"===this.curSystem){if(!this.backendVersion)return 8e4;let e=this.backendVersion.split("."),i="";return e.forEach(r=>{i+=r.padStart(2,"0")}),Number.parseInt(i,10)}return 8}onActiveWindowChange(){return new ie(e=>{this.waitListService.addToWaitList("activeWindowChanged",e)})}activeWindowChanged(e){for(const i of this.waitListService.accessWaitList("activeWindowChanged"))i.next(e)}convertToLink(e){return this.getSystemBaseUrl()+this.urlExtension+"&openDocument="+e}set graphRequired(e){this.graphReq=e,this.waitListService.notifyWaitList("graphRequired",e,!0)}get graphRequired(){return this.graphReq}set graphLoaded(e){this.graphLoad=e;for(const i of this.waitListService.accessWaitList("graphLoaded"))i.next(e),i.complete()}get graphLoaded(){return this.graphLoad}getSystemBaseUrl(){return""===this.systemBaseUrl&&(this.systemBaseUrl=this.userSettings.get(Kt.systemBaseUrl)||"",(null==this.systemBaseUrl||""===this.systemBaseUrl||"undefined"===this.systemBaseUrl)&&(this.systemBaseUrl=window.localStorage.getItem("systemBaseUrl")||"",""!==this.systemBaseUrl&&this.setSystemBaseUrl(this.systemBaseUrl))),this.systemBaseUrl}setSystemBaseUrl(e){null==e||""===e?(this.userSettings.remove(Kt.systemBaseUrl),this.systemBaseUrl="",this.systemBaseUrlObj=new URL("")):(this.userSettings.set(Kt.systemBaseUrl,e),this.userSettings.save().subscribe(i=>{}),this.systemBaseUrl=e,this.systemBaseUrlObj=new URL(e),this.notifyWaitList())}static{this.\u0275fac=function(i){return new(i||n)(J(ki),J(ns))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Wie{}const tE={};class _n{_appId=p(ua);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(t,e=!1){return"ng"!==this._appId&&(t+=this._appId),tE.hasOwnProperty(t)||(tE[t]=0),`${t}${e?_n._infix+"-":""}${tE[t]++}`}static \u0275fac=function(e){return new(e||_n)};static \u0275prov=pe({token:_n,factory:_n.\u0275fac,providedIn:"root"})}class Kie extends zt{constructor(t,e){super()}schedule(t,e=0){return this}}const G_={setInterval(n,t,...e){const{delegate:i}=G_;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=G_;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class nE extends Kie{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return G_.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&G_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Pp(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const am={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=am;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new zt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=am;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=am;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};class cm{constructor(t,e=cm.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}cm.now=Gx.now;class iE extends cm{constructor(t,e=cm.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const t3=new class Qie extends iE{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Yie extends nE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=am.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&e===t._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(am.cancelAnimationFrame(e),t._scheduled=void 0)}});let rE,Xie=1;const W_={};function n3(n){return n in W_&&(delete W_[n],!0)}const Zie={setImmediate(n){const t=Xie++;return W_[t]=!0,rE||(rE=Promise.resolve()),rE.then(()=>n3(t)&&n()),t},clearImmediate(n){n3(n)}},{setImmediate:Jie,clearImmediate:ere}=Zie,K_={setImmediate(...n){const{delegate:t}=K_;return(t?.setImmediate||Jie)(...n)},clearImmediate(n){const{delegate:t}=K_;return(t?.clearImmediate||ere)(n)},delegate:void 0},lm=(new class nre extends iE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class tre extends nE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=K_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(K_.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),new iE(nE)),rre=lm;function oE(n=0,t,e=rre){let i=-1;return null!=t&&(EF(t)?e=t:i=t),new ie(r=>{let o=function sre(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function r3(n,t=lm){return function ore(n){return Gn((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Nn(e,l=>{i=!0,r=l,o||gr(n(l)).subscribe(o=Nn(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>oE(n,t))}function ka(n,t=0){return function o3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?t:0}function Vi(n){return n instanceof nt?n.nativeElement:n}let sE;try{sE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sE=!1}let oi=(()=>{class n{_platformId=p(aw);isBrowser=this._platformId?function XZ(n){return n===mL}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!sE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const are=new Z("cdk-dir-doc",{providedIn:"root",factory:()=>p(Ut)}),cre=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Nr=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Pn("ltr");change=new ze;constructor(){const e=p(are,{optional:!0});e&&this.valueSignal.set(function lre(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?cre.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var is=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(is||{});let Y_,Vc;function s3(){if(null==Vc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Vc=!1,Vc;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Vc=!0;else{const n=Element.prototype.scrollTo;Vc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Vc}function dm(){if("object"!=typeof document||!document)return is.NORMAL;if(null==Y_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Y_=is.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,Y_=0===n.scrollLeft?is.NEGATED:is.INVERTED),n.remove()}return Y_}let wn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})(),um=(()=>{class n{_ngZone=p($e);_platform=p(oi);_renderer=p(Sr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Oe;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ie(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const r=e>0?this._scrolled.pipe(r3(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):We()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Vi(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ure=(()=>{class n{elementRef=p(nt);scrollDispatcher=p(um);ngZone=p($e);dir=p(Nr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Oe;_renderer=p(ai);_cleanupScroll;_elementScrolled=new Oe;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&dm()!=is.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),dm()==is.INVERTED?e.left=e.right:dm()==is.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;s3()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&dm()==is.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&dm()==is.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Aa=(()=>{class n{_platform=p(oi);_listeners;_viewportSize;_change=new Oe;_document=p(Ut);constructor(){const e=p($e),i=p(Sr).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){const r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(r3(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})(),aE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn,zc,wn,zc]})}return n})();function a3(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function c3(n){const t=n.search(/#|\?|$/);return"/"===n[t-1]?n.slice(0,t-1)+n.slice(t):n}function qc(n){return n&&"?"!==n[0]?`?${n}`:n}let cE=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(pre),providedIn:"root"})}return n})();const mre=new Z("");let lE,pre=(()=>{class n extends cE{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return a3(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+qc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+qc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(J(OD),J(mre,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$c=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _re(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(c3(l3(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qc(i))}normalize(e){return n.stripTrailingSlash(function gre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,l3(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=qc;static joinWithSlash=a3;static stripTrailingSlash=c3;static \u0275fac=function(i){return new(i||n)(J(cE))};static \u0275prov=pe({token:n,factory:()=>function fre(){return new $c(J(cE))}(),providedIn:"root"})}return n})();function l3(n){return n.replace(/\/index.html$/,"")}function Q_(n){if(function bre(){if(null==lE){const n=typeof document<"u"?document.head:null;lE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lE}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function hm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Xi(n){return n.composedPath?n.composedPath()[0]:n.target}function d3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const X_=new WeakMap;let Ai=(()=>{class n{_appRef;_injector=p(kt);_environmentInjector=p(hi);load(e){const i=this._appRef=this._appRef||this._injector.get(Xo);let r=X_.get(i);r||(r={loaders:new Set,refs:[]},X_.set(i,r),i.onDestroy(()=>{X_.get(i)?.refs.forEach(o=>o.destroy()),X_.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(lL(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Td(n){return Array.isArray(n)?n:[n]}class dE{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Id extends dE{component;viewContainerRef;injector;projectableNodes;constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}}class Gc extends dE{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class yre extends dE{element;constructor(t){super(),this.element=t instanceof nt?t.nativeElement:t}}class Z_{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Id?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Gc?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof yre?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vre extends Z_{outletElement;_appRef;_defaultInjector;constructor(t,e,i){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=i}attachComponentPortal(t){let e;if(t.viewContainerRef){const i=t.injector||t.viewContainerRef.injector,r=i.get(Os,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{const i=this._appRef,r=t.injector||this._defaultInjector||kt.NULL,o=r.get(hi,i.injector);e=lL(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{const e=t.element,i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Md=(()=>{class n extends Z_{_moduleRef=p(Os,{optional:!0});_document=p(Ut);_viewContainerRef=p(Un);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ze;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{const i=e.element,r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ge]})}return n})(),Rd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})();function Ti(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const h3=s3();function hE(n){return new Nre(n.get(Aa),n.get(Ut))}class Nre{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=bi(-this._previousScrollPosition.left),t.style.top=bi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),h3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h3&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Fre{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(gn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class mE{enable(){}disable(){}attach(){}}function pE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function m3(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}function Pd(n,t){return new Bre(n.get(um),n.get(Aa),n.get($e),t)}class Bre{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();pE(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Hre=(()=>{class n{_injector=p(kt);constructor(){}noop=()=>new mE;close=e=>function Lre(n,t){return new Fre(n.get(um),n.get($e),n.get(Aa),t)}(this._injector,e);block=()=>hE(this._injector);reposition=e=>Pd(this._injector,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Nd{positionStrategy;scrollStrategy=new mE;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class jre{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let p3=(()=>{class n{_attachedOverlays=[];_document=p(Ut);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ure=(()=>{class n extends p3{_ngZone=p($e);_renderer=p(Sr).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{const i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vre=(()=>{class n extends p3{_platform=p(oi);_ngZone=p($e);_renderer=p(Sr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){const i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Xi(e)};_clickListener=e=>{const i=Xi(e),r="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){const a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(f3(a.overlayElement,i)||f3(a.overlayElement,r))break;const c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f3(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let g3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}\n"],encapsulation:2,changeDetection:0})}return n})(),fE=(()=>{class n{_platform=p(oi);_containerElement;_document=p(Ut);_styleLoader=p(Ai);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||d3()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),d3()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(g3)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zre{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{const t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class _3{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Oe;_attachments=new Oe;_detachments=new Oe;_positionStrategy;_scrollStrategy;_locationChanges=zt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Oe;_outsidePointerEvents=new Oe;_afterNextRenderRef;constructor(t,e,i,r,o,s,a,c,l,d=!1,u,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=u,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){this._attachHost();const e=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=pi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=bi(this._config.width),t.height=bi(this._config.height),t.minWidth=bi(this._config.minWidth),t.minHeight=bi(this._config.minHeight),t.maxWidth=bi(this._config.maxWidth),t.maxHeight=bi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){const t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;t?t instanceof Element?t.after(this._host):"parent"===t.type&&t.element?.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new zre(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){const r=Td(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=pi(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){const t=this._scrollStrategy;t?.disable(),t?.detach?.()}}const b3="cdk-overlay-connected-position-bounding-box",qre=/([A-Za-z%]+)$/;function mm(n,t){return new $re(t,n.get(Aa),n.get(Ut),n.get(oi),n.get(fE))}class $re{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Oe;_resizeSubscription=zt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(b3),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(b3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){if("global"===this._popoverLocation)return null;let t=null;return"inline"===this._popoverLocation?this._origin instanceof nt?t=this._origin.nativeElement:this._origin instanceof Element&&(t=this._origin):t=this._popoverLocation.element,"inline"===this._popoverLocation?t:t?{type:"parent",element:t}:null}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=v3(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,m=a+o.height-i.height,g=this._subtractOverflows(o.width,0-s,s+o.width-i.width),y=this._subtractOverflows(o.height,h,m),v=g*y;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=y3(this._overlayRef.getConfig().minHeight),a=y3(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=v3(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:t.x<this._getViewportMarginStart()?o.left-i.left-t.x:0,u=r.height<=o.height?c||-a:t.y<this._getViewportMarginTop()?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function Gre(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new jre(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a;if("top"===e.overlayY)s=t.y,o=i.height-s+this._getViewportMarginBottom();else if("bottom"===e.overlayY)a=i.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-a+this._getViewportMarginTop();else{const m=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;o=2*m,s=t.y-m,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-g/2)}const c="start"===e.overlayX&&!r||"end"===e.overlayX&&r;let d,u,h;if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=t.x-this._getViewportMarginStart();else if(c)u=t.x,d=i.right-t.x-this._getViewportMarginEnd();else{const m=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;d=2*m,u=t.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=bi(i.width),r.height=bi(i.height),r.top=bi(i.top)||"auto",r.bottom=bi(i.bottom)||"auto",r.left=bi(i.left)||"auto",r.right=bi(i.right)||"auto",r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=bi(o)),s&&(r.maxWidth=bi(s))}this._lastBoundingBoxSize=i,Wc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Wc(i,this._getExactOverlayY(e,t,d)),Wc(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=bi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=bi(s.maxWidth):o&&(i.maxWidth="")),Wc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=bi(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=bi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:m3(t,i),isOriginOutsideView:pE(t,i),isOverlayClipped:m3(e,i),isOverlayOutsideView:pE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+t-this._getViewportMarginEnd(),bottom:i.top+e-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Td(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return"number"==typeof this._viewportMargin?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return"number"==typeof this._viewportMargin?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return"number"==typeof this._viewportMargin?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return"number"==typeof this._viewportMargin?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){const t=this._origin;if(t instanceof nt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Wc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function y3(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(qre);return e&&"px"!==e?null:parseFloat(t)}return n||null}function v3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const C3="cdk-global-overlay-wrapper";function nb(n){return new Wre}class Wre{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(C3),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let m="",g="",y="";c?y="flex-start":"center"===d?(y="center",h?g=u:m=u):h?"left"===d||"end"===d?(y="flex-end",m=u):("right"===d||"start"===d)&&(y="flex-start",g=u):"left"===d||"start"===d?(y="flex-start",m=u):("right"===d||"end"===d)&&(y="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=c?"0":m,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":g,e.justifyContent=y,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(C3),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Kre=(()=>{class n{_injector=p(kt);constructor(){}global(){return nb()}flexibleConnectedTo(e){return mm(this._injector,e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w3=new Z("OVERLAY_DEFAULT_CONFIG");function Kc(n,t){n.get(Ai).load(g3);const e=n.get(fE),i=n.get(Ut),r=n.get(_n),o=n.get(Xo),s=n.get(Nr),a=n.get(ai,null,{optional:!0})||n.get(Sr).createRenderer(null,null),c=new Nd(t),l=n.get(w3,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,c.usePopover="showPopover"in i.body&&(t?.usePopover??l);const d=i.createElement("div"),u=i.createElement("div");d.id=r.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),u.appendChild(d),c.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));const h=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(u),h&&(h instanceof Element?h.after(u):"parent"===h.type&&h.element?.appendChild(u)),new _3(new vre(d,o,n),u,d,c,n.get($e),n.get(Ure),i,n.get($c),n.get(Vre),t?.disableAnimations??"NoopAnimations"===n.get(Af,null,{optional:!0}),n.get(hi),a)}let D3=(()=>{class n{scrollStrategies=p(Hre);_positionBuilder=p(Kre);_injector=p(kt);constructor(){}create(e){return Kc(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yre=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qre=new Z("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>Pd(n)}});let ib=(()=>{class n{elementRef=p(nt);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})();const Xre=new Z("cdk-connected-overlay-default-config");let x3=(()=>{class n{_dir=p(Nr,{optional:!0});_injector=p(kt);_overlayRef;_templatePortal;_backdropSubscription=zt.EMPTY;_attachSubscription=zt.EMPTY;_detachSubscription=zt.EMPTY;_positionSubscription=zt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=p(Qre);_ngZone=p($e);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){"string"!=typeof e&&this._assignConfig(e)}backdropClick=new ze;positionChange=new ze;attach=new ze;detach=new ze;overlayKeydown=new ze;overlayOutsideClick=new ze;constructor(){const e=p(Ln),i=p(Un),r=p(Xre,{optional:!0}),o=p(w3,{optional:!0});this.usePopover=!1===o?.usePopover?null:"global",this._templatePortal=new Gc(e,i),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Yre);const e=this._overlayRef=Kc(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ti(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),o=Xi(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Nd({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(null===this.usePopover?"global":this.usePopover)}_createPositionStrategy(){const e=mm(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof ib?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ib?this.origin.elementRef.nativeElement:this.origin instanceof nt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();const e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(i=>this.backdropClick.emit(i)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Cre(n,t=!1){return Gn((e,i)=>{let r=0;e.subscribe(Nn(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Re],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Re],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Re],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Re],push:[2,"cdkConnectedOverlayPush","push",Re],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Re],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",Re],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Wn]})}return n})(),Ma=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[D3],imports:[wn,Rd,aE,aE]})}return n})(),pm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return n})();function fm(...n){const t=Gh(n),e=SF(n),{args:i,keys:r}=xF(n);if(0===i.length)return Vt([],t);const o=new ie(function Zre(n,t,e=Qa){return i=>{E3(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)E3(t,()=>{const l=Vt(n[c],t);let d=!1;l.subscribe(Nn(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>AF(r,s):Qa));return e?o.pipe(kF(e)):o}function E3(n,t,e){n?Fs(e,n,t):t()}function S3(n){return gn((t,e)=>n<=e)}function gE(n,t=lm){return Gn((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}e.subscribe(Nn(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Ii(...n){const t=Gh(n);return Gn((e,i)=>{(t?Uc(n,e,t):Uc(n,e)).subscribe(i)})}function $t(n){return Gn((t,e)=>{gr(n).subscribe(Nn(e,()=>e.complete(),Lp)),!e.closed&&t.subscribe(e)})}const k3=new Set;let Yc,A3=(()=>{class n{_platform=p(oi);_nonce=p(cw,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eoe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jre(n,t){if(!k3.has(n))try{Yc||(Yc=document.createElement("style"),t&&Yc.setAttribute("nonce",t),Yc.setAttribute("type","text/css"),document.head.appendChild(Yc)),Yc.sheet&&(Yc.sheet.insertRule(`@media ${n} {body{ }}`,0),k3.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eoe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _E=(()=>{class n{_mediaMatcher=p(A3);_zone=p($e);_queries=new Map;_destroySubject=new Oe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return T3(Td(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=fm(T3(Td(e)).map(s=>this._registerQuery(s).observable));return o=Uc(o.pipe(On(1)),o.pipe(S3(1),gE(0))),o.pipe(It(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ie(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ii(i),It(({matches:s})=>({query:e,matches:s})),$t(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T3(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let I3=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),noe=(()=>{class n{_mutationObserverFactory=p(I3);_observedElements=new Map;_ngZone=p($e);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Vi(e);return new ie(r=>{const s=this._observeElement(i).pipe(It(a=>a.filter(c=>!function toe(n){if("characterData"===n.type&&n.target instanceof Comment)return!0;if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}(c))),gn(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Oe,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ioe=(()=>{class n{_contentObserver=p(noe);_elementRef=p(nt);event=new ze;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=ka(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(gE(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Re],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),bE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[I3]})}return n})(),yE=(()=>{class n{_platform=p(oi);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function ooe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function roe(n){try{return n.frameElement}catch{return null}}(function moe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===R3(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=R3(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function uoe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function hoe(n){return!function aoe(n){return function loe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function soe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function coe(n){return function doe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||M3(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function R3(n){if(!M3(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class O3{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?pi(t,{injector:this._injector}):setTimeout(t)}}let poe=(()=>{class n{_checker=p(yE);_ngZone=p($e);_document=p(Ut);_injector=p(kt);constructor(){p(Ai).load(pm)}create(e,i=!1){return new O3(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const foe=new Z("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),goe=new Z("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _oe=0,P3=(()=>{class n{_ngZone=p($e);_defaultOptions=p(goe,{optional:!0});_liveElement;_document=p(Ut);_previousTimeout;_currentPromise;_currentResolve;constructor(){const e=p(foe,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+_oe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qc=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Qc||{});const N3="cdk-high-contrast-black-on-white",L3="cdk-high-contrast-white-on-black",vE="cdk-high-contrast-active";let gm,boe=(()=>{class n{_platform=p(oi);_hasCheckedHighContrastMode;_document=p(Ut);_breakpointSubscription;constructor(){this._breakpointSubscription=p(_E).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Qc.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Qc.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Qc.BLACK_ON_WHITE}return Qc.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(vE,N3,L3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Qc.BLACK_ON_WHITE?e.add(vE,N3):i===Qc.WHITE_ON_BLACK&&e.add(vE,L3)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CE=(()=>{class n{constructor(){p(boe)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[bE]})}return n})();function voe(n,t){return n===t}function rb(n){return 0===n.buttons||0===n.detail}function ob(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}function sb(n){return function Coe(){if(null==gm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gm=!0}))}finally{gm=gm||!1}return gm}()?n:!!n.capture}const woe=new Z("cdk-input-modality-detector-options"),Doe={ignoreKeys:[18,17,224,91,16]},wE={passive:!0,capture:!0};let xoe=(()=>{class n{_platform=p(oi);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new yi(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xi(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rb(e)?"keyboard":"mouse"),this._mostRecentTarget=Xi(e))};_onTouchstart=e=>{ob(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xi(e))};constructor(){const e=p($e),i=p(Ut),r=p(woe,{optional:!0});if(this._options={...Doe,...r},this.modalityDetected=this._modality.pipe(S3(1)),this.modalityChanged=this.modalityDetected.pipe(function yoe(n,t=Qa){return n=n??voe,Gn((e,i)=>{let r,o=!0;e.subscribe(Nn(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),this._platform.isBrowser){const o=p(Sr).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,wE),o.listen(i,"mousedown",this._onMousedown,wE),o.listen(i,"touchstart",this._onTouchstart,wE)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ab=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(ab||{});const Eoe=new Z("cdk-focus-monitor-default-options"),cb=sb({passive:!0,capture:!0});let js=(()=>{class n{_ngZone=p($e);_platform=p(oi);_inputModalityDetector=p(xoe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=p(Ut);_stopInputModalityDetector=new Oe;constructor(){const e=p(Eoe,{optional:!0});this._detectionMode=e?.detectionMode||ab.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{for(let r=Xi(e);r;r=r.parentElement)"focus"===e.type?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){const r=Vi(e);if(!this._platform.isBrowser||1!==r.nodeType)return We();const o=Q_(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Oe,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Vi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Vi(e);o===this._document.activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ab.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===ab.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Xi(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cb)}),this._rootNodeFocusListenerCount.set(i,r+1),1===++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Soe(n,t){}class _m{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext}let B3=(()=>{class n extends Z_{_elementRef=p(nt);_focusTrapFactory=p(poe);_config;_interactivityChecker=p(yE);_ngZone=p($e);_focusMonitor=p(js);_renderer=p(ai);_changeDetectorRef=p(qt);_injector=p(kt);_platform=p(oi);_document=p(Ut);_portalOutlet;_focusTrapped=new Oe;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=p(_m,{optional:!0})||new _m,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();const i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{o(),s(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),s=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||pi(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=hm(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){const e=this._elementRef.nativeElement,i=hm();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=hm()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Jt(Md,7),2&i){let o;_e(o=be())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Qe("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ge],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Vn(0,Soe,0,0,"ng-template",0)},dependencies:[Md],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return n})();class DE{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Oe;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ti(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this._canClose(t)){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){const e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(t,e,this.componentInstance))}}const koe=new Z("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>hE(n)}}),Aoe=new Z("DialogData"),Toe=new Z("DefaultDialogConfig");function Ioe(n){const t=Pn(n),e=new ze;return{valueSignal:t,get value(){return t()},change:e,ngOnDestroy(){e.complete()}}}let H3=(()=>{class n{_injector=p(kt);_defaultOptions=p(Toe,{optional:!0});_parentDialog=p(n,{optional:!0,skipSelf:!0});_overlayContainer=p(fE);_idGenerator=p(_n);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Oe;_afterOpenedAtThisLevel=new Oe;_ariaHiddenElements=new Map;_scrollStrategy=p(koe);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Bs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ii(void 0)));constructor(){}open(e,i){(i={...this._defaultOptions||new _m,...i}).id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=Kc(this._injector,o),a=new DE(s,i),c=this._attachContainer(s,a,i);if(a.containerInstance=c,!this.openDialogs.length){const l=this._overlayContainer.getContainerElement();c._focusTrapped?c._focusTrapped.pipe(On(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(l)}):this._hideNonDialogContentFromAssistiveTechnology(l)}return this._attachDialogContent(e,a,c,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){xE(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){xE(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),xE(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Nd({positionStrategy:e.positionStrategy||nb().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:_m,useValue:r},{provide:DE,useValue:i},{provide:_3,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=B3;const c=new Id(a,r.viewContainerRef,kt.create({parent:o||this._injector,providers:s}));return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof Ln){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Gc(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Id(e,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:Aoe,useValue:e.data},{provide:DE,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Nr,null,{optional:!0}))&&a.push({provide:Nr,useValue:Ioe(e.direction)}),kt.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xE(n,t){let e=n.length;for(;e--;)t(n[e])}let Moe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[H3],imports:[Ma,Rd,CE,Rd]})}return n})();const Roe=new Z("MATERIAL_ANIMATIONS");let j3=null;function U3(){return p(Roe,{optional:!0})?.animationsDisabled||"NoopAnimations"===p(Af,{optional:!0})?"di-disabled":(j3??=p(A3).matchMedia("(prefers-reduced-motion)").matches,j3?"reduced-motion":"enabled")}function Yn(){return"enabled"!==U3()}function di(...n){const t=Gh(n),e=function sne(n,t){return"number"==typeof mx(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?gr(i[0]):GB(e)(Vt(i,t)):Pr}function Ooe(n,t){}class lb{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration}const EE="mdc-dialog--open",V3="mdc-dialog--opening",z3="mdc-dialog--closing";let q3=(()=>{class n extends B3{_animationStateChanged=new ze;_animationsEnabled=!Yn();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?G3(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?G3(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($3,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(V3,EE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(EE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(EE),this._animationsEnabled?(this._hostElement.style.setProperty($3,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(z3)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(V3,z3)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275cmp=qe({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(Ui("id",r._config.id),Qe("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),st("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Ge],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div",1),Vn(2,Ooe,0,0,"ng-template",2),b()())},dependencies:[Md],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return n})();const $3="--mat-dialog-transition-duration";function G3(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?ka(n.substring(0,n.length-2)):n.endsWith("s")?1e3*ka(n.substring(0,n.length-1)):"0"===n?0:null}var db=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(db||{});class Ld{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new V_(1);_beforeClosed=new V_(1);_result;_closeFallbackTimeout;_state=db.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(gn(r=>"opened"===r.state),On(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(gn(r=>"closed"===r.state),On(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),di(this.backdropClick(),this.keydownEvents().pipe(gn(r=>27===r.keyCode&&!this.disableClose&&!Ti(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),W3(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){const e=this._config.closePredicate;e&&!e(t,this._config,this.componentInstance)||(this._result=t,this._containerInstance._animationStateChanged.pipe(gn(i=>"closing"===i.state),On(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=db.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=db.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function W3(n,t,e){return n._closeInteractionType=t,n.close(e)}const K3=new Z("MatMdcDialogData"),Loe=new Z("mat-mdc-dialog-default-options"),Foe=new Z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>hE(n)}});let Oo=(()=>{class n{_defaultOptions=p(Loe,{optional:!0});_scrollStrategy=p(Foe);_parentDialog=p(n,{optional:!0,skipSelf:!0});_idGenerator=p(_n);_injector=p(kt);_dialog=p(H3);_animationsDisabled=Yn();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Oe;_afterOpenedAtThisLevel=new Oe;dialogConfigClass=lb;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Bs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ii(void 0)));constructor(){this._dialogRefConstructor=Ld,this._dialogContainerType=q3,this._dialogDataToken=K3}open(e,i){let r;(i={...this._defaultOptions||new lb,...i}).id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:nb().centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||"0"===i.enterAnimationDuration?.toLocaleString()||"0"===i.exitAnimationDuration?.toString(),container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:_m,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y3=(()=>{class n{dialogRef=p(Ld,{optional:!0});_elementRef=p(nt);_dialog=p(Oo);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=X3(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){W3(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&ae("click",function(s){return r._onButtonClick(s)}),2&i&&Qe("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Wn]})}return n})(),Q3=(()=>{class n{_dialogRef=p(Ld,{optional:!0});_elementRef=p(nt);_dialog=p(Oo);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=X3(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n})}return n})(),SE=(()=>{class n extends Q3{id=p(_n).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&Ui("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Ge]})}return n})(),ub=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[xR([ure])]})}return n})(),hb=(()=>{class n extends Q3{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&st("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},features:[Ge]})}return n})();function X3(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let Boe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[Oo],imports:[Moe,Ma,Rd,wn]})}return n})();var ho=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(ho||{});class Hoe{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ho.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}}const Z3=sb({passive:!0,capture:!0});class joe{_events=new Map;addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Z3)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Z3)))}_delegateEventHandler=t=>{const e=Xi(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}const mb={enterDuration:225,exitDuration:150},J3=sb({passive:!0,capture:!0}),eH=["mousedown","touchstart"],tH=["mouseup","mouseleave","touchend","touchcancel"];let Voe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}\n"],encapsulation:2,changeDetection:0})}return n})();class Fd{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new joe;constructor(t,e,i,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Vi(i)),o&&o.get(Ai).load(Voe)}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...mb,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function zoe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),m=u.transitionDuration,g="none"===u.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,y=new Hoe(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",y.state=ho.FADING_IN,i.persistent||(this._mostRecentTransientRipple=y);let v=null;return!g&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>{v&&(v.fallbackTimer=null),clearTimeout(Se),this._finishRippleTransition(y)},q=()=>this._destroyRipple(y),Se=setTimeout(q,l+100);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",q),v={onTransitionEnd:F,onTransitionCancel:q,fallbackTimer:Se}}),this._activeRipples.set(y,v),(g||!l)&&this._finishRippleTransition(y),y}fadeOutRipple(t){if(t.state===ho.FADING_OUT||t.state===ho.HIDDEN)return;const e=t.element,i={...mb,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=ho.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Vi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,eH.forEach(i=>{Fd._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{tH.forEach(e=>{this._triggerElement.addEventListener(e,this,J3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===ho.FADING_IN?this._startFadeOutTransition(t):t.state===ho.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=ho.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=ho.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=rb(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ob(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===ho.VISIBLE||t.config.terminateOnPointerUp&&t.state===ho.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(eH.forEach(e=>Fd._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(tH.forEach(e=>t.removeEventListener(e,this,J3)),this._pointerUpEventsRegistered=!1))}}const pb=new Z("mat-ripple-global-options");let bm=(()=>{class n{_elementRef=p(nt);_animationsDisabled=Yn();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){const e=p($e),i=p(oi),r=p(pb,{optional:!0}),o=p(kt);this._globalOptions=r||{},this._rippleRenderer=new Fd(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,...this._animationsDisabled?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&st("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();const qoe={capture:!0},$oe=["focus","mousedown","mouseenter","touchstart"],kE="mat-ripple-loader-uninitialized",AE="mat-ripple-loader-class-name",nH="mat-ripple-loader-centered",fb="mat-ripple-loader-disabled";let iH=(()=>{class n{_document=p(Ut);_animationsDisabled=Yn();_globalRippleOptions=p(pb,{optional:!0});_platform=p(oi);_ngZone=p($e);_injector=p(kt);_eventCleanups;_hosts=new Map;constructor(){const e=p(Sr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>$oe.map(i=>e.listen(this._document,i,this._onInteraction,qoe)))}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(kE,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(AE))&&e.setAttribute(AE,i.className||""),i.centered&&e.setAttribute(nH,""),i.disabled&&e.setAttribute(fb,"")}setDisabled(e,i){const r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(fb,""):e.removeAttribute(fb)}_onInteraction=e=>{const i=Xi(e);if(i instanceof HTMLElement){const r=i.closest(`[${kE}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(AE)),e.append(i);const r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??mb.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??mb.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(fb),rippleConfig:{centered:e.hasAttribute(nH),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new Fd(a,this._ngZone,i,this._platform,this._injector),l=!a.rippleDisabled;l&&c.setupTriggerEvents(e),this._hosts.set(e,{target:a,renderer:c,hasSetUpEvents:l}),e.removeAttribute(kE)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}\n'],encapsulation:2,changeDetection:0})}return n})();const Goe=["mat-icon-button",""],Woe=["*"],Koe=new Z("MAT_BUTTON_CONFIG");function rH(n){return null==n?void 0:Rr(n)}let oH=(()=>{class n{_elementRef=p(nt);_ngZone=p($e);_animationsDisabled=Yn();_config=p(Koe,{optional:!0});_focusMonitor=p(js);_cleanupClick;_renderer=p(ai);_rippleLoader=p(iH);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){p(Ai).load(rs);const e=this._elementRef.nativeElement;this._isAnchor="A"===e.tagName,this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:this._isAnchor?this.disabled||null:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor&&this.disabled&&!this.disabledInteractive?-1:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){2&i&&(Qe("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Ir(r.color?"mat-"+r.color:""),st("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Re],disabled:[2,"disabled","disabled",Re],ariaDisabled:[2,"aria-disabled","ariaDisabled",Re],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re],tabIndex:[2,"tabIndex","tabIndex",rH],_tabindex:[2,"tabindex","_tabindex",rH]}})}return n})(),Yoe=(()=>{class n extends oH{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Ge],attrs:Goe,ngContentSelectors:Woe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ln(),Ps(0,"span",0),it(1),Ps(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})(),Xc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();const Qoe=["matButton",""],Xoe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Zoe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],sH=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]);let Ra=(()=>{class n extends oH{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();const e=function Joe(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;const i=this._elementRef.nativeElement.classList,r=this._appearance?sH.get(this._appearance):null,o=sH.get(e);r&&i.remove(...r),i.add(...o),this._appearance=e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Ge],attrs:Qoe,ngContentSelectors:Zoe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ln(Xoe),Ps(0,"span",0),it(1),ji(2,"span",1),it(3,1),hr(),it(4,2),Ps(5,"span",2)(6,"span",3)),2&i&&st("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})(),aH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Xc,wn]})}return n})();function tse(n,t){if(1&n){const e=Ne();_(0,"div",1)(1,"button",2),ae("click",function(){return Y(e),Q(C().action())}),H(2),b()()}if(2&n){const e=C();f(2),Xe(" ",e.data.action," ")}}const nse=["label"];function ise(n,t){}const rse=Math.pow(2,31)-1;class TE{_overlayRef;instance;containerInstance;_afterDismissed=new Oe;_afterOpened=new Oe;_onAction=new Oe;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,rse))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const lH=new Z("MatSnackBarData");class gb{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"}let dH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),uH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),hH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),mH=(()=>{class n{snackBarRef=p(TE);data=p(lH);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(_(0,"div",0),H(1),b(),te(2,tse,3,1,"div",1)),2&i&&(f(),Xe(" ",r.data.message,"\n"),f(),ne(r.hasAction?2:-1))},dependencies:[Ra,dH,uH,hH],styles:[".mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}\n"],encapsulation:2,changeDetection:0})}return n})();const IE="_mat-snack-bar-enter",ME="_mat-snack-bar-exit";let pH=(()=>{class n extends Z_{_ngZone=p($e);_elementRef=p(nt);_changeDetectorRef=p(qt);_platform=p(oi);_animationsDisabled=Yn();snackBarConfig=p(gb);_document=p(Ut);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=p(kt);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Oe;_onExit=new Oe;_onEnter=new Oe;_animationState="void";_live;_label;_role;_liveElementId=p(_n).getId("mat-snack-bar-container-live-");constructor(){super();const e=this.snackBarConfig;this._live="assertive"!==e.politeness||e.announcementMessage?"off"===e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();const i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===ME?this._completeExit():e===IE&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?pi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(IE)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(IE)},200)))}exit(){return this._destroyed?We(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?pi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ME)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(ME),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>e.classList.add(s)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;const e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&Jt(Md,7)(nse,7),2&i){let o;_e(o=be())&&(r._portalOutlet=o.first),_e(o=be())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){1&i&&ae("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),2&i&&st("mat-snack-bar-container-enter","visible"===r._animationState)("mat-snack-bar-container-exit","hidden"===r._animationState)("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Ge],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(_(0,"div",1)(1,"div",2,0)(3,"div",3),Vn(4,ise,0,0,"ng-template",4),b(),ve(5,"div"),b()()),2&i&&(f(5),Qe("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Md],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}\n"],encapsulation:2})}return n})();const ose=new Z("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new gb});let Bd=(()=>{class n{_live=p(P3);_injector=p(kt);_breakpointObserver=p(_E);_parentSnackBar=p(n,{optional:!0,skipSelf:!0});_defaultConfig=p(ose);_animationsDisabled=Yn();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=mH;snackBarContainerComponent=pH;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=kt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:gb,useValue:i}]}),s=new Id(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new gb,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new TE(s,o);if(e instanceof Ln){const c=new Gc(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new Id(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe($t(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){const i=new Nd;i.direction=e.direction;const r=nb(),o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Kc(this._injector,i)}_createInjector(e,i){return kt.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:TE,useValue:i},{provide:lH,useValue:e.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sse=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[Bd],imports:[Ma,Rd,aH,mH,wn]})}return n})(),Bn=(()=>{class n{constructor(e,i,r){this.snackBar=e,this.globals=i,this.lsm=r,this.snackBarConfig={horizontalPosition:"center",verticalPosition:"bottom",duration:3500,panelClass:"bottom-snackbar"},this.defaultTitle="",this.connectionTimeout=null,this.waitForAsyncMessage()}showSnackBarWithDelay(e,i,r){return this.snackBar.open(e,i,r)}showError(e,i=this.defaultTitle,r,o=6e3){(null===e||""===e?.trim())&&(e="An error occurred. Please try again.");const s={...this.snackBarConfig,duration:r?void 0:o,panelClass:"error-snackbar"};return this.showSnackBarWithDelay(e,this.globals.languageConfLocal.dismissMessage,s)}waitForAsyncMessage(){let e=this.lsm.getValue(Ht.asyncMessage);if(e){let i=JSON.parse(e);if(i&&i.message&&i.type)switch(i.type){case Hd.error:this.showError(i.message,"",void 0,1e4);break;case Hd.info:this.showInfo(i.message);break;case Hd.success:let o=(i.message.split(" ").length-1)/3*1e3;this.showSuccess(i.message,"",o);break;case Hd.warning:this.showWarning(i.message);break;default:this.showCommon(i.message)}}this.lsm.removeValue(Ht.asyncMessage)}showMessageAsync(e,i){let r=JSON.stringify({message:e,type:i});this.lsm.setValue(Ht.asyncMessage,r)}showInfo(e,i=this.defaultTitle,r){const o={...this.snackBarConfig,duration:r??this.snackBarConfig.duration,panelClass:"info-snackbar"};this.showSnackBarWithDelay(e,"OK",o)}showSuccess(e,i=this.defaultTitle,r){const o={...this.snackBarConfig,duration:r??3e3,panelClass:"success-snackbar"};this.showSnackBarWithDelay(e,"OK",o)}showWarning(e,i=this.defaultTitle,r){const o={...this.snackBarConfig,duration:r??this.snackBarConfig.duration,panelClass:"warning-snackbar"};this.showSnackBarWithDelay(e,"OK",o)}showCommon(e,i=this.defaultTitle,r){const o={...this.snackBarConfig,duration:r??this.snackBarConfig.duration,panelClass:"common-snackbar"};this.showSnackBarWithDelay(e,"OK",o)}setConnectionTimeout(e,i=this.defaultTitle){this.clearConnectionTimeout(),this.connectionTimeout=setTimeout(()=>{this.globals.loginOpen||this.showError(e,i,!0)},5e3)}clearConnectionTimeout(){null!=this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null)}clearSnacks(){this.snackBar.dismiss()}changeClass(e){this.snackBarConfig.panelClass=e}getTimeoutMS(){return this.snackBarConfig.duration}static{this.\u0275fac=function(i){return new(i||n)(J(Bd),J(Dt),J(Qi))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hd=function(n){return n.error="Error",n.info="Info",n.success="Success",n.warning="Warning",n}(Hd||{});const RE="loginBM.xsp";let use=(()=>{class n{constructor(e,i,r,o,s){this.globals=e,this.waitList=i,this.modal=r,this.messageService=o,this.modalService=s,this.console=new li("ConnectionServiceGI"),this.apiOverviewPath="",this.pathFetchInProgress=!1,this.loggedIn=!1,this.loggingOut=!1,this.listenerSet=!1,this.dialog=null,this.options={},this.apiOverviewPath="restBM.xsp/verserest/"}connect(){return this.console.info("Connecting to GI..."),new ie(e=>{this.loginListener(e)})}loginListener(e){var i=this;return E(function*(){try{i.globals.loginOpen=!0;const r=i.getReqNoCache("keepAlive",null,!1).subscribe({next:o=>{if("OK"===o){e.next({status:"loggedIn"}),e.complete();for(const s of i.waitList.accessWaitList("login"))s.next({status:"loggedIn"}),s.complete();i.globals.loginOpen=!1}else e.next({status:"notLoggedIn",message:"KeepAlive response not OK"}),i.waitList.addToWaitList("login",e),i.openLoginModal()},error:o=>{e.next({status:"error",message:"KeepAlive request failed"}),i.waitList.addToWaitList("login",e),i.openLoginModal()},complete:()=>{r.unsubscribe(),i.globals.loginOpen=!1}})}catch{e.next({status:"error",message:"Exception during loginListener"}),i.waitList.addToWaitList("login",e),i.openLoginModal()}})()}openLoginModal(){var e=this;return E(function*(){e.modalService.changeType({newType:"login"})})()}connectFallback(){return new ie(e=>{let i=window.localStorage.getItem("taskpaneActive");if(!i)return;let r=new Date(i);"Invalid Date"!==r.toString()&&(((new Date).getTime()-r.getTime())/1e3>4?this.createBackupListenerLogin(e):(this.createBackupListenerLogin(e),this.loginWindow=this.popupWindow(this.globals.getSystemBaseUrl()+RE,"login",440,190),this.globals.loginOpen=!0,(!this.loginWindow||this.loginWindow.closed||typeof this.loginWindow.closed>"u")&&(this.loggingOut||this.messageService.showError(this.globals.languageConfLocal.popupBlocked,void 0,!0),"Verse"===this.globals.curConnectorType&&location.reload())))})}objectToHttpParams(e){let i=new Yt;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];o&&(i=i.set(r,o))}return i}reload(){if("Owa"===this.globals.curConnectorType)window.location.reload();else if(sessionStorage.setItem("verseAppData",JSON.stringify(this.globals.curConnector.data)),window,!window.location.href.includes("index.html")){let i="index.html";window.location.href.endsWith("/")||(i="/"+i),window.location.href+=i}}getReqModal(e,i){return this.globals.modalCacheFlag?(null==i&&(i=new Yt),this.getReq(e,i)):this.getReqNoCache(e,i)}getReqNoCache(e,i,r,o){return null==i&&(i=new Yt),i=i.append("noCache","true"),this.getReq(e,i,r,o)}getReq(e,i,r,o){let s;return s=null!=r&&!1===r?this.globals.changeOwnOptions({responseType:"text"}):void 0,!e.includes("keepAlive")&&!o&&this.activateSpinner(),null==i&&(i=new Yt),new ie(a=>{this.getReqHandler(e,i,a,0,s,r)})}getReqHandler(e,i,r,o,s,a){var c=this;return E(function*(){try{if(null!=c.pathInfo){let d,l=c.globals.getSystemBaseUrl()+c.apiOverviewPath+c.pathInfo[e].relativePath;d=s?c.globals.changeOwnOptions(s):c.globals.objectWithParams(i),l+="?"+i.toString(),yield fetch(l,d).then(function(){var u=E(function*(h){let m;m=null==a||a?yield h.json():yield h.text(),r.next(m),r.complete(),c.globals.hideSpinner()});return function(h){return u.apply(this,arguments)}}()).catch(u=>{r.error(u),c.globals.hideSpinner()})}else 10===++o?(c.globals.getSystemBaseUrl()&&c.globals.hideSpinner(),r.error(new Error("MAX_RETRIES reached"))):setTimeout(()=>{c.getReqHandler(e,i,r,o)},500)}catch(l){c.globals.hideSpinner(),r.error(l)}})()}postReq(e,i,r=!0,o,s,a){var c=this;if((void 0===s||!s)&&this.activateSpinner(),i instanceof Yt&&(i=i.toString()),r){if(!o){const l={method:"POST",body:i};"object"==typeof i&&(l.body=JSON.stringify(i),l.headers={"Content-Type":"application/json"}),o=this.globals.changeOwnOptions(l)}}else if(o)o.method="POST",o.responseType="text","object"==typeof i?(o.headers={"Content-Type":"application/json"},o.body=JSON.stringify(i)):o.body=i,o=this.globals.changeOwnOptions(o);else{const l={responseType:"text",method:"POST",body:i};"object"==typeof i&&(l.body=JSON.stringify(i),l.headers={"Content-Type":"application/json"}),o=this.globals.changeOwnOptions(l)}return o&&(o.method="POST","object"==typeof i?(o.headers={"Content-Type":"application/json"},o.body=JSON.stringify(i)):o.body=i,o=this.globals.changeOwnOptions(o)),new ie(l=>{if(null!=this.pathInfo){let d=this.globals.getSystemBaseUrl()+this.apiOverviewPath+this.pathInfo[e].relativePath;a&&(d+=a),Vt(fetch(d,o)).subscribe({next:(u=E(function*(h){if(200===h.status){let m;m=null==r||r?yield h.json():yield h.text(),l.next(m),s||c.globals.hideSpinner()}else l.error(h),s||c.globals.hideSpinner()}),function(m){return u.apply(this,arguments)}),error:u=>{l.error(u),s||this.globals.hideSpinner()},complete:()=>{}})}var u})}postSoap(e,i){var r=this;return E(function*(){r.activateSpinner();const o=yield fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/xml",SOAPAction:"basicInvoke"},redirect:"follow",referrerPolicy:"no-referrer",body:i});return r.globals.hideSpinner(),o})()}processPath(){return new ie(e=>{if(this.pathFetchInProgress)this.waitList.addToWaitList("path",e);else{this.pathFetchInProgress=!0;const i=Vt(fetch(this.globals.getSystemBaseUrl()+this.apiOverviewPath,this.globals.options));null!=this.pathInfo?(this.processPathWaitingList(),this.pathFetchInProgress=!1,e.next(this.pathInfo),e.complete()):this.loginConnect(i,e)}})}processAddress(e){return e=e.set("filterImg","true"),new ie(i=>{null!=this.pathInfo&&this.postReq("addresses",e,!0).subscribe({next:r=>{for(let o of r.data)o.url=this.createWebintLink(o.pointer),o.parentUrl=this.createWebintLink(o.companyPointer),o.additional&&o.additional.branchName&&(o.branchName=o.additional.branchName,o.additional.branchPointer?(o.branchUrl=this.createWebintLink(o.additional.branchPointer),o.branchPointer=o.additional.branchPointer,this.console.info("=== CREATED BRANCH URL ==="),this.console.info("branchPointer:",o.additional.branchPointer),this.console.info("branchUrl:",o.branchUrl)):(o.branchUrl=o.parentUrl,this.console.warn("=== NO BRANCH POINTER - USING COMPANY URL ==="))),this.console.info("Entry after processing:",o);i.next(r),i.complete()}})})}waitForLC(){return new ie(e=>{null==this.pathInfo?this.processPath().subscribe(()=>{this.processLCHandler(e)}):this.processLCHandler(e)})}processLCHandler(e){var o,i=this;null!=this.pathInfo&&(Object.keys(this.globals.languageConf).length>0?(e.next(!0),e.complete()):Vt(fetch(this.globals.getSystemBaseUrl()+this.apiOverviewPath+this.pathInfo.translation.relativePath+"/businessmail",this.globals.options)).subscribe({next:(o=E(function*(s){200!==s.status?e.error(yield s.text()):(i.globals.languageConf=yield s.json(),e.next(!0),e.complete())}),function(a){return o.apply(this,arguments)}),error:o=>{},complete:()=>{}}))}checkWebInt(e){var i=this;return E(function*(){return i.activateSpinner(),yield fetch(e+RE,{method:"HEAD"}).then(r=>404===r.status?(i.messageService.showError(i.globals.languageConfLocal.webIntCertError+" "+e,void 0,!0),i.globals.hideSpinner(),!1):(i.globals.setSystemBaseUrl(encodeURI(e)),!0)).catch(()=>(i.messageService.showError(i.globals.languageConfLocal.webIntCertError+" "+e,void 0,!0),i.globals.hideSpinner(),!1))})()}resetListener(){this.listenerSet=!1}logout(e){var i=this;return E(function*(){var r;i.activateSpinner(),i.globals.getSystemBaseUrl()&&Vt(fetch(i.globals.getSystemBaseUrl().replace(/\/$/,"")+"?logout",i.globals.options)).subscribe({next:()=>{e||i.reload()},error:(r=E(function*(o){if(console.error("Logout request failed:",o),"gi"===i.globals.system){const a=window.open(i.globals.getSystemBaseUrl()+"?logout","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,width=440,height=190");setTimeout(()=>a?.close(),1e3)}const s=yield fetch(i.globals.getSystemBaseUrl()+"restBM.xsp/verserest/",{method:"get",credentials:"include",cache:"no-cache",mode:"cors"});401!==s.status?("cors"===s.type&&!e&&i.reload(),i.messageService.showError(i.globals.languageConfLocal.webIntLogoutFailed,void 0,!0)):e||i.reload()}),function(s){return r.apply(this,arguments)})})})()}waitForWebIntModal(){return new ie(e=>{this.webIntModalOpen?(e.next(this.webIntModalOpen),e.complete()):this.waitList.addToWaitList("webIntModal",e)})}getUserName(){return new ie(e=>{this.getReqNoCache("user",null).subscribe(i=>{e.next(i),e.complete()})})}waitForGraphRequired(){return new ie(e=>{this.waitList.addToWaitList("graphRequired",e)})}login(e,i){var r=this;return E(function*(){return new Promise(function(){var o=E(function*(s){r.activateSpinner();try{if(!(yield r.checkWebInt(r.globals.getSystemBaseUrl())))return r.messageService.showError(r.globals.languageConfLocal.urlInvalidBase,void 0,!0),r.globals.hideSpinner(),void s(!1);let c=r.globals.getSystemBaseUrl()+"?login";const l="username="+e+"&password="+i+"&redirectto="+encodeURIComponent(r.globals.getSystemBaseUrl()+"restBM.xsp"),d=yield r.postRequest(c,l,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",redirect:"follow",referrer:"no-referrer",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l});r.console.info("Login response:",d);const u=yield fetch(r.globals.getSystemBaseUrl()+"restBM.xsp",{credentials:"include"});if(r.console.info("SameSite fix response:",u),!d.redirected)return r.messageService.showError(r.globals.languageConfLocal.loginFailed,void 0,!0),r.globals.hideSpinner(),void s(!1);const h=r.globals.getSystemBaseUrl()+"restBM.xsp/verserest";if(401===(yield fetch(h,{method:"GET",credentials:"include"})).status)throw r.globals.hideSpinner(),new Error("Bad domino-server settings, trying fallback...");r.loggedIn=!0,r.globals.hideSpinner(),r.messageService.showSuccess(r.globals.languageConfLocal.loginSuccess),location.reload(),s(!0)}catch(a){r.console.error("Login error:",a),r.messageService.showError(r.globals.languageConfLocal.badDominoSettings,void 0,!0);const c=r.connectFallback().subscribe({complete:()=>{r.messageService.showSuccess(r.globals.languageConfLocal.loginSuccess),c.unsubscribe(),setTimeout(()=>{location.reload(),r.loggedIn=!0,s(!0)},1e3)},error:()=>{r.messageService.showError(r.globals.languageConfLocal.loginFailed),r.globals.hideSpinner(),c.unsubscribe(),s(!1)}});s(!1)}});return function(s){return o.apply(this,arguments)}}())})()}postRequest(e,i,r){return E(function*(){return(null==r||"object"!=typeof r)&&(r={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},redirect:"follow",referrerPolicy:"no-referrer",body:i}),yield fetch(e,r)})()}get isLoggedIn(){return this.loggedIn}set webIntModalOpenRef(e){this.webIntModalOpen=e;for(const i of this.waitList.accessWaitList("webIntModal"))i.next(e),i.complete()}getPath(e,i=!0){return this.pathInfo?this.globals.getSystemBaseUrl()+(i?this.apiOverviewPath:"")+this.pathInfo[e].relativePath:""}activateSpinner(){this.globals.getSystemBaseUrl()&&this.globals.getSystemBaseUrl()&&this.globals.showSpinner()}processPathWaitingList(){this.waitList.accessWaitList("path").forEach(e=>{null!=this.pathInfo?(e.next(this.pathInfo),e.complete()):e.error(new Error("pathInfo is null"))})}loginConnect(e,i){this.globals.getSystemBaseUrl()&&this.loginConnectHandler(e,i)}loginConnectHandler(e,i){var o,r=this;e.subscribe({next:(o=E(function*(s){200!==s.status?r.loginConnectError(s,e,i):(r.pathInfo=yield s.clone().json(),r.loggedIn=!0,r.keepAlive(),r.checkIfLoggedIn(e,i))}),function(a){return o.apply(this,arguments)}),error:o=>{this.loginConnectError(o,e,i)},complete:()=>{}})}loginConnectError(e,i,r){var o=this;return E(function*(){o.loggedIn=!1,401===e.status||200===e.status?o.connect().subscribe(o.connectHandler(i,r)):(o.processPathWaitingList(),o.pathFetchInProgress=!1)})()}keepAlive(){var e=this;null!=this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(E(function*(){const i=e.getReqNoCache("keepAlive",null,!1).subscribe(()=>{i.unsubscribe()})}),55e3)}connectHandler(e,i){return{next:()=>{},error:r=>{},complete:()=>{const r=Vt(fetch(this.globals.getSystemBaseUrl()+this.apiOverviewPath,this.globals.options));this.loginConnect(r,i)}}}waitForPlatformType(){return new ie(e=>{this.waitList.addToWaitList("platform",e)})}processOutlookMessage(e){"message"in e&&null!=this.dialog&&"ready"===e.message.toLowerCase()&&this.dialog.messageChild(this.globals.getSystemBaseUrl()+RE)}onDialogClose(e,i){if(this.console.info(i),"error"in i&&12006===i.error){this.console.info("DIALOG CLOSED"),this.activateSpinner(),e.next("OK"),e.complete(),this.globals.loginOpen=!1;for(const r of this.waitList.accessWaitList("login"))r.next("OK"),r.next("complete")}}checkIfLoggedIn(e,i){var r=this;return E(function*(){if(null!=r.pathInfo){let o=new Yt;o=o.set("noCache","true"),r.getReqNoCache("keepAlive",null,!1).subscribe({next:(s=E(function*(a){null==a||"OK"!==a?r.connect().subscribe(r.connectHandler(e,i)):(r.processPathWaitingList(),r.pathFetchInProgress=!1,i.next(a),i.complete())}),function(c){return s.apply(this,arguments)}),error:s=>{r.connect().subscribe(r.connectHandler(e,i))}})}var s})()}popupWindow(e,i,r,o){if(!this.loggingOut){const s=screen.width/2-r/2,a=screen.height/2-o/2;return window.open(e,i,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+r+", height="+o+", top="+a+", left="+s)}return null}createBackupListenerLogin(e){var i=this;this.listenerSet||(this.globals.showSpinner(),this.spinnerInterval=setInterval(()=>this.globals.showSpinner(),150),this.spinnerTimeout=setTimeout(()=>{clearInterval(this.spinnerInterval),this.globals.hideSpinner()},2e4),window.addEventListener("message",this.messageListener=function(){var r=E(function*(o){if(o.origin===i.globals.origin)if("OK"===o.data){null!=i.loginWindow&&i.loginWindow.close(),window.removeEventListener("message",i.messageListener,!1),clearInterval(i.spinnerInterval),clearTimeout(i.spinnerTimeout),i.globals.hideSpinner(),e.next("OK"),e.complete(),i.globals.loginOpen=!1;for(const s of i.waitList.accessWaitList("login"))s.next("OK"),s.next("complete")}else"Close"===o.data&&(clearInterval(i.spinnerInterval),clearTimeout(i.spinnerTimeout),i.waitList.addToWaitList("login",e),i.globals.hideSpinner(),i.globals.loginOpen=!1)});return function(o){return r.apply(this,arguments)}}(),!1),this.listenerSet=!0)}createWebintLink(e){return this.globals.convertToLink(e)}getGraphConfiguration(){var e=this;return new ie(i=>{const r=function(){var o=E(function*(){try{const s=e.getPath("graph")+"?noCache=true",a=yield fetch(s,e.globals.options);if(200!==a.status)return e.loggedIn&&e.messageService.showError(e.globals.languageConfLocal.graphConfigurationErrorGI),void i.error("graphConfigurationErrorGI");let c;try{c=yield a.json()}catch{return e.loggedIn&&e.messageService.showError(e.globals.languageConfLocal.graphConfigurationErrorGI),void i.error("graphConfigurationErrorGI")}const l=c?.clientId,d=c?.tenantId;if(!l||!d||"string"!=typeof l||"string"!=typeof d)return e.loggedIn&&e.messageService.showError(e.globals.languageConfLocal.graphConfigurationErrorGI),void i.error("graphConfigurationErrorGI");i.next({clientId:l,authority:`https://login.microsoftonline.com/${d}`}),i.complete()}catch(s){e.console.error("Graph config fetch failed:",s),e.loggedIn&&e.messageService.showError(e.globals.languageConfLocal.graphConfigurationErrorGI),i.error("graphConfigurationErrorGI")}});return function(){return o.apply(this,arguments)}}();this.pathInfo?r():this.processPath().subscribe({next:()=>r(),error:()=>{i.error("graphConfigurationErrorGI")}})})}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(ki),J(Oo),J(Bn),J(pl))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class fH{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(t){let i="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o,s,r=0,a=0;s=t.charAt(a++);~s&&(o=r%4?64*o+s:s,r++%4)?i+=String.fromCharCode(255&o>>(-2*r&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return i}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const i=this.urlBase64Decode(e[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(t=this.tokenGetter()){let e;if(e=this.decodeToken(t),!e||!e.hasOwnProperty("exp"))return null;const i=new Date(0);return i.setUTCSeconds(e.exp),i}isTokenExpired(t=this.tokenGetter(),e){if(!t||""===t)return!0;const i=this.getTokenExpirationDate(t);return e=e||0,null!==i&&!(i.valueOf()>(new Date).valueOf()+1e3*e)}getAuthScheme(t,e){return"function"==typeof t?t(e):t}}let _H=(()=>{class n{constructor(){this.pathObj=null}get path(){return this.pathObj}isPathSet(){return null!=this.pathObj}waitForPath(){var e=this;return E(function*(){return e.pathObj=yield e.createPath(),e.pathObj})()}createPath(){return E(function*(){return{addresses:{relativePath:"bm4o/AddressesByMailAddress"},activities:{relativePath:"bm4o/ActivitiesByAddress"},document:{relativePath:"bm4o/DocumentMail"},renew:{relativePath:"auth/renewByToken"},search:{relativePath:"bm4o/SearchContacts"},searchProjects:{relativePath:"BM4OProjects/SearchProjects"},emailAlreadyDocumented:{relativePath:"BM4O/EmailAlreadyDocumented"},activityTypes:{relativePath:"bm4o/DocumentTypes"},addRecentlyUsed:{relativePath:"RecentlyUsed/AddRecentlyUsed"},openRecord:{relativePath:"OpenRecord"},baVersion:{relativePath:"bm4o/GetBAVersion"},getChips:{relativePath:"bm4o/GetChips"},readCRMData:{relativePath:"bm4o/GetCRMData"},extractContact:{relativePath:"RestAddressParser/Parse"},createRecord:{relativePath:"v1/record/"},getEnumValues:{relativePath:"v1/enum/"},bm4oCreateRecord:{relativePath:"BM4ORest/Create"},bm4oGetEnumValues:{relativePath:"BM4ORest/GetAllEnumValues"},checkAlive:{relativePath:"bm4o/CheckAlive"},searchDocuments:{relativePath:"BM4O/SearchDocuments"},graphConfiguration:{relativePath:"BM4O/GetGraphConfiguration"},searchCompanies:{relativePath:"BM4O/SearchCompanies"},getConfiguration:{relativePath:"BM4O/GetConfiguration"},createTicket:{relativePath:"Activity/TicketFromEmail"}}})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gse=["alternativeAddresses"],_se=["pointer","database","mail","imageURL","companyPointer","url","parentUrl","isCompany","isCompanyProfile","gender","base64image"];let OE=(()=>{class n{constructor(e){this.globals=e}convertAddress(e,i,r){var o=this;return E(function*(){const s={},a={},c=[];let l=0;if(i?.addresses)for(const u of i.addresses){const h={name:u.entityTitle,pointer:u.oid,companyName:null!=u.parent?u.parent.entityTitle:void 0,companyPointer:null!=u.parent?u.parent.oid:void 0,isCompany:"fe7eb8ae-71be-4220-8da5-dc04078e6b3c"===u.type.oid,isCompanyProfile:"253a8224-e7b5-4ef7-8dec-b50b8763ad19"===u.type.oid,url:u.frontEndUri,additional:{mail:r,homepage:u.homepage,birthdate:u.birthday??null,skype:u.skypeName,imageURL:null,database:null,phone:u.phoneNumber,cellphone:u.mobileNumber,homephone:u.homePhoneNumber,alternativeAddresses:[],gender:u.gender,base64image:u.base64image,fallback:u.fallback,fullAddress:u.fullAddress}};s[u.oid]=u.frontEndUri,null!=u.parent&&(a.hasOwnProperty(u.parent.oid)?a[u.parent.oid].push(l):a[u.parent.oid]=[l]);const m=yield o.removeEmptyEntries(h);c.push(m),l++}yield o.assignParentUrls(c,s,a),e.next({data:c,ignoreInAddress:gse,hide:_se}),e.complete()})()}convertActivity(e,i,r,o){const s=[];let a=this.globals.numericBackendVersion()<9e4?"":this.globals.getSystemBaseUrl();for(const l of i.activities){const d={date:l.date,dateInMS:new Date(l.date).getTime(),pointer:l.oid,subject:l.subject,viewIcon:a+l.imageName,viewIconUrl:a+l.imageName,lineTwoOverride:l.lineTwoOverride,url:l.frontEndUri};s.push(d)}e.next({activities:s,selectedType:r,type:"activities"})}convertActivityTypes(e){const i=[["Vorg\xe4nge","1"]];i.type="types",e.next(i)}assignParentUrls(e,i,r){return E(function*(){for(const o of Object.keys(r))for(const s of r[o])e[s].parentUrl=i[o]})()}removeEmptyEntries(e){return E(function*(){for(const[i,r]of Object.entries(e))void 0===r&&e.hasOwnProperty(i)&&delete e[i];return e})()}static{this.\u0275fac=function(i){return new(i||n)(J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bH=(()=>{class n{constructor(e,i,r,o,s,a,c){this.globals=e,this.waitList=i,this.modal=r,this.messageService=o,this.pathBA=s,this.converter=a,this.modalService=c,this.console=new li("ConnectionServiceBA"),this.apiOverviewPath="",this.pathFetchInProgress=!1,this.loggedIn=!1,this.loggingOut=!1,this.listenerSet=!1,this.dialog=null,this.loginModalOpening=!1,this.options={},this.apiOverviewPath="api/",this.jwt=new fH}getTicketParams(){this.createTicket({})}validateTicket(e){return new ie(i=>{this.createTicket({})})}getTicketTemplates(){return new ie(e=>{this.createTicket({})})}createTicket(e){throw this.messageService.showError(this.globals.languageConf.notSupportedYet,"",!1),new Error("Method not implemented.")}connect(){return new ie(e=>{this.loginListener(e)})}objectToHttpParams(e){let i=new Yt;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];o&&(i=i.set(r,o))}return i}reload(){if("Owa"===this.globals.curConnectorType)window.location.reload();else if(sessionStorage.setItem("verseAppData",JSON.stringify(this.globals.curConnector.data)),window,!window.location.href.includes("index.html")){let i="index.html";window.location.href.endsWith("/")||(i="/"+i),window.location.href+=i}}getReqModal(e,i){return this.globals.modalCacheFlag?(null==i&&(i=new Yt),this.getReq(e,i)):this.getReqNoCache(e,i)}getReqNoCache(e,i,r,o){return null==i&&(i=new Yt),i=i.append("noCache","true"),this.getReq(e,i,r,o)}getReq(e,i,r=!0,o,s,a){let c;return c=null!=r&&!1===r?this.globals.changeOwnOptions({responseType:"text"}):void 0,!e.includes("renew")&&!o&&this.activateSpinner(),null==i&&(i=new Yt),new ie(l=>{this.getReqHandler(e,i,l,0,c,r,s,a)})}getReqHandler(e,i,r,o,s,a,c,l){var d=this;return E(function*(){d.processPath().subscribe(E(function*(){if(null!=d.pathInfo){let h,u=d.globals.getSystemBaseUrl();u+=c?c+d.pathInfo[e].relativePath:d.apiOverviewPath+d.pathInfo[e].relativePath,h=s?d.globals.changeOwnOptions(s):d.globals.objectWithParams(i);const m=yield d.getValidToken();if(""===m)return;h.headers={"Content-Type":"application/json",Authorization:"Bearer "+m},l&&(u+=l),i.toString()&&(u+="?"+i.toString()),yield fetch(u,h).then(function(){var y=E(function*(v){let F;F=null==a||a?yield v.json():yield v.text(),r.next(F),r.complete(),d.globals.hideSpinner()});return function(v){return y.apply(this,arguments)}}()).catch(y=>{r.error(y),d.globals.hideSpinner()})}else 3===++o?(d.globals.getSystemBaseUrl()&&d.messageService.setConnectionTimeout(d.globals.languageConfLocal.cantConnect),r.error(new Error("MAX_RETRIES reached"))):setTimeout(()=>{d.getReqHandler(e,i,r,o)},300)}))})()}postReq(e,i,r=!0,o,s,a,c){if((void 0===s||!s)&&!e.includes("renew")&&this.activateSpinner(),i instanceof Yt&&(i=i.toString()),r){if(!o){const l={method:"POST",body:i};"object"==typeof i&&(l.body=JSON.stringify(i),l.headers={"Content-Type":"application/json"}),o=this.globals.changeOwnOptions(l)}}else if(o)o.method="POST",o.responseType="text","object"==typeof i?(o.headers={"Content-Type":"application/json"},o.body=JSON.stringify(i)):o.body=i,o=this.globals.changeOwnOptions(o);else{const l={responseType:"text",method:"POST",body:i};"object"==typeof i&&(l.body=JSON.stringify(i),l.headers={"Content-Type":"application/json"}),o=this.globals.changeOwnOptions(l)}return o&&(o.method="POST","object"==typeof i?(o.headers={"Content-Type":"application/json"},o.body=JSON.stringify(i)):o.body=i,o=this.globals.changeOwnOptions(o)),new ie(l=>{this.postReqHandler(l,e,o,r,a,c)})}postReqHandler(e,i,r){var o=this;return E(function*(s,a,c,l=!0,d,u){const h=yield o.getValidToken();if(""!==h&&(c&&(c.headers={"Content-Type":"application/json",Authorization:"Bearer "+h}),null!=o.pathInfo)){let g=o.globals.getSystemBaseUrl();g+=u?u+o.pathInfo[a].relativePath:o.apiOverviewPath+o.pathInfo[a].relativePath,d&&(g+=d),Vt(fetch(g,c)).subscribe({next:(y=E(function*(v){if(200===v.status||201===v.status){let F;F=null==l||l?yield v.json():yield v.text(),s.next(F),o.globals.hideSpinner()}else s.error(v),o.globals.hideSpinner()}),function(F){return y.apply(this,arguments)}),error:y=>{s.error(y),o.globals.hideSpinner()},complete:()=>{}})}var y}).apply(this,arguments)}postSoap(e,i){var r=this;return E(function*(){r.activateSpinner();const o=yield fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/xml",SOAPAction:"basicInvoke"},redirect:"follow",referrerPolicy:"no-referrer",body:i});return r.globals.hideSpinner(),o})()}processPath(){return new ie(e=>{this.pathFetchInProgress?this.waitList.addToWaitList("path",e):(this.pathFetchInProgress=!0,this.pathBA.isPathSet()&&(this.pathInfo=this.pathBA.path),null!=this.pathInfo?(this.processPathWaitingList(),this.pathFetchInProgress=!1,e.next(this.pathInfo),e.complete()):this.pathHandler(e))})}processAddress(e){return new ie(i=>{null!=this.pathInfo&&this.getReq("addresses",e,!0).subscribe({next:r=>{this.converter.convertAddress(i,r,e.get("mail"))},error:r=>{},complete:()=>{}})})}waitForLC(){return new ie(e=>{null==this.pathInfo?this.processPath().subscribe(()=>{this.processLCHandler(e)}):this.processLCHandler(e)})}processLCHandler(e){null!=this.pathInfo&&(Object.keys(this.globals.languageConf),e.next(!0),e.complete())}checkWebInt(e,i,r){var o=this;return E(function*(){i||(e=yield o.trimURL(e)),o.activateSpinner();const a=new Request(e+"api/bm4o/GetBAVersion",{method:"GET"});return yield fetch(a).then(function(){var c=E(function*(l){return 401===l.status?"8.0.0":404===l.status?"7.0.0":l.text()});return function(l){return c.apply(this,arguments)}}()).then(function(){var c=E(function*(l){o.globals.backendVersion=l});return function(l){return c.apply(this,arguments)}}()).catch(()=>o.globals.backendVersion="7.0.0"),o.globals.getSystemBaseUrl()===e||(o.globals.setSystemBaseUrl(encodeURI(e)),o.logout(),!1)})()}resetListener(){this.listenerSet=!1}logout(e){var i=this;return E(function*(){window.localStorage.removeItem("token"),i.globals.loggedIn=!1,i.loginModalOpening=!1,(void 0===e||!1===e)&&i.reload()})()}waitForWebIntModal(){return new ie(e=>{this.webIntModalOpen?(e.next(this.webIntModalOpen),e.complete()):this.waitList.addToWaitList("webIntModal",e)})}getUserName(){return new ie(e=>{this.userNameHandler(e)})}userNameHandler(e){var i=this;return E(function*(){const r=yield i.getValidToken();if(""!==r){const o=i.jwt.decodeToken(r);e.next(o.name),e.complete()}})()}waitForGraphRequired(){return new ie(e=>{this.waitList.addToWaitList("graphRequired",e)})}login(e,i){var r=this;return E(function*(){if(!(yield r.checkWebInt(r.globals.getSystemBaseUrl(),void 0,!0)))return r.messageService.showError(r.globals.languageConfLocal.urlInvalidBase,void 0,!0),r.globals.hideSpinner(),!1;const s=new Request(r.globals.getSystemBaseUrl()+"api/auth/login",{method:"POST",body:JSON.stringify({username:e,password:i}),headers:new Headers({"Content-Type":"application/json","x-BM4OWA":"true"})});if(r.globals.numericBackendVersion()<9e4)return yield r.performLogin(s);{const a=new Request(r.globals.getSystemBaseUrl()+"api/bm4o/checkAlive",{method:"GET"});yield fetch(a).then(function(){var c=E(function*(l){return l.text()});return function(l){return c.apply(this,arguments)}}()).then(function(){var c=E(function*(l){if("true"===l)return yield r.performLogin(s);if(l.indexOf("The Application is just starting")>0){let u=l.substring(l.indexOf("The Application is just starting")+33).trim().match(/\d+\s*%/);if(u){let h=parseInt(u[0],10);r.console.info("Loaded value:",h),r.messageService.showWarning(`${r.globals.languageConfLocal.baInstanceStarting} ${r.globals.languageConfLocal.loaded} ${h}%`)}return r.globals.hideSpinner(),!1}return r.messageService.showError(r.globals.languageConfLocal.baInstanceNotAvailable),r.globals.hideSpinner(),!1});return function(l){return c.apply(this,arguments)}}()).catch(c=>(r.messageService.showError(r.globals.languageConfLocal.baInstanceNotAvailable),r.globals.hideSpinner(),!1))}return!1})()}performLogin(e){var i=this;return E(function*(){const r=yield fetch(e).then(function(){var o=E(function*(s){if(460===s.status){const a=yield s.json();throw i.messageService.showError(a.error||i.globals.languageConfLocal.licenseNeeded),new Error("Forbidden")}return yield s.json()});return function(s){return o.apply(this,arguments)}}()).then(o=>(null!=o.token&&void 0!==o.token?localStorage.setItem("token",o.token):(localStorage.removeItem("token"),i.globals.loggedIn=!1),i.messageService.showSuccess(i.globals.languageConfLocal.loginSuccess),i.loginModalOpening=!1,!0)).catch(o=>(localStorage.removeItem("token"),i.globals.loggedIn=!1,i.loginModalOpening=!1,"Forbidden"!==o.message&&i.messageService.showError(i.globals.languageConfLocal.loginFailed),!1));return i.globals.hideSpinner(),r&&i.reload(),r})()}get isLoggedIn(){return this.loggedIn}set webIntModalOpenRef(e){this.webIntModalOpen=e;for(const i of this.waitList.accessWaitList("webIntModal"))i.next(e),i.complete()}activateSpinner(){this.globals.getSystemBaseUrl()&&this.globals.showSpinner()}processPathWaitingList(){this.waitList.accessWaitList("path").forEach(e=>{null!=this.pathInfo?(e.next(this.pathInfo),e.complete()):e.error(new Error("pathInfo is null"))})}pathHandler(e){var i=this;return E(function*(){i.pathInfo=yield i.pathBA.waitForPath(),i.loggedIn=!0,i.keepAlive(),i.checkIfLoggedInBA(i.pathInfo,e)})()}keepAlive(){var e=this;null!=this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(E(function*(){const i=window.localStorage.getItem("token");if(null!==i||"undefined"===i){const r=yield e.renewRequest(i);yield fetch(r).then(function(){var s=E(function*(a){return a.json()});return function(a){return s.apply(this,arguments)}}()).then(s=>{null!=s.token&&void 0!==s.token?localStorage.setItem("token",s.token):(localStorage.removeItem("token"),e.globals.loggedIn=!1)}).catch(s=>{localStorage.removeItem("token"),e.globals.loggedIn=!1,e.messageService.showError(e.globals.languageConfLocal.tokenFailed)})}else null===i&&(e.globals.loggedIn=!1)}),3e5)}trimURL(e){return E(function*(){const i=new URL(e),r=i.pathname;return r.includes("/_")&&(i.pathname=r.substring(0,r.indexOf("/_")+1)),i.toString()})()}renewRequest(e){var i=this;return E(function*(){const r=i.jwt.decodeToken(e);return new Request(i.globals.getSystemBaseUrl()+"api/auth/renewByToken",{method:"POST",body:JSON.stringify({username:encodeURIComponent(r.name)}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+e,"x-BM4OWA":"true"})})})()}getValidToken(){var e=this;return E(function*(){let i=localStorage.getItem("token");(null===i||"undefined"===i)&&(i=void 0);const r=e.jwt.isTokenExpired(i);if(!r||void 0!==i&&null!=i){if(r){const o=yield e.renewRequest(i);yield fetch(o).then(function(){var a=E(function*(c){if(401!==c.status)return c.json();i="",yield e.openLoginModal()});return function(c){return a.apply(this,arguments)}}()).then(a=>{null!=a.token&&void 0!==a.token?localStorage.setItem("token",a.token):(localStorage.removeItem("token"),e.globals.loggedIn=!1)}).catch(a=>{e.console.error(a),localStorage.removeItem("token"),e.globals.loggedIn=!1,e.messageService.showError(e.globals.languageConfLocal.tokenFailed)})}}else yield e.openLoginModal(),i=localStorage.getItem("token");return null==i&&(i=""),i})()}isTokenValid(){var e=this;return E(function*(){let i=localStorage.getItem("token");return(null===i||"undefined"===i)&&(i=void 0),e.jwt.isTokenExpired})()}openLoginModal(){var e=this;return E(function*(){if(!e.loginModalOpening){e.loginModalOpening=!0,e.modalService.changeType({newType:"login"});try{e.modalService.modalClosed.pipe(gn(i=>"login"===i),On(1)).subscribe(()=>{e.loginModalOpening=!1})}catch{}e.globals.hideSpinner()}})()}loginListener(e){var i=this;return E(function*(){if(""!==(yield i.getValidToken())){i.loginModalOpening=!1,e.next("OK"),e.complete();for(const o of i.waitList.accessWaitList("login"))o.next("OK"),o.next("complete")}else i.waitList.addToWaitList("login",e),i.globals.hideSpinner()})()}getPath(e,i=!0){return this.pathInfo?this.globals.getSystemBaseUrl()+(i?this.apiOverviewPath:"")+this.pathInfo[e].relativePath:""}checkIfLoggedInBA(e,i){var r=this;return E(function*(){if(null!=r.pathInfo){let o=new Yt;o=o.set("noCache","true"),(yield r.isTokenValid())&&(r.processPathWaitingList(),r.pathFetchInProgress=!1,i.next(e),i.complete())}})()}getGraphConfiguration(){return new ie(e=>{this.getReq("graphConfiguration",this.objectToHttpParams({}),void 0,!0).subscribe({next:i=>{i.ExceptionMessage&&"No specific tenant configured."==i.ExceptionMessage?(this.messageService.showError(this.globals.languageConfLocal.graphConfigurationErrorCXM),this.console.info("No specific tenant configured."),e.error("graphConfigurationErrorCXM")):(e.next(i),e.complete())},error:i=>{this.console.error("An error occurred while trying to load the graphconfig",i),this.messageService.showError(this.globals.languageConfLocal.graphConfigurationErrorCXM),e.error("graphConfigurationErrorCXM")}})})}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(ki),J(Oo),J(Bn),J(_H),J(OE),J(pl))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lr=(()=>{class n{constructor(e,i,r,o,s,a,c){this.globals=e,this.waitList=i,this.modal=r,this.messageService=o,this.pathBA=s,this.converter=a,this.modalService=c,this.curConnectionSystem||this.setSystem(this.globals.system)}setSystem(e){var i=this;return E(function*(){switch(e){case"gi":i.globals.system="gi",i.curConnectionSystem=new use(i.globals,i.waitList,i.modal,i.messageService,i.modalService);break;case"ba":i.globals.system="ba",i.curConnectionSystem=new bH(i.globals,i.waitList,i.modal,i.messageService,i.pathBA,i.converter,i.modalService)}})()}get system(){return this.globals.system}connect(){return this.curConnectionSystem.connect()}objectToHttpParams(e){return this.curConnectionSystem.objectToHttpParams(e)}reload(){this.curConnectionSystem.reload()}getReqModal(e,i){return this.curConnectionSystem.getReqModal(e,i)}getReqNoCache(e,i,r,o){return this.curConnectionSystem.getReqNoCache(e,i,r,o)}getReq(e,i,r,o){return this.curConnectionSystem.getReq(e,i,r,o)}getReqHandler(e,i,r,o,s,a){var c=this;return E(function*(){return c.curConnectionSystem.getReqHandler(e,i,r,o,s,a)})()}postReq(e,i,r=!0,o,s,a){return this.curConnectionSystem.postReq(e,i,r,o,s,a)}postSoap(e,i){return new ie(r=>{r.next(this.curConnectionSystem.postSoap(e,i))})}processPath(){return this.curConnectionSystem.processPath()}processAddress(e){return this.curConnectionSystem.processAddress(e)}waitForLC(){return this.curConnectionSystem.waitForLC()}processLCHandler(e){this.curConnectionSystem.processLCHandler(e)}checkWebInt(e){var i=this;return E(function*(){return i.curConnectionSystem.checkWebInt(e)})()}resetListener(){this.curConnectionSystem.resetListener()}logout(e){var i=this;return E(function*(){return i.curConnectionSystem.logout(e)})()}logoutOldSystem(e){return E(function*(){return e.logout()})()}waitForWebIntModal(){return this.curConnectionSystem.waitForWebIntModal()}getUserName(){return this.curConnectionSystem.getUserName()}waitForGraphRequired(){return this.curConnectionSystem.waitForGraphRequired()}login(e,i){var r=this;return E(function*(){return r.curConnectionSystem.login(e,i)})()}get isLoggedIn(){return this.curConnectionSystem.isLoggedIn}set webIntModalOpenRef(e){this.curConnectionSystem.webIntModalOpenRef=e}getGraphConfiguration(){return this.curConnectionSystem.getGraphConfiguration()}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(ki),J(Oo),J(Bn),J(_H),J(OE),J(pl))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zi(n){return null!=n&&"false"!=`${n}`}class wse{_box;_destroyed=new Oe;_resizeSubject=new Oe;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ie(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(gn(e=>e.some(i=>i.target===t)),Kx({bufferSize:1,refCount:!0}),$t(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Dse=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=p($e);constructor(){}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new wse(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xse=["notch"],Ese=["matFormFieldNotchedOutline",""],Sse=["*"],yH=["iconPrefixContainer"],vH=["textPrefixContainer"],CH=["iconSuffixContainer"],wH=["textSuffixContainer"],kse=["textField"],Ase=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tse=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ise(n,t){1&n&&ve(0,"span",21)}function Mse(n,t){if(1&n&&(_(0,"label",20),it(1,1),te(2,Ise,1,0,"span",21),b()),2&n){const e=C(2);K("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Qe("for",e._control.disableAutomaticLabeling?null:e._control.id),f(2),ne(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Rse(n,t){1&n&&te(0,Mse,3,5,"label",20),2&n&&ne(C()._hasFloatingLabel()?0:-1)}function Ose(n,t){1&n&&ve(0,"div",7)}function Pse(n,t){}function Nse(n,t){1&n&&Vn(0,Pse,0,0,"ng-template",13),2&n&&(C(2),K("ngTemplateOutlet",rn(1)))}function Lse(n,t){if(1&n&&(_(0,"div",9),te(1,Nse,1,1,null,13),b()),2&n){const e=C();K("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),f(),ne(e._forceDisplayInfixLabel()?-1:1)}}function Fse(n,t){1&n&&(_(0,"div",10,2),it(2,2),b())}function Bse(n,t){1&n&&(_(0,"div",11,3),it(2,3),b())}function Hse(n,t){}function jse(n,t){1&n&&Vn(0,Hse,0,0,"ng-template",13),2&n&&(C(),K("ngTemplateOutlet",rn(1)))}function Use(n,t){1&n&&(_(0,"div",14,4),it(2,4),b())}function Vse(n,t){1&n&&(_(0,"div",15,5),it(2,5),b())}function zse(n,t){1&n&&ve(0,"div",16)}function qse(n,t){1&n&&(_(0,"div",18),it(1,6),b())}function $se(n,t){if(1&n&&(_(0,"mat-hint",22),H(1),b()),2&n){const e=C(2);K("id",e._hintLabelId),f(),Ae(e.hintLabel)}}function Gse(n,t){if(1&n&&(_(0,"div",19),te(1,$se,2,2,"mat-hint",22),it(2,7),ve(3,"div",23),it(4,8),b()),2&n){const e=C();f(),ne(e.hintLabel?1:-1)}}let Gr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-label"]]})}return n})();const Wse=new Z("MatError");let DH=(()=>{class n{align="start";id=p(_n).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Ui("id",r.id),Qe("align",null),st("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const Kse=new Z("MatPrefix"),xH=new Z("MatSuffix");let Yse=(()=>{class n{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Je([{provide:xH,useExisting:n}])]})}return n})();const EH=new Z("FloatingLabelParent");let SH=(()=>{class n{_elementRef=p(nt);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=p(Dse);_ngZone=p($e);_parent=p(EH);_resizeSubscription=new zt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Qse(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&st("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const kH="mdc-line-ripple--active",_b="mdc-line-ripple--deactivating";let AH=(()=>{class n{_elementRef=p(nt);_cleanupTransitionEnd;constructor(){const e=p($e),i=p(ai);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(_b),e.add(kH)}deactivate(){this._elementRef.nativeElement.classList.add(_b)}_handleTransitionEnd=e=>{const i=this._elementRef.nativeElement.classList,r=i.contains(_b);"opacity"===e.propertyName&&r&&i.remove(kH,_b)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),TH=(()=>{class n{_elementRef=p(nt);_ngZone=p($e);open=!1;_notch;ngAfterViewInit(){const e=this._elementRef.nativeElement,i=e.querySelector(".mdc-floating-label");i?(e.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Jt(xse,5),2&i){let o;_e(o=be())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&st("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Ese,ngContentSelectors:Sse,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(ln(),Ps(0,"div",1),ji(1,"div",2,0),it(3),hr(),Ps(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),bb=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n})}return n})();const ym=new Z("MatFormField"),Xse=new Z("MAT_FORM_FIELD_DEFAULT_OPTIONS");let jd,mo=(()=>{class n{_elementRef=p(nt);_changeDetectorRef=p(qt);_platform=p(oi);_idGenerator=p(_n);_ngZone=p($e);_defaults=p(Xse,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=t_("iconPrefixContainer");_textPrefixContainerSignal=t_("textPrefixContainer");_iconSuffixContainerSignal=t_("iconSuffixContainer");_textSuffixContainerSignal=t_("textSuffixContainer");_prefixSuffixContainers=Or(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>void 0!==e));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=WX(Gr);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Zi(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){this._appearanceSignal.set(e||this._defaults?.appearance||"fill")}_appearanceSignal=Pn("fill");get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Oe;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Yn();constructor(){const e=this._defaults,i=p(Nr);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),ff(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Or(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){const i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Ii([void 0,void 0]),It(()=>[i.errorState,i.userAriaDescribedBy]),function Cse(){return Gn((n,t)=>{let e,i=!1;n.subscribe(Nn(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),gn(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe($t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),di(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){const e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){!function $Z(n,t){const e=t?.injector??p(kt),i=e.get(lc),r=e.get(jw),o=e.get(fc,null,{optional:!0});r.impl??=e.get(F1);let s=n;"function"==typeof s&&(s={mixedReadWrite:n});const a=e.get(hf,null,{optional:!0}),c=new qZ(r.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,i,e,o?.snapshot(null));r.impl.register(c)}({earlyRead:()=>{if("outline"!==this._appearanceSignal())return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(const e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Or(()=>!!this._labelChild());_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getSubscriptMessageType()){const o=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,s=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));const i=this._control.describedByIds;let r;if(i){const o=this._describedByIds||e;r=e.concat(i.filter(s=>s&&!o.includes(s)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;const e=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=e?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0;return[`var(--mat-mdc-form-field-label-transform, translateY(-50%) translateX(calc(${"rtl"===this._currentDirection?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px)))))`,s+a+c+l]}_writeOutlinedLabelStyles(e){if(null!==e){const[i,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),null!==r&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(uD(o,r._labelChild,Gr,5),Ei(o,bb,5)(o,Kse,5)(o,xH,5)(o,Wse,5)(o,DH,5)),2&i){let s;mD(),_e(s=be())&&(r._formFieldControl=s.first),_e(s=be())&&(r._prefixChildren=s),_e(s=be())&&(r._suffixChildren=s),_e(s=be())&&(r._errorChildren=s),_e(s=be())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(hD(r._iconPrefixContainerSignal,yH,5)(r._textPrefixContainerSignal,vH,5)(r._iconSuffixContainerSignal,CH,5)(r._textSuffixContainerSignal,wH,5),Jt(kse,5)(yH,5)(vH,5)(CH,5)(wH,5)(SH,5)(TH,5)(AH,5)),2&i){let o;mD(4),_e(o=be())&&(r._textField=o.first),_e(o=be())&&(r._iconPrefixContainer=o.first),_e(o=be())&&(r._textPrefixContainer=o.first),_e(o=be())&&(r._iconSuffixContainer=o.first),_e(o=be())&&(r._textSuffixContainer=o.first),_e(o=be())&&(r._floatingLabel=o.first),_e(o=be())&&(r._notchedOutline=o.first),_e(o=be())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){2&i&&st("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Je([{provide:ym,useExisting:n},{provide:EH,useExisting:n}])],ngContentSelectors:Tse,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=Ne();ln(Ase),Vn(0,Rse,1,1,"ng-template",null,0,ao),_(2,"div",6,1),ae("click",function(a){return Y(o),Q(r._control.onContainerClick(a))}),te(4,Ose,1,0,"div",7),_(5,"div",8),te(6,Lse,2,2,"div",9),te(7,Fse,3,0,"div",10),te(8,Bse,3,0,"div",11),_(9,"div",12),te(10,jse,1,1,null,13),it(11),b(),te(12,Use,3,0,"div",14),te(13,Vse,3,0,"div",15),b(),te(14,zse,1,0,"div",16),b(),_(15,"div",17),te(16,qse,2,0,"div",18)(17,Gse,5,1,"div",19),b()}if(2&i){let o;f(2),st("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),f(2),ne(r._hasOutline()||r._control.disabled?-1:4),f(2),ne(r._hasOutline()?6:-1),f(),ne(r._hasIconPrefix?7:-1),f(),ne(r._hasTextPrefix?8:-1),f(2),ne(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),f(2),ne(r._hasTextSuffix?12:-1),f(),ne(r._hasIconSuffix?13:-1),f(),ne(r._hasOutline()?-1:14),f(),st("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing);const s=r._getSubscriptMessageType();f(),ne("error"===(o=s)?16:"hint"===o?17:-1)}},dependencies:[SH,TH,Ed,AH,DH],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}\n'],encapsulation:2,changeDetection:0})}return n})();const RH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function OH(){if(jd)return jd;if("object"!=typeof document||!document)return jd=new Set(RH),jd;let n=document.createElement("input");return jd=new Set(RH.filter(t=>(n.setAttribute("type",t),n.type===t))),jd}let eae=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}\n"],encapsulation:2,changeDetection:0})}return n})();const tae={passive:!0};let nae=(()=>{class n{_platform=p(oi);_ngZone=p($e);_renderer=p(Sr).createRenderer(null,null);_styleLoader=p(Ai);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Pr;this._styleLoader.load(eae);const i=Vi(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Oe,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))},c=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",a,tae)));return this._monitoredElements.set(i,{subject:o,unlisten:c}),o}stopMonitoring(e){const i=Vi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iae=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})();const rae=new Z("MAT_INPUT_VALUE_ACCESSOR");let yb=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class PE{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}}let vb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[bE,mo,wn]})}return n})();const oae=["button","checkbox","file","hidden","image","radio","range","reset","submit"],sae=new Z("MAT_INPUT_CONFIG");let po=(()=>{class n{_elementRef=p(nt);_platform=p(oi);ngControl=p(Mo,{optional:!0,self:!0});_autofillMonitor=p(nae);_ngZone=p($e);_formField=p(ym,{optional:!0});_renderer=p(ai);_uid=p(_n).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=p(sae,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Oe;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Zi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(_x.required)??!1}set required(e){this._required=Zi(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&OH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Zi(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>OH().has(e));constructor(){const e=p(Fc,{optional:!0}),i=p(Jh,{optional:!0}),r=p(yb),o=p(rae,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?md(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new PE(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===a,this._isTextarea="textarea"===a,this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ff(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){const i=this._elementRef.nativeElement;"number"===i.type?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){oae.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){const i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{const i=e.target;!i.value&&0===i.selectionStart&&0===i.selectionEnd&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){1&i&&ae("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Ui("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Qe("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),st("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re]},exportAs:["matInput"],features:[Je([{provide:bb,useExisting:n}]),Wn]})}return n})(),aae=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[vb,vb,iae,wn]})}return n})();const cae=["login"],lae=["userInput"],dae=()=>({title:"Login"}),uae=(n,t,e,i)=>({confirm:n,cancel:t,confirmAction:e,cancelAction:i});function hae(n,t){if(1&n){const e=Ne();Kn(0,3),_(1,"div",4)(2,"div",5)(3,"mat-form-field",6)(4,"mat-label"),H(5),pr(6,"translate"),b(),_(7,"input",7,1),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.uname,r)||(o.uname=r),Q(r)}),ae("focus",function(){return Y(e),Q(rn(8).select())})("keyup.enter",function(){return Y(e),Q(rn(14).focus())}),b()(),_(9,"mat-form-field",6)(10,"mat-label"),H(11),pr(12,"translate"),b(),_(13,"input",8,2),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.pwd,r)||(o.pwd=r),Q(r)}),ae("keyup.enter",function(){return Y(e),Q(C().confirmAction())}),b()()()(),Kn(15,3),pr(16,"translate"),pr(17,"translate")}if(2&n){const e=C();K("ngTemplateOutlet",e.modalHeader)("ngTemplateOutletContext",Oh(16,dae)),f(5),Ae(Mr(6,8,"username")),f(2),Ot("ngModel",e.uname),f(4),Ae(Mr(12,10,"password")),f(2),Ot("ngModel",e.pwd),f(2),K("ngTemplateOutlet",e.modalFooter)("ngTemplateOutletContext",wD(17,uae,Mr(16,12,"LC73135"),Mr(17,14,"LC73136"),e.confirmAction.bind(e),e.cancelAction.bind(e)))}}let mae=(()=>{class n extends e3{constructor(e,i,r,o){super(e),this.translate=e,this.connection=i,this.messageService=r,this.globals=o}ngOnInit(){setTimeout(()=>this.userInput?.nativeElement?.focus())}checkIfEmpty(e,i){return E(function*(){return!e||""===e||!i||""===i})()}confirmAction(){var e=this;return E(function*(){(yield e.checkIfEmpty(e.uname.trim(),e.pwd.trim()))?e.messageService.showError(e.globals.languageConfLocal.inputMissing):(yield e.connection.login(e.uname,e.pwd))&&e.closeAll()})()}static{this.\u0275fac=function(i){return new(i||n)(R(zn),R(Lr),R(Bn),R(Dt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-login"]],viewQuery:function(i,r){if(1&i&&Jt(cae,7)(lae,5),2&i){let o;_e(o=be())&&(r.modalTemp=o.first),_e(o=be())&&(r.userInput=o.first)}},standalone:!1,features:[Ge],decls:2,vars:0,consts:[["login",""],["userInput",""],["passwordInput",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"modalBody","loginDialog"],[1,"inputWrapper"],[1,"loginInput"],["matInput","","type","text","autocomplete","username","cdkFocusInitial","","autofocus","",3,"ngModelChange","focus","keyup.enter","ngModel"],["matInput","","type","password","autocomplete","current-password",3,"ngModelChange","keyup.enter","ngModel"]],template:function(i,r){1&i&&Vn(0,hae,18,22,"ng-template",null,0,ao)},dependencies:[Ed,Io,Jo,ts,mo,Gr,po,sm],styles:[".loginInput[_ngcontent-%COMP%]{width:100%;display:block;padding-bottom:0!important}"]})}}return n})();class Wr{}var Oa=function(n){return n[n.projects=0]="projects",n[n.contacts=1]="contacts",n[n.service=2]="service",n[n.opportunity=3]="opportunity",n[n.events=4]="events",n[n.organization=5]="organization",n[n.office=6]="office",n[n.leads=7]="leads",n}(Oa||{});class pae{}var Us=function(n){return n[n.alreadyDocumented=0]="alreadyDocumented",n[n.notSupported=1]="notSupported",n[n.openTicket=2]="openTicket",n}(Us||{});class Zc{}var Vs=function(n){return n.Contact="Contact",n.Service="Service",n.Opportunity="Opportunity",n.ProjectManagement="ProjectManagement",n.Event="Event",n.Organization="Organization",n.Office="Office",n.Leads="Leads",n.Projects="Projects",n.Events="Events",n.Activities="Activities",n}(Vs||{}),zs=function(n){return n.DocumentToAnything="DocumentToAnything|vBA9|vGI8.15|",n.CreateTicket="CreateTicket|vBA11|vGI8.14|",n.TicketAddressDependency="TicketAddressDependency||vGI8.14|",n}(zs||{});let PH=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.translate=i,this.globals=r}ngOnInit(){}closeDialog(e){this.dialogRef.close(e)}static{this.\u0275fac=function(i){return new(i||n)(R(Ld),R(zn),R(Dt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-already-documented-component"]],standalone:!1,decls:10,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(_(0,"h2",0),H(1),pr(2,"translate"),b(),ve(3,"mat-dialog-content",1),_(4,"mat-dialog-actions",2)(5,"button",3),ae("click",function(){return r.closeDialog(!0)}),H(6),pr(7,"translate"),b(),_(8,"button",3),ae("click",function(){return r.closeDialog(!1)}),H(9),b()()),2&i&&(f(),Ae(Mr(2,3,"LC73006")),f(5),Ae(Mr(7,5,"LC73057")),f(3),Ae(r.globals.languageConfLocal.NO))},dependencies:[SE,hb,ub,Ra,sm],encapsulation:2})}}return n})(),fae=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.translate=i,this.globals=r}ngOnInit(){}closeDialog(e){this.dialogRef.close(e)}static{this.\u0275fac=function(i){return new(i||n)(R(Ld),R(zn),R(Dt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-not-supported-component"]],standalone:!1,decls:5,vars:0,consts:[["align","end"],["mat-button","","mat-dialog-close",""]],template:function(i,r){1&i&&(_(0,"mat-dialog-content"),H(1," Addin does not support read mode for appointments. "),b(),_(2,"mat-dialog-actions",0)(3,"button",1),H(4,"Close"),b()())},dependencies:[Y3,hb,ub,Ra],encapsulation:2})}}return n})(),gae=(()=>{class n{constructor(e,i,r){this.globals=e,this.dialogRef=i,this.data=r}close(e){this.dialogRef.close(e)}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Ld),R(K3))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-open-ticket"]],standalone:!1,decls:9,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","color","primary",3,"click"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(_(0,"h2",0),H(1),b(),_(2,"mat-dialog-content",1),H(3),b(),_(4,"mat-dialog-actions",2)(5,"button",3),ae("click",function(){return r.close(!0)}),H(6),b(),_(7,"button",4),ae("click",function(){return r.close(!1)}),H(8),b()()),2&i&&(f(),Ae(r.data.title||r.globals.languageConfLocal.LC53160||"Ticket erstellen"),f(2),Xe(" ",r.data.message||r.globals.languageConfLocal.openTicketQuestion||"Ticket jetzt \xf6ffnen?","\n"),f(3),Ae(r.globals.languageConfLocal.LC73057||"Ja"),f(2),Ae(r.globals.languageConfLocal.NO||"Nein"))},dependencies:[SE,hb,ub,Ra],encapsulation:2})}}return n})(),NE=(()=>{class n{constructor(e){this.dialog=e}createDialogWithType(e,i){let r;switch(i||((i=new lb).disableClose=!0,i.autoFocus=!0),e){case Us.alreadyDocumented:r=PH;break;case Us.notSupported:r=fae;break;case Us.openTicket:r=gae}return new ie(o=>{let s=document.createElement("button");document.body.appendChild(s),s.onclick=()=>{o.next(this.dialog.open(r,i))},s?.click(),s?.remove()})}createCustomDialog(){}closeAllDialogs(){try{this.dialog.closeAll()}catch{}}static{this.\u0275fac=function(i){return new(i||n)(J(Oo))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fo=function(n){return n.GET="GET",n.PATCH="PATCH",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",n}(fo||{});const yae=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class Jc extends Error{static setGraphClientError(t){let e;return t instanceof Error?e=t:(e=new Jc,e.customError=t),e}constructor(t){super(t),Object.setPrototypeOf(this,Jc.prototype)}}const vae=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],LE=n=>{const t=n&&n.constructor&&n.constructor.name;if("Buffer"===t||"Blob"===t||"File"===t||"FormData"===t||"string"==typeof n)return n;if("ArrayBuffer"===t)n=Buffer.from(n);else if("Int8Array"===t||"Int16Array"===t||"Int32Array"===t||"Uint8Array"===t||"Uint16Array"===t||"Uint32Array"===t||"Uint8ClampedArray"===t||"Float32Array"===t||"Float64Array"===t||"DataView"===t)n=Buffer.from(n.buffer);else try{n=JSON.stringify(n)}catch{throw new Error("Unable to stringify the content")}return n},NH=n=>FH(n),LH=(n,t)=>(t.forEach(e=>wae(e)),FH(n,t)),FH=(n,t=yae)=>{if(-1!==(n=n.toLowerCase()).indexOf("https://")){const e=(n=n.replace("https://","")).indexOf(":"),i=n.indexOf("/");let r="";if(-1!==i)return-1!==e&&e<i?(r=n.substring(0,e),t.has(r)):(r=n.substring(0,i),t.has(r))}return!1},wae=n=>{if(-1!==n.indexOf("/"))throw new Jc("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class el{constructor(t=[]){this.middlewareOptions=new Map;for(const e of t)this.middlewareOptions.set(e.constructor,e)}getMiddlewareOptions(t){return this.middlewareOptions.get(t)}setMiddlewareOptions(t,e){this.middlewareOptions.set(t,e)}}const BH=(n,t,e)=>{let i=null;if(typeof Request<"u"&&n instanceof Request)i=n.headers.get(e);else if(typeof t<"u"&&void 0!==t.headers)if(typeof Headers<"u"&&t.headers instanceof Headers)i=t.headers.get(e);else if(t.headers instanceof Array){const r=t.headers;for(let o=0,s=r.length;o<s;o++)if(r[o][0]===e){i=r[o][1];break}}else void 0!==t.headers[e]&&(i=t.headers[e]);return i},HH=(n,t,e,i)=>{if(typeof Request<"u"&&n instanceof Request)n.headers.set(e,i);else if(typeof t<"u")if(void 0===t.headers)t.headers=new Headers({[e]:i});else if(typeof Headers<"u"&&t.headers instanceof Headers)t.headers.set(e,i);else if(t.headers instanceof Array){let r=0;const o=t.headers.length;for(;r<o;r++){const s=t.headers[r];if(s[0]===e){s[1]=i;break}}r===o&&t.headers.push([e,i])}else Object.assign(t.headers,{[e]:i})},jH=(n,t,e,i)=>{typeof Request<"u"&&n instanceof Request?n.headers.append(e,i):typeof t<"u"&&(void 0===t.headers?t.headers=new Headers({[e]:i}):typeof Headers<"u"&&t.headers instanceof Headers?t.headers.append(e,i):t.headers instanceof Array?t.headers.push([e,i]):void 0===t.headers?t.headers={[e]:i}:void 0===t.headers[e]?t.headers[e]=i:t.headers[e]+=`, ${i}`)};class Eae{constructor(t,e){this.authenticationProvider=t,this.authenticationProviderOptions=e}}var vm=function(n){return n[n.NONE=0]="NONE",n[n.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",n[n.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",n[n.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED",n}(vm||{});class Pa{constructor(){this.featureUsage=vm.NONE}static updateFeatureUsageFlag(t,e){let i;t.middlewareControl instanceof el?i=t.middlewareControl.getMiddlewareOptions(Pa):t.middlewareControl=new el,typeof i>"u"&&(i=new Pa,t.middlewareControl.setMiddlewareOptions(Pa,i)),i.setFeatureUsage(e)}setFeatureUsage(t){this.featureUsage=this.featureUsage|t}getFeatureUsage(){return this.featureUsage.toString(16)}}let Sae=(()=>{class n{constructor(e){this.authenticationProvider=e}execute(e){return fn(this,void 0,void 0,function*(){const i="string"==typeof e.request?e.request:e.request.url;if(NH(i)||e.customHosts&&LH(i,e.customHosts)){let r,o,s;e.middlewareControl instanceof el&&(r=e.middlewareControl.getMiddlewareOptions(Eae)),r&&(o=r.authenticationProvider,s=r.authenticationProviderOptions),o||(o=this.authenticationProvider);const c=`Bearer ${yield o.getAccessToken(s)}`;jH(e.request,e.options,n.AUTHORIZATION_HEADER,c),Pa.updateFeatureUsageFlag(e,vm.AUTHENTICATION_HANDLER_ENABLED)}else e.options.headers&&delete e.options.headers[n.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}return n.AUTHORIZATION_HEADER="Authorization",n})(),FE=(()=>{class n{constructor(e=n.DEFAULT_DELAY,i=n.DEFAULT_MAX_RETRIES,r=n.defaultShouldRetry){if(e>n.MAX_DELAY&&i>n.MAX_MAX_RETRIES){const o=new Error(`Delay and MaxRetries should not be more than ${n.MAX_DELAY} and ${n.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}if(e>n.MAX_DELAY){const o=new Error(`Delay should not be more than ${n.MAX_DELAY}`);throw o.name="MaxLimitExceeded",o}if(i>n.MAX_MAX_RETRIES){const o=new Error(`MaxRetries should not be more than ${n.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}if(e<0&&i<0){const o=new Error("Delay and MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}if(e<0){const o=new Error("Delay should not be negative");throw o.name="MinExpectationNotMet",o}if(i<0){const o=new Error("MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}this.delay=Math.min(e,n.MAX_DELAY),this.maxRetries=Math.min(i,n.MAX_MAX_RETRIES),this.shouldRetry=r}getMaxDelay(){return n.MAX_DELAY}}return n.DEFAULT_DELAY=3,n.DEFAULT_MAX_RETRIES=3,n.MAX_DELAY=180,n.MAX_MAX_RETRIES=10,n.defaultShouldRetry=()=>!0,n})(),kae=(()=>{class n{constructor(e=new FE){this.options=e}isRetry(e){return-1!==n.RETRY_STATUS_CODES.indexOf(e.status)}isBuffered(e,i){const r="string"==typeof e?i.method:e.method;return!((r===fo.PUT||r===fo.PATCH||r===fo.POST)&&"application/octet-stream"===BH(e,i,"Content-Type"))}getDelay(e,i,r){const o=()=>Number(Math.random().toFixed(3)),s=void 0!==e.headers?e.headers.get(n.RETRY_AFTER_HEADER):null;let a;return a=null!==s?Number.isNaN(Number(s))?Math.round((new Date(s).getTime()-Date.now())/1e3):Number(s):i>=2?this.getExponentialBackOffTime(i)+r+o():r+o(),Math.min(a,this.options.getMaxDelay()+o())}getExponentialBackOffTime(e){return Math.round(.5*(Math.pow(2,e)-1))}sleep(e){return fn(this,void 0,void 0,function*(){const i=1e3*e;return new Promise(r=>setTimeout(r,i))})}getOptions(e){let i;return e.middlewareControl instanceof el&&(i=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof i>"u"&&(i=Object.assign(new FE,this.options)),i}executeWithRetry(e,i,r){return fn(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(e),i<r.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&r.shouldRetry(r.delay,i,e.request,e.options,e.response)){++i,HH(e.request,e.options,n.RETRY_ATTEMPT_HEADER,i.toString());const o=this.getDelay(e.response,i,r.delay);return yield this.sleep(o),yield this.executeWithRetry(e,i,r)}})}execute(e){return fn(this,void 0,void 0,function*(){const r=this.getOptions(e);return Pa.updateFeatureUsageFlag(e,vm.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(e,0,r)})}setNext(e){this.nextMiddleware=e}}return n.RETRY_STATUS_CODES=[429,503,504],n.RETRY_ATTEMPT_HEADER="Retry-Attempt",n.RETRY_AFTER_HEADER="Retry-After",n})(),Cb=(()=>{class n{constructor(e=n.DEFAULT_MAX_REDIRECTS,i=n.defaultShouldRedirect){if(e>n.MAX_MAX_REDIRECTS){const r=new Error(`MaxRedirects should not be more than ${n.MAX_MAX_REDIRECTS}`);throw r.name="MaxLimitExceeded",r}if(e<0){const r=new Error("MaxRedirects should not be negative");throw r.name="MinExpectationNotMet",r}this.maxRedirects=e,this.shouldRedirect=i}}return n.DEFAULT_MAX_REDIRECTS=5,n.MAX_MAX_REDIRECTS=20,n.defaultShouldRedirect=()=>!0,n})(),Aae=(()=>{class n{constructor(e=new Cb){this.options=e}isRedirect(e){return-1!==n.REDIRECT_STATUS_CODES.indexOf(e.status)}hasLocationHeader(e){return e.headers.has(n.LOCATION_HEADER)}getLocationHeader(e){return e.headers.get(n.LOCATION_HEADER)}isRelativeURL(e){return-1===e.indexOf("://")}shouldDropAuthorizationHeader(e,i){const r=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=r.exec(e);let s,a;null!==o&&(s=o[0]);const c=r.exec(i);return null!==c&&(a=c[0]),typeof s<"u"&&typeof a<"u"&&s!==a}updateRequestUrl(e,i){return fn(this,void 0,void 0,function*(){i.request="string"==typeof i.request?e:yield((n,t)=>fn(void 0,void 0,void 0,function*(){const e=t.headers.get("Content-Type")?yield t.blob():yield Promise.resolve(void 0),{method:i,headers:r,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:d,integrity:u,keepalive:h,signal:m}=t;return new Request(n,{method:i,headers:r,body:e,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:d,integrity:u,keepalive:h,signal:m})}))(e,i.request)})}getOptions(e){let i;return e.middlewareControl instanceof el&&(i=e.middlewareControl.getMiddlewareOptions(Cb)),typeof i>"u"&&(i=Object.assign(new Cb,this.options)),i}executeWithRedirect(e,i,r){return fn(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(e);const o=e.response;if(i<r.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&r.shouldRedirect(o)){if(++i,o.status===n.STATUS_CODE_SEE_OTHER)e.options.method=fo.GET,delete e.options.body;else{const s=this.getLocationHeader(o);!this.isRelativeURL(s)&&this.shouldDropAuthorizationHeader(o.url,s)&&delete e.options.headers[n.AUTHORIZATION_HEADER],yield this.updateRequestUrl(s,e)}yield this.executeWithRedirect(e,i,r)}})}execute(e){return fn(this,void 0,void 0,function*(){const r=this.getOptions(e);return e.options.redirect=n.MANUAL_REDIRECT,Pa.updateFeatureUsageFlag(e,vm.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(e,0,r)})}setNext(e){this.nextMiddleware=e}}return n.REDIRECT_STATUS_CODES=[301,302,303,307,308],n.STATUS_CODE_SEE_OTHER=303,n.LOCATION_HEADER="Location",n.AUTHORIZATION_HEADER="Authorization",n.MANUAL_REDIRECT="manual",n})(),Iae=(()=>{class n{execute(e){return fn(this,void 0,void 0,function*(){const i="string"==typeof e.request?e.request:e.request.url;if(NH(i)||e.customHosts&&LH(i,e.customHosts)){let r=BH(e.request,e.options,n.CLIENT_REQUEST_ID_HEADER);r||(r=(()=>{let n="";for(let t=0;t<32;t++)(8===t||12===t||16===t||20===t)&&(n+="-"),n+=Math.floor(16*Math.random()).toString(16);return n})(),HH(e.request,e.options,n.CLIENT_REQUEST_ID_HEADER,r));let s,o=`${n.PRODUCT_NAME}/3.0.7`;if(e.middlewareControl instanceof el&&(s=e.middlewareControl.getMiddlewareOptions(Pa)),s){const a=s.getFeatureUsage();o+=` (${n.FEATURE_USAGE_STRING}=${a})`}jH(e.request,e.options,n.SDK_VERSION_HEADER,o)}else delete e.options.headers[n.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[n.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}return n.CLIENT_REQUEST_ID_HEADER="client-request-id",n.SDK_VERSION_HEADER="SdkVersion",n.PRODUCT_NAME="graph-js",n.FEATURE_USAGE_STRING="featureUsage",n})();var Po=function(n){return n.ARRAYBUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.RAW="raw",n.STREAM="stream",n.TEXT="text",n}(Po||{}),UH=function(n){return n.TEXT_HTML="text/html",n.TEXT_XML="text/xml",n.APPLICATION_XML="application/xml",n.APPLICATION_XHTML="application/xhtml+xml",n}(UH||{}),BE=function(n){return n.TEXT_PLAIN="text/plain",n.APPLICATION_JSON="application/json",n}(BE||{}),HE=function(n){return n.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",n.IMAGE="^image\\/.+",n}(HE||{});class Cm{static parseDocumentResponse(t,e){return typeof DOMParser<"u"?new Promise((i,r)=>{t.text().then(o=>{try{const a=(new DOMParser).parseFromString(o,e);i(a)}catch(s){r(s)}})}):Promise.resolve(t.body)}static convertResponse(t,e){return fn(this,void 0,void 0,function*(){if(204===t.status)return Promise.resolve();let i;const r=t.headers.get("Content-type");switch(e){case Po.ARRAYBUFFER:i=yield t.arrayBuffer();break;case Po.BLOB:i=yield t.blob();break;case Po.DOCUMENT:i=yield Cm.parseDocumentResponse(t,UH.TEXT_XML);break;case Po.JSON:i=yield t.json();break;case Po.STREAM:i=yield Promise.resolve(t.body);break;case Po.TEXT:i=yield t.text();break;default:if(null!==r){const o=r.split(";")[0];i=new RegExp(HE.DOCUMENT).test(o)?yield Cm.parseDocumentResponse(t,o):new RegExp(HE.IMAGE).test(o)?t.blob():o===BE.TEXT_PLAIN?yield t.text():o===BE.APPLICATION_JSON?yield t.json():Promise.resolve(t.body)}else i=Promise.resolve(t.body)}return i})}static getResponse(t,e,i){return fn(this,void 0,void 0,function*(){if(e===Po.RAW)return Promise.resolve(t);{const r=yield Cm.convertResponse(t,e);if(!t.ok)throw r;if("function"!=typeof i)return r;i(null,r)}})}}class Oae{constructor(t){this.provider=t}getAccessToken(){return fn(this,void 0,void 0,function*(){return new Promise((t,e)=>{this.provider((i,r)=>fn(this,void 0,void 0,function*(){if(r)t(r);else{i||(i=new Jc("Access token is undefined or empty.\t\t\t\t\t\tPlease provide a valid token.\t\t\t\t\t\tFor more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md"));const o=yield Jc.setGraphClientError(i);e(o)}}))})})}}class wm extends Error{constructor(t=-1,e,i){super(e||i&&i.message),Object.setPrototypeOf(this,wm.prototype),this.statusCode=t,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=i?i.stack:this.stack}}class wb{static constructError(t,e,i){const r=new wm(e,"",t);return void 0!==t.name&&(r.code=t.name),r.body=t.toString(),r.date=new Date,r.headers=i?.headers,r}static constructErrorFromResponse(t,e,i){const r=t.error,o=new wm(e,r.message);return o.code=r.code,void 0!==r.innerError&&(o.requestId=r.innerError["request-id"],o.date=new Date(r.innerError.date)),o.body=JSON.stringify(r),o.headers=i?.headers,o}static getError(t=null,e=-1,i,r){return fn(this,void 0,void 0,function*(){let o;if(t&&t.error?o=wb.constructErrorFromResponse(t,e,r):t instanceof Error?o=wb.constructError(t,e,r):(o=new wm(e),o.body=t),"function"!=typeof i)return o;i(o,null)})}}class Pae{constructor(t,e,i){this.parsePath=r=>{if(-1!==r.indexOf("https://")){const s=(r=r.replace("https://","")).indexOf("/");-1!==s&&(this.urlComponents.host="https://"+r.substring(0,s),r=r.substring(s+1,r.length));const a=r.indexOf("/");-1!==a&&(this.urlComponents.version=r.substring(0,a),r=r.substring(a+1,r.length))}"/"===r.charAt(0)&&(r=r.substr(1));const o=r.indexOf("?");if(-1===o)this.urlComponents.path=r;else{this.urlComponents.path=r.substr(0,o);const s=r.substring(o+1,r.length).split("&");for(const a of s)this.parseQueryParameter(a)}},this.httpClient=t,this.config=e,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(i)}addCsvQueryParameter(t,e,i){this.urlComponents.oDataQueryParams[t]=this.urlComponents.oDataQueryParams[t]?this.urlComponents.oDataQueryParams[t]+",":"";let r=[];i.length>1&&"string"==typeof e?r=Array.prototype.slice.call(i):"string"==typeof e?r.push(e):r=r.concat(e),this.urlComponents.oDataQueryParams[t]+=r.join(",")}buildFullUrl(){const t=(()=>{const t=o=>o.replace(/\/+$/,""),e=o=>o.replace(/^\/+/,"");return Array.prototype.slice.call([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path]).reduce((o,s)=>[t(o),e(s)].join("/"))})()+this.createQueryString();return this.config.debugLogging&&console.log(t),t}createQueryString(){const t=this.urlComponents,e=[];if(0!==Object.keys(t.oDataQueryParams).length)for(const i in t.oDataQueryParams)Object.prototype.hasOwnProperty.call(t.oDataQueryParams,i)&&e.push(i+"="+t.oDataQueryParams[i]);if(0!==Object.keys(t.otherURLQueryParams).length)for(const i in t.otherURLQueryParams)Object.prototype.hasOwnProperty.call(t.otherURLQueryParams,i)&&e.push(i+"="+t.otherURLQueryParams[i]);if(0!==t.otherURLQueryOptions.length)for(const i of t.otherURLQueryOptions)e.push(i);return e.length>0?"?"+e.join("&"):""}parseQueryParameter(t){if("string"==typeof t)if("?"===t.charAt(0)&&(t=t.substring(1)),-1!==t.indexOf("&")){const e=t.split("&");for(const i of e)this.parseQueryParamenterString(i)}else this.parseQueryParamenterString(t);else if(t.constructor===Object)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.setURLComponentsQueryParamater(e,t[e]);return this}parseQueryParamenterString(t){if(this.isValidQueryKeyValuePair(t)){const e=t.indexOf("="),i=t.substring(0,e),r=t.substring(e+1);this.setURLComponentsQueryParamater(i,r)}else this.urlComponents.otherURLQueryOptions.push(t)}setURLComponentsQueryParamater(t,e){if(-1!==vae.indexOf(t)){const i=this.urlComponents.oDataQueryParams[t];this.urlComponents.oDataQueryParams[t]=!i||"$expand"!==t&&"$select"!==t&&"$orderby"!==t?e:i+","+e}else this.urlComponents.otherURLQueryParams[t]=e}isValidQueryKeyValuePair(t){const e=t.indexOf("=");return!(-1===e||-1!==t.indexOf("(")&&t.indexOf("(")<e)}updateRequestOptions(t){const e=Object.assign({},t.headers);if(void 0!==this.config.fetchOptions){const i=Object.assign({},this.config.fetchOptions);Object.assign(t,i),void 0!==typeof this.config.fetchOptions.headers&&(t.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(t,this._options),void 0!==t.headers&&Object.assign(e,t.headers),Object.assign(e,this._headers),t.headers=e}send(t,e,i){var r;return fn(this,void 0,void 0,function*(){let o;const s=new el(this._middlewareOptions);this.updateRequestOptions(e);const a=null===(r=this.config)||void 0===r?void 0:r.customHosts;try{return o=(yield this.httpClient.sendRequest({request:t,options:e,middlewareControl:s,customHosts:a})).response,yield Cm.getResponse(o,this._responseType,i)}catch(c){if(c instanceof Jc)throw c;let l;throw o&&(l=o.status),yield wb.getError(c,l,i,o)}})}setHeaderContentType(){if(!this._headers)return void this.header("Content-Type","application/json");const t=Object.keys(this._headers);for(const e of t)if("content-type"===e.toLowerCase())return;this.header("Content-Type","application/json")}header(t,e){return this._headers[t]=e,this}headers(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this._headers[e]=t[e]);return this}option(t,e){return this._options[t]=e,this}options(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this._options[e]=t[e]);return this}middlewareOptions(t){return this._middlewareOptions=t,this}version(t){return this.urlComponents.version=t,this}responseType(t){return this._responseType=t,this}select(t){return this.addCsvQueryParameter("$select",t,arguments),this}expand(t){return this.addCsvQueryParameter("$expand",t,arguments),this}orderby(t){return this.addCsvQueryParameter("$orderby",t,arguments),this}filter(t){return this.urlComponents.oDataQueryParams.$filter=t,this}search(t){return this.urlComponents.oDataQueryParams.$search=t,this}top(t){return this.urlComponents.oDataQueryParams.$top=t,this}skip(t){return this.urlComponents.oDataQueryParams.$skip=t,this}skipToken(t){return this.urlComponents.oDataQueryParams.$skipToken=t,this}count(t=!0){return this.urlComponents.oDataQueryParams.$count=t.toString(),this}query(t){return this.parseQueryParameter(t)}get(t){return fn(this,void 0,void 0,function*(){const e=this.buildFullUrl(),i={method:fo.GET};return yield this.send(e,i,t)})}post(t,e){return fn(this,void 0,void 0,function*(){const i=this.buildFullUrl(),r={method:fo.POST,body:LE(t)};return"FormData"===(t&&t.constructor&&t.constructor.name)?r.headers={}:(this.setHeaderContentType(),r.headers=this._headers),yield this.send(i,r,e)})}create(t,e){return fn(this,void 0,void 0,function*(){return yield this.post(t,e)})}put(t,e){return fn(this,void 0,void 0,function*(){const i=this.buildFullUrl();this.setHeaderContentType();const r={method:fo.PUT,body:LE(t)};return yield this.send(i,r,e)})}patch(t,e){return fn(this,void 0,void 0,function*(){const i=this.buildFullUrl();this.setHeaderContentType();const r={method:fo.PATCH,body:LE(t)};return yield this.send(i,r,e)})}update(t,e){return fn(this,void 0,void 0,function*(){return yield this.patch(t,e)})}delete(t){return fn(this,void 0,void 0,function*(){const e=this.buildFullUrl(),i={method:fo.DELETE};return yield this.send(e,i,t)})}del(t){return fn(this,void 0,void 0,function*(){return yield this.delete(t)})}getStream(t){return fn(this,void 0,void 0,function*(){const e=this.buildFullUrl(),i={method:fo.GET};return this.responseType(Po.STREAM),yield this.send(e,i,t)})}putStream(t,e){return fn(this,void 0,void 0,function*(){const i=this.buildFullUrl(),r={method:fo.PUT,headers:{"Content-Type":"application/octet-stream"},body:t};return yield this.send(i,r,e)})}}class VH{constructor(...t){if(!t||!t.length){const e=new Error;throw e.name="InvalidMiddlewareChain",e.message="Please provide a default middleware chain or custom middleware chain",e}this.setMiddleware(...t)}setMiddleware(...t){t.length>1?this.parseMiddleWareArray(t):this.middleware=t[0]}parseMiddleWareArray(t){t.forEach((e,i)=>{i<t.length-1&&e.setNext(t[i+1])}),this.middleware=t[0]}sendRequest(t){return fn(this,void 0,void 0,function*(){if("string"==typeof t.request&&void 0===t.options){const e=new Error;throw e.name="InvalidRequestOptions",e.message="Unable to execute the middleware, Please provide valid options for a request",e}return yield this.middleware.execute(t),t})}}class Nae{execute(t){return fn(this,void 0,void 0,function*(){t.response=yield fetch(t.request,t.options)})}}class jE{static createWithAuthenticationProvider(t){const e=new Sae(t),i=new kae(new FE),r=new Iae,o=new Nae;if(e.setNext(i),"object"==typeof process){const s=new Aae(new Cb);i.setNext(s),s.setNext(r)}else i.setNext(r);return r.setNext(o),jE.createWithMiddleware(e)}static createWithMiddleware(...t){return new VH(...t)}}class Dm{static init(t){const e={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]="authProvider"===i?new Oae(t[i]):t[i]);return Dm.initWithMiddleware(e)}static initWithMiddleware(t){return new Dm(t)}constructor(t){this.config={baseUrl:"https://graph.microsoft.com/",debugLogging:!1,defaultVersion:"v1.0"},(()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const n=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw n.name="PolyFillNotAvailable",n}if(typeof Promise>"u"){const n=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}if(typeof fetch>"u"){const n=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}})();for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.config[i]=t[i]);let e;if(void 0!==t.authProvider&&void 0!==t.middleware){const i=new Error;throw i.name="AmbiguityInInitialization",i.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",i}if(void 0!==t.authProvider)e=jE.createWithAuthenticationProvider(t.authProvider);else{if(void 0===t.middleware){const i=new Error;throw i.name="InvalidMiddlewareChain",i.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",i}e=new VH(...[].concat(t.middleware))}this.httpClient=e}api(t){return new Pae(this.httpClient,this.config,t)}}class Na{}const De={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ud=[De.OPENID_SCOPE,De.PROFILE_SCOPE,De.OFFLINE_ACCESS_SCOPE],zH=[...Ud,De.EMAIL_SCOPE],Mi={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Ri={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},qH={PLAIN:"plain",S256:"S256"},xm={QUERY:"query",FRAGMENT:"fragment"},Bae={...xm,FORM_POST:"form_post"},Nt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},UE="appmetadata",zi={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Dn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"};var Qn=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n}(Qn||{});class Ba{constructor(t,e,i){this.level=Qn.Info;const o=t||Ba.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||(()=>{}),this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:Qn.Info,this.correlationId=o.correlationId||De.EMPTY_STRING,this.packageName=e||De.EMPTY_STRING,this.packageVersion=i||De.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qn.Info}}clone(t,e,i){return new Ba({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:i||this.correlationId},t,e)}logMessage(t,e){if(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)return;const o=`[${(new Date).toUTCString()}] : [${e.correlationId||this.correlationId||""}] : ${this.packageName}@${this.packageVersion} : ${Qn[e.logLevel]} - ${t}`;this.executeCallback(e.logLevel,o,e.containsPii||!1)}executeCallback(t,e,i){this.localCallback&&this.localCallback(t,e,i)}error(t,e){this.logMessage(t,{logLevel:Qn.Error,containsPii:!1,correlationId:e||De.EMPTY_STRING})}errorPii(t,e){this.logMessage(t,{logLevel:Qn.Error,containsPii:!0,correlationId:e||De.EMPTY_STRING})}warning(t,e){this.logMessage(t,{logLevel:Qn.Warning,containsPii:!1,correlationId:e||De.EMPTY_STRING})}warningPii(t,e){this.logMessage(t,{logLevel:Qn.Warning,containsPii:!0,correlationId:e||De.EMPTY_STRING})}info(t,e){this.logMessage(t,{logLevel:Qn.Info,containsPii:!1,correlationId:e||De.EMPTY_STRING})}infoPii(t,e){this.logMessage(t,{logLevel:Qn.Info,containsPii:!0,correlationId:e||De.EMPTY_STRING})}verbose(t,e){this.logMessage(t,{logLevel:Qn.Verbose,containsPii:!1,correlationId:e||De.EMPTY_STRING})}verbosePii(t,e){this.logMessage(t,{logLevel:Qn.Verbose,containsPii:!0,correlationId:e||De.EMPTY_STRING})}trace(t,e){this.logMessage(t,{logLevel:Qn.Trace,containsPii:!1,correlationId:e||De.EMPTY_STRING})}tracePii(t,e){this.logMessage(t,{logLevel:Qn.Trace,containsPii:!0,correlationId:e||De.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const km="unexpected_error",qE="post_request_failed",Ab={[km]:"Unexpected error in authentication.",[qE]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Hn extends Error{constructor(t,e,i){super(e?`${t}: ${e}`:t),Object.setPrototypeOf(this,Hn.prototype),this.errorCode=t||De.EMPTY_STRING,this.errorMessage=e||De.EMPTY_STRING,this.subError=i||De.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function KH(n,t){return new Hn(n,t?`${Ab[n]} ${t}`:Ab[n])}const Am="client_info_decoding_error",Tb="client_info_empty_error",Tm="token_parsing_error",Ib="null_or_empty_token",No="endpoints_resolution_error",Mb="network_error",Rb="openid_config_error",Ob="hash_not_deserialized",Ha="invalid_state",Pb="state_mismatch",zd="state_not_found",Nb="nonce_mismatch",Im="auth_time_not_found",Lb="max_age_transpired",$E="multiple_matching_tokens",GE="multiple_matching_accounts",Fb="multiple_matching_appMetadata",Bb="request_cannot_be_made",Hb="cannot_remove_empty_scope",jb="cannot_append_scopeset",Mm="empty_input_scopeset",WE="device_code_polling_cancelled",KE="device_code_expired",YE="device_code_unknown_error",Rm="no_account_in_silent_request",Ub="invalid_cache_record",Om="invalid_cache_environment",Pm="no_account_found",Nm="no_crypto_object",Lm="unexpected_credential_type",QE="invalid_assertion",XE="invalid_client_credential",Lo="token_refresh_required",ZE="user_timeout_reached",Vb="token_claims_cnf_required_for_signedjwt",zb="authorization_code_missing_from_server_response",JE="binding_key_not_removed",qb="end_session_endpoint_not_supported",Fm="key_id_missing",eS="no_network_connectivity",tS="user_canceled",nS="missing_tenant_id_error",Gt="method_not_implemented",iS="nested_app_auth_bridge_disabled",Lt={[Am]:"The client info could not be parsed/decoded correctly",[Tb]:"The client info was empty",[Tm]:"Token cannot be parsed",[Ib]:"The token is null or empty",[No]:"Endpoints cannot be resolved",[Mb]:"Network request failed",[Rb]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ob]:"The hash parameters could not be deserialized",[Ha]:"State was not the expected format",[Pb]:"State mismatch error",[zd]:"State not found",[Nb]:"Nonce mismatch error",[Im]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Lb]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[$E]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[GE]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Fb]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Bb]:"Token request cannot be made without authorization code or refresh token.",[Hb]:"Cannot remove null or empty scope from ScopeSet",[jb]:"Cannot append ScopeSet",[Mm]:"Empty input ScopeSet cannot be processed",[WE]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[KE]:"Device code is expired.",[YE]:"Device code stopped polling for unknown reasons.",[Rm]:"Please pass an account object, silent flow is not supported without account information",[Ub]:"Cache record object was null or undefined.",[Om]:"Invalid environment when attempting to create cache entry",[Pm]:"No account found in cache for given key.",[Nm]:"No crypto object detected.",[Lm]:"Unexpected credential type.",[QE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[XE]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Lo]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ZE]:"User defined timeout for device code polling reached",[Vb]:"Cannot generate a POP jwt if the token_claims are not populated",[zb]:"Server response does not contain an authorization code to proceed",[JE]:"Could not remove the credential's binding key from storage.",[qb]:"The provided authority does not support logout",[Fm]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[eS]:"No network connectivity. Check your internet connection.",[tS]:"User cancelled the flow.",[nS]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Gt]:"This method has not been implemented",[iS]:"The nested app auth bridge is disabled"};class $b extends Hn{constructor(t,e){super(t,e?`${Lt[t]}: ${e}`:Lt[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,$b.prototype)}}function Pe(n,t){return new $b(n,t)}const Gb={createNewGuid:()=>{throw Pe(Gt)},base64Decode:()=>{throw Pe(Gt)},base64Encode:()=>{throw Pe(Gt)},base64UrlEncode:()=>{throw Pe(Gt)},encodeKid:()=>{throw Pe(Gt)},getPublicKeyThumbprint:()=>E(function*(){throw Pe(Gt)})(),removeTokenBindingKey:()=>E(function*(){throw Pe(Gt)})(),clearKeystore:()=>E(function*(){throw Pe(Gt)})(),signJwt:()=>E(function*(){throw Pe(Gt)})(),hashString:()=>E(function*(){throw Pe(Gt)})()},YH="@azure/msal-common",rS="14.16.1";function tl(n,t){const e=function Vae(n){if(!n)throw Pe(Ib);const e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!e||e.length<4)throw Pe(Tm);return e[2]}(n);try{const i=t(e);return JSON.parse(i)}catch{throw Pe(Tm)}}function QH(n,t){if(0===t||Date.now()-3e5>n+t)throw Pe(Lb)}function os(){return Math.round((new Date).getTime()/1e3)}function oS(n,t){const e=Number(n)||0;return os()+t>e}function qd(n){return[qae(n),$ae(n),Gae(n),Wae(n),Kae(n)].join("-").toLowerCase()}function Wb(n,t,e,i,r){return{credentialType:Nt.ID_TOKEN,homeAccountId:n,environment:t,clientId:i,secret:e,realm:r}}function Kb(n,t,e,i,r,o,s,a,c,l,d,u,h,m,g){const y={homeAccountId:n,credentialType:Nt.ACCESS_TOKEN,secret:e,cachedAt:os().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:i,realm:r,target:o,tokenType:d||Dn.BEARER};if(u&&(y.userAssertionHash=u),l&&(y.refreshOn=l.toString()),m&&(y.requestedClaims=m,y.requestedClaimsHash=g),y.tokenType?.toLowerCase()!==Dn.BEARER.toLowerCase())switch(y.credentialType=Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case Dn.POP:const v=tl(e,c);if(!v?.cnf?.kid)throw Pe(Vb);y.keyId=v.cnf.kid;break;case Dn.SSH:y.keyId=h}return y}function XH(n,t,e,i,r,o,s){const a={credentialType:Nt.REFRESH_TOKEN,homeAccountId:n,environment:t,clientId:i,secret:e};return o&&(a.userAssertionHash=o),r&&(a.familyId=r),s&&(a.expiresOn=s.toString()),a}function sS(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function ZH(n){return!!n&&sS(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===Nt.ACCESS_TOKEN||n.credentialType===Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function JH(n){return!!n&&sS(n)&&n.hasOwnProperty("realm")&&n.credentialType===Nt.ID_TOKEN}function ej(n){return!!n&&sS(n)&&n.credentialType===Nt.REFRESH_TOKEN}function qae(n){return[n.homeAccountId,n.environment].join("-").toLowerCase()}function $ae(n){return[n.credentialType,n.credentialType===Nt.REFRESH_TOKEN&&n.familyId||n.clientId,n.realm||""].join("-").toLowerCase()}function Gae(n){return(n.target||"").toLowerCase()}function Wae(n){return(n.requestedClaimsHash||"").toLowerCase()}function Kae(n){return n.tokenType&&n.tokenType.toLowerCase()!==Dn.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function tj(){return os()+86400}function Yb(n,t,e){n.authorization_endpoint=t.authorization_endpoint,n.token_endpoint=t.token_endpoint,n.end_session_endpoint=t.end_session_endpoint,n.issuer=t.issuer,n.endpointsFromNetwork=e,n.jwks_uri=t.jwks_uri}function aS(n,t,e){n.aliases=t.aliases,n.preferred_cache=t.preferred_cache,n.preferred_network=t.preferred_network,n.aliasesFromNetwork=e}function nj(n){return n.expiresAt<=os()}const Qb="redirect_uri_empty",cS="claims_request_parsing_error",Xb="authority_uri_insecure",nl="url_parse_error",Zb="empty_url_error",Jb="empty_input_scopes_error",ey="invalid_prompt_value",Bm="invalid_claims",ty="token_request_empty",ny="logout_request_empty",iy="invalid_code_challenge_method",Hm="pkce_params_missing",jm="invalid_cloud_discovery_metadata",ry="invalid_authority_metadata",oy="untrusted_authority",$d="missing_ssh_jwk",sy="missing_ssh_kid",lS="missing_nonce_authentication_header",dS="invalid_authentication_header",ay="cannot_set_OIDCOptions",cy="cannot_allow_native_broker",ly="authority_mismatch",Xn={[Qb]:"A redirect URI is required for all calls, and none has been set.",[cS]:"Could not parse the given claims request object.",[Xb]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[nl]:"URL could not be parsed into appropriate segments.",[Zb]:"URL was empty or null.",[Jb]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[ey]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Bm]:"Given claims parameter must be a stringified JSON object.",[ty]:"Token request was empty and not found in cache.",[ny]:"The logout request was null or undefined.",[iy]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Hm]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[jm]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[ry]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[oy]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[$d]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[sy]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[lS]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[dS]:"Invalid authentication header provided",[ay]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[cy]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[ly]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class uS extends Hn{constructor(t){super(t,Xn[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,uS.prototype)}}function Tn(n){return new uS(n)}class Fo{static isEmptyObj(t){if(t)try{const e=JSON.parse(t);return 0===Object.keys(e).length}catch{}return!0}static startsWith(t,e){return 0===t.indexOf(e)}static endsWith(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length}static queryStringToObject(t){const e={},i=t.split("&"),r=o=>decodeURIComponent(o.replace(/\+/g," "));return i.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(e[r(s)]=r(a))}}),e}static trimArrayEntries(t){return t.map(e=>e.trim())}static removeEmptyStringsFromArray(t){return t.filter(e=>!!e)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)}}class ui{constructor(t){const e=t?Fo.trimArrayEntries([...t]):[],i=e?Fo.removeEmptyStringsFromArray(e):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach(r=>this.scopes.add(r))}static fromString(t){const i=(t||De.EMPTY_STRING).split(" ");return new ui(i)}static createSearchScopes(t){const e=new ui(t);return e.containsOnlyOIDCScopes()?e.removeScope(De.OFFLINE_ACCESS_SCOPE):e.removeOIDCScopes(),e}validateInputScopes(t){if(!t||t.length<1)throw Tn(Jb)}containsScope(t){const e=this.printScopesLowerCase().split(" "),i=new ui(e);return!!t&&i.scopes.has(t.toLowerCase())}containsScopeSet(t){return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let t=0;return zH.forEach(e=>{this.containsScope(e)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(e=>this.appendScope(e))}catch{throw Pe(jb)}}removeScope(t){if(!t)throw Pe(Hb);this.scopes.delete(t.trim())}removeOIDCScopes(){zH.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw Pe(Mm);const e=new Set;return t.scopes.forEach(i=>e.add(i.toLowerCase())),this.scopes.forEach(i=>e.add(i.toLowerCase())),e}intersectingScopeSets(t){if(!t)throw Pe(Mm);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const e=this.unionScopeSets(t),i=t.getScopeCount(),r=this.getScopeCount();return e.size<r+i}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(e=>t.push(e)),t}printScopes(){return this.scopes?this.asArray().join(" "):De.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function dy(n,t){if(!n)throw Pe(Tb);try{const e=t(n);return JSON.parse(e)}catch{throw Pe(Am)}}function Gd(n){if(!n)throw Pe(Am);const t=n.split(".",2);return{uid:t[0],utid:t.length<2?De.EMPTY_STRING:t[1]}}function uy(n,t){return!!n&&!!t&&n===t.split(".")[1]}function hS(n,t,e,i){if(i){const{oid:r,sub:o,tid:s,name:a,tfp:c,acr:l}=i,d=s||c||l||"";return{tenantId:d,localAccountId:r||o||"",name:a,isHomeTenant:uy(d,n)}}return{tenantId:e,localAccountId:t,isHomeTenant:uy(e,n)}}function mS(n,t,e,i){let r=n;if(t){const{isHomeTenant:o,...s}=t;r={...n,...s}}if(e){const{isHomeTenant:o,...s}=hS(n.homeAccountId,n.localAccountId,n.tenantId,e);return r={...r,...s,idTokenClaims:e,idToken:i},r}return r}function ij(n){return n&&(n.tid||n.tfp||n.acr)||null}class Ci{generateAccountId(){return[this.homeAccountId,this.environment].join("-").toLowerCase()}generateAccountKey(){return Ci.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(t){const e=t.homeAccountId.split(".")[1];return[t.homeAccountId,t.environment||"",e||t.tenantId||""].join("-").toLowerCase()}static createAccount(t,e,i){const r=new Ci;let o;r.authorityType=1===e.authorityType?"ADFS":"AAD"===e.protocolMode?"MSSTS":"Generic",t.clientInfo&&i&&(o=dy(t.clientInfo,i)),r.clientInfo=t.clientInfo,r.homeAccountId=t.homeAccountId,r.nativeAccountId=t.nativeAccountId;const s=t.environment||e&&e.getPreferredCache();if(!s)throw Pe(Om);if(r.environment=s,r.realm=o?.utid||ij(t.idTokenClaims)||"",r.localAccountId=o?.uid||t.idTokenClaims?.oid||t.idTokenClaims?.sub||"",r.username=t.idTokenClaims?.preferred_username||t.idTokenClaims?.upn||(t.idTokenClaims?.emails?t.idTokenClaims.emails[0]:null)||"",r.name=t.idTokenClaims?.name||"",r.cloudGraphHostName=t.cloudGraphHostName,r.msGraphHost=t.msGraphHost,t.tenantProfiles)r.tenantProfiles=t.tenantProfiles;else{const l=hS(t.homeAccountId,r.localAccountId,r.realm,t.idTokenClaims);r.tenantProfiles=[l]}return r}static createFromAccountInfo(t,e,i){const r=new Ci;return r.authorityType=t.authorityType||"Generic",r.homeAccountId=t.homeAccountId,r.localAccountId=t.localAccountId,r.nativeAccountId=t.nativeAccountId,r.realm=t.tenantId,r.environment=t.environment,r.username=t.username,r.name=t.name,r.cloudGraphHostName=e,r.msGraphHost=i,r.tenantProfiles=Array.from(t.tenantProfiles?.values()||[]),r}static generateHomeAccountId(t,e,i,r,o){if(1!==e&&2!==e){if(t)try{const s=dy(t,r.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}i.warning("No client info in response")}return o?.sub||""}static isAccountEntity(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")}static accountInfoIsEqual(t,e,i){if(!t||!e)return!1;let r=!0;if(i){const o=t.idTokenClaims||{},s=e.idTokenClaims||{};r=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&r}}function rj(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function hy(n){if(!n||n.indexOf("=")<0)return null;try{const t=rj(n),e=Object.fromEntries(new URLSearchParams(t));if(e.code||e.error||e.error_description||e.state)return e}catch{throw Pe(Ob)}return null}class Xt{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw Tn(Zb);t.includes("#")||(this._urlString=Xt.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let e=t.toLowerCase();return Fo.endsWith(e,"?")?e=e.slice(0,-1):Fo.endsWith(e,"?/")&&(e=e.slice(0,-2)),Fo.endsWith(e,"/")||(e+="/"),e}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw Tn(nl)}if(!t.HostNameAndPort||!t.PathSegments)throw Tn(nl);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw Tn(Xb)}static appendQueryString(t,e){return e?t.indexOf("?")<0?`${t}?${e}`:`${t}&${e}`:t}static removeHashFromUrl(t){return Xt.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const e=this.getUrlComponents(),i=e.PathSegments;return t&&0!==i.length&&("common"===i[0]||"organizations"===i[0])&&(i[0]=t),Xt.constructAuthorityUriFromObject(e)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw Tn(nl);const i={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]};let r=i.AbsolutePath.split("/");return r=r.filter(o=>o&&o.length>0),i.PathSegments=r,i.QueryString&&i.QueryString.endsWith("/")&&(i.QueryString=i.QueryString.substring(0,i.QueryString.length-1)),i}static getDomainFromUrl(t){const e=RegExp("^([^:/?#]+://)?([^/?#]*)"),i=t.match(e);if(!i)throw Tn(nl);return i[2]}static getAbsoluteUrl(t,e){if(t[0]===De.FORWARD_SLASH){const r=new Xt(e).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Xt(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!hy(t)}}const sj={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},pS={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},aj=new Set;function cj(n,t,e,i){if(i?.trace(`getAliasesFromMetadata called with source: ${e}`),n&&t){const r=my(t,n);if(r)return i?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${e}, returning aliases`),r.aliases;i?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${e}`)}return null}function my(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(i.aliases.includes(t))return i}return null}pS.metadata.forEach(n=>{n.aliases.forEach(t=>{aj.add(t)})});const fS="cache_quota_exceeded",gS="cache_error_unknown",_S={[fS]:"Exceeded cache storage capacity.",[gS]:"Unexpected error occurred when using cache storage."};class Wd extends Error{constructor(t,e){const i=e||(_S[t]?_S[t]:_S[gS]);super(`${t}: ${i}`),Object.setPrototypeOf(this,Wd.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=i}}function lj(n){return n instanceof Error?"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name||n.message.includes("exceeded the quota")?new Wd(fS):new Wd(n.name,n.message):new Wd(gS)}class Kd{constructor(t,e,i,r){this.clientId=t,this.cryptoImpl=e,this.commonLogger=i.clone(YH,rS),this.staticAuthorityOptions=r}getAllAccounts(t,e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{},t),t,e)}getAccountInfoFilteredBy(t,e){const i=this.getAllAccounts(e,t);return i.length>1?i.sort(o=>o.idTokenClaims?-1:1)[0]:1===i.length?i[0]:null}getBaseAccountInfo(t,e){const i=this.getAccountsFilteredBy(t,e);return i.length>0?i[0].getAccountInfo():null}buildTenantProfiles(t,e,i){return t.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,e,i?.tenantId,i))}getTenantedAccountInfoByFilter(t,e,i,r,o){let a,s=null;if(o&&!this.tenantProfileMatchesFilter(i,o))return null;const c=this.getIdToken(t,r,e,i.tenantId);return c&&(a=tl(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,o))?null:(s=mS(t,i,a,c?.secret),s)}getTenantProfilesFromAccountEntity(t,e,i,r){const o=t.getAccountInfo();let s=o.tenantProfiles||new Map;const a=this.getTokenKeys();if(i){const l=s.get(i);if(!l)return[];s=new Map([[i,l]])}const c=[];return s.forEach(l=>{const d=this.getTenantedAccountInfoByFilter(o,a,l,e,r);d&&c.push(d)}),c}tenantProfileMatchesFilter(t,e){return!(e.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,e.localAccountId)||e.name&&t.name!==e.name||void 0!==e.isHomeTenant&&t.isHomeTenant!==e.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,e){return!(e&&(e.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,e.localAccountId)||e.loginHint&&!this.matchLoginHintFromTokenClaims(t,e.loginHint)||e.username&&!this.matchUsername(t.preferred_username,e.username)||e.name&&!this.matchName(t,e.name)||e.sid&&!this.matchSid(t,e.sid)))}saveCacheRecord(t,e,i){var r=this;return E(function*(){if(!t)throw Pe(Ub);try{t.account&&r.setAccount(t.account,e),t.idToken&&!1!==i?.idToken&&r.setIdTokenCredential(t.idToken,e),t.accessToken&&!1!==i?.accessToken&&(yield r.saveAccessToken(t.accessToken,e)),t.refreshToken&&!1!==i?.refreshToken&&r.setRefreshTokenCredential(t.refreshToken,e),t.appMetadata&&r.setAppMetadata(t.appMetadata,e)}catch(o){throw r.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Hn?o:lj(o)}})()}saveAccessToken(t,e){var i=this;return E(function*(){const r={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},o=i.getTokenKeys(),s=ui.fromString(t.target);o.accessToken.forEach(a=>{if(!i.accessTokenKeyMatchesFilter(a,r,!1))return;const c=i.getAccessTokenCredential(a,e);c&&i.credentialMatchesFilter(c,r)&&ui.fromString(c.target).intersectingScopeSets(s)&&i.removeAccessToken(a,e)}),i.setAccessTokenCredential(t,e)})()}getAccountsFilteredBy(t,e){const i=this.getAccountKeys(),r=[];return i.forEach(o=>{if(!this.isAccountKey(o,t.homeAccountId))return;const s=this.getAccount(o,e,this.commonLogger);if(!s||t.homeAccountId&&!this.matchHomeAccountId(s,t.homeAccountId)||t.username&&!this.matchUsername(s.username,t.username)||t.environment&&!this.matchEnvironment(s,t.environment)||t.realm&&!this.matchRealm(s,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(s,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(s,t.authorityType))return;const a={localAccountId:t?.localAccountId,name:t?.name},c=s.tenantProfiles?.filter(l=>this.tenantProfileMatchesFilter(l,a));c&&0===c.length||r.push(s)}),r}isAccountKey(t,e,i){return!(t.split("-").length<3||e&&!t.toLowerCase().includes(e.toLowerCase())||i&&!t.toLowerCase().includes(i.toLowerCase()))}isCredentialKey(t){if(t.split("-").length<6)return!1;const e=t.toLowerCase();if(-1===e.indexOf(Nt.ID_TOKEN.toLowerCase())&&-1===e.indexOf(Nt.ACCESS_TOKEN.toLowerCase())&&-1===e.indexOf(Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===e.indexOf(Nt.REFRESH_TOKEN.toLowerCase()))return!1;if(e.indexOf(Nt.REFRESH_TOKEN.toLowerCase())>-1){const r=`${Nt.REFRESH_TOKEN}-1-`;if(-1===e.indexOf(`${Nt.REFRESH_TOKEN}-${this.clientId}-`.toLowerCase())&&-1===e.indexOf(r.toLowerCase()))return!1}else if(-1===e.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(t,e){return!(e.clientId&&!this.matchClientId(t,e.clientId)||e.userAssertionHash&&!this.matchUserAssertionHash(t,e.userAssertionHash)||"string"==typeof e.homeAccountId&&!this.matchHomeAccountId(t,e.homeAccountId)||e.environment&&!this.matchEnvironment(t,e.environment)||e.realm&&!this.matchRealm(t,e.realm)||e.credentialType&&!this.matchCredentialType(t,e.credentialType)||e.familyId&&!this.matchFamilyId(t,e.familyId)||e.target&&!this.matchTarget(t,e.target)||(e.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==e.requestedClaimsHash||t.credentialType===Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(e.tokenType&&!this.matchTokenType(t,e.tokenType)||e.tokenType===Dn.SSH&&e.keyId&&!this.matchKeyId(t,e.keyId)))}getAppMetadataFilteredBy(t){const e=this.getKeys(),i={};return e.forEach(r=>{if(!this.isAppMetadata(r))return;const o=this.getAppMetadata(r);o&&(t.environment&&!this.matchEnvironment(o,t.environment)||t.clientId&&!this.matchClientId(o,t.clientId)||(i[r]=o))}),i}getAuthorityMetadataByAlias(t){const e=this.getAuthorityMetadataKeys();let i=null;return e.forEach(r=>{if(!this.isAuthorityMetadata(r)||-1===r.indexOf(this.clientId))return;const o=this.getAuthorityMetadata(r);o&&-1!==o.aliases.indexOf(t)&&(i=o)}),i}removeAllAccounts(t){var e=this;return E(function*(){const i=e.getAccountKeys(),r=[];i.forEach(o=>{r.push(e.removeAccount(o,t))}),yield Promise.all(r)})()}removeAccount(t,e){var i=this;return E(function*(){const r=i.getAccount(t,e,i.commonLogger);r&&(yield i.removeAccountContext(r,e),i.removeItem(t,e))})()}removeAccountContext(t,e){var i=this;return E(function*(){const r=i.getTokenKeys(),o=t.generateAccountId();r.idToken.forEach(s=>{0===s.indexOf(o)&&i.removeIdToken(s,e)}),r.accessToken.forEach(s=>{0===s.indexOf(o)&&i.removeAccessToken(s,e)}),r.refreshToken.forEach(s=>{0===s.indexOf(o)&&i.removeRefreshToken(s,e)}),i.getKeys().forEach(s=>{s.includes(o)&&i.removeItem(s,e)})})()}updateOutdatedCachedAccount(t,e,i,r){if(e&&e.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const o=this.getAccountKeys().filter(d=>d.startsWith(e.homeAccountId)),s=[];o.forEach(d=>{const u=this.getCachedAccountEntity(d,i);u&&s.push(u)});const a=s.find(d=>uy(d.realm,d.homeAccountId))||s[0];a.tenantProfiles=s.map(d=>({tenantId:d.realm,localAccountId:d.localAccountId,name:d.name,isHomeTenant:uy(d.realm,d.homeAccountId)}));const c=Kd.toObject(new Ci,{...a}),l=c.generateAccountKey();return o.forEach(d=>{d!==l&&this.removeOutdatedAccount(t,i)}),this.setAccount(c,i),r?.verbose("Updated an outdated account entity in the cache"),c}return e}removeAccessToken(t,e){const i=this.getAccessTokenCredential(t,e);if(this.removeItem(t,e),!i||i.credentialType.toLowerCase()!==Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||i.tokenType!==Dn.POP)return;const r=i.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{this.commonLogger.error("Binding key could not be removed")})}removeAppMetadata(t){return this.getKeys().forEach(i=>{this.isAppMetadata(i)&&this.removeItem(i,t)}),!0}readAccountFromCache(t,e){const i=Ci.generateAccountCacheKey(t);return this.getAccount(i,e,this.commonLogger)}getIdToken(t,e,i,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const a=this.getIdTokensByFilter({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Nt.ID_TOKEN,clientId:this.clientId,realm:r},e,i),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){const d=new Map;a.forEach((h,m)=>{h.realm===t.tenantId&&d.set(m,h)});const u=d.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===u)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;l=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((d,u)=>{this.removeIdToken(u,e)}),o&&e&&o.addFields({multiMatchedID:a.size},e),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(t,e,i){const r=i&&i.idToken||this.getTokenKeys().idToken,o=new Map;return r.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...t}))return;const a=this.getIdTokenCredential(s,e);a&&this.credentialMatchesFilter(a,t)&&o.set(s,a)}),o}idTokenKeyMatchesFilter(t,e){const i=t.toLowerCase();return!(e.clientId&&-1===i.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===i.indexOf(e.homeAccountId.toLowerCase()))}removeIdToken(t,e){this.removeItem(t,e)}removeRefreshToken(t,e){this.removeItem(t,e)}getAccessToken(t,e,i,r,o){this.commonLogger.trace("CacheManager - getAccessToken called");const s=ui.createSearchScopes(e.scopes),a=e.authenticationScheme||Dn.BEARER,c=a&&a.toLowerCase()!==Dn.BEARER.toLowerCase()?Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Nt.ACCESS_TOKEN,l={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:c,clientId:this.clientId,realm:r||t.tenantId,target:s,tokenType:a,keyId:e.sshKid,requestedClaimsHash:e.requestedClaimsHash},d=i&&i.accessToken||this.getTokenKeys().accessToken,u=[];d.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,l,!0)){const g=this.getAccessTokenCredential(m,e.correlationId);g&&this.credentialMatchesFilter(g,l)&&u.push(g)}});const h=u.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach(m=>{this.removeAccessToken(qd(m),e.correlationId)}),o&&e.correlationId&&o.addFields({multiMatchedAT:u.length},e.correlationId),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(t,e,i){const r=t.toLowerCase();if(e.clientId&&-1===r.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===r.indexOf(e.homeAccountId.toLowerCase())||e.realm&&-1===r.indexOf(e.realm.toLowerCase())||e.requestedClaimsHash&&-1===r.indexOf(e.requestedClaimsHash.toLowerCase()))return!1;if(e.target){const o=e.target.asArray();for(let s=0;s<o.length;s++){if(i&&!r.includes(o[s].toLowerCase()))return!1;if(!i&&r.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,e){const i=this.getTokenKeys(),r=[];return i.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,t,!0))return;const s=this.getAccessTokenCredential(o,e);s&&this.credentialMatchesFilter(s,t)&&r.push(s)}),r}getRefreshToken(t,e,i,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Nt.REFRESH_TOKEN,clientId:this.clientId,familyId:e?"1":void 0},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(u=>{if(this.refreshTokenKeyMatchesFilter(u,a)){const h=this.getRefreshTokenCredential(u,i);h&&this.credentialMatchesFilter(h,a)&&l.push(h)}});const d=l.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&o&&i&&o.addFields({multiMatchedRT:d},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(t,e){const i=t.toLowerCase();return!(e.familyId&&-1===i.indexOf(e.familyId.toLowerCase())||!e.familyId&&e.clientId&&-1===i.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===i.indexOf(e.homeAccountId.toLowerCase()))}readAppMetadataFromCache(t){const i=this.getAppMetadataFilteredBy({environment:t,clientId:this.clientId}),r=Object.keys(i).map(s=>i[s]),o=r.length;if(o<1)return null;if(o>1)throw Pe(Fb);return r[0]}isAppMetadataFOCI(t){const e=this.readAppMetadataFromCache(t);return!(!e||"1"!==e.familyId)}matchHomeAccountId(t,e){return"string"==typeof t.homeAccountId&&e===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,e){return e===(t.oid||t.sub)}matchLocalAccountIdFromTenantProfile(t,e){return t.localAccountId===e}matchName(t,e){return e.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,e){return!(!t||"string"!=typeof t||e?.toLowerCase()!==t.toLowerCase())}matchUserAssertionHash(t,e){return!(!t.userAssertionHash||e!==t.userAssertionHash)}matchEnvironment(t,e){if(this.staticAuthorityOptions){const r=function ece(n,t){let e;const i=n.canonicalAuthority;if(i){const r=new Xt(i).getUrlComponents().HostNameAndPort;e=cj(r,n.cloudDiscoveryMetadata?.metadata,"config",t)||cj(r,pS.metadata,"hardcoded_values",t)||n.knownAuthorities}return e||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(e)&&r.includes(t.environment))return!0}const i=this.getAuthorityMetadataByAlias(e);return!!(i&&i.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,e){return!(!t.clientId||e!==t.clientId)}matchFamilyId(t,e){return!(!t.familyId||e!==t.familyId)}matchRealm(t,e){return t.realm?.toLowerCase()===e.toLowerCase()}matchNativeAccountId(t,e){return!(!t.nativeAccountId||e!==t.nativeAccountId)}matchLoginHintFromTokenClaims(t,e){return t.login_hint===e||t.preferred_username===e||t.upn===e}matchSid(t,e){return t.sid===e}matchAuthorityType(t,e){return!(!t.authorityType||e.toLowerCase()!==t.authorityType.toLowerCase())}matchTarget(t,e){return!(t.credentialType!==Nt.ACCESS_TOKEN&&t.credentialType!==Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)&&ui.fromString(t.target).containsScopeSet(e)}matchTokenType(t,e){return!(!t.tokenType||t.tokenType!==e)}matchKeyId(t,e){return!(!t.keyId||t.keyId!==e)}isAppMetadata(t){return-1!==t.indexOf(UE)}isAuthorityMetadata(t){return-1!==t.indexOf("authority-metadata")}generateAuthorityMetadataCacheKey(t){return`authority-metadata-${this.clientId}-${t}`}static toObject(t,e){for(const i in e)t[i]=e[i];return t}}class nce extends Kd{setAccount(){throw Pe(Gt)}getAccount(){throw Pe(Gt)}getCachedAccountEntity(){throw Pe(Gt)}setIdTokenCredential(){throw Pe(Gt)}getIdTokenCredential(){throw Pe(Gt)}setAccessTokenCredential(){throw Pe(Gt)}getAccessTokenCredential(){throw Pe(Gt)}setRefreshTokenCredential(){throw Pe(Gt)}getRefreshTokenCredential(){throw Pe(Gt)}setAppMetadata(){throw Pe(Gt)}getAppMetadata(){throw Pe(Gt)}setServerTelemetry(){throw Pe(Gt)}getServerTelemetry(){throw Pe(Gt)}setAuthorityMetadata(){throw Pe(Gt)}getAuthorityMetadata(){throw Pe(Gt)}getAuthorityMetadataKeys(){throw Pe(Gt)}setThrottlingCache(){throw Pe(Gt)}getThrottlingCache(){throw Pe(Gt)}removeItem(){throw Pe(Gt)}getKeys(){throw Pe(Gt)}getAccountKeys(){throw Pe(Gt)}getTokenKeys(){throw Pe(Gt)}updateCredentialCacheKey(){throw Pe(Gt)}removeOutdatedAccount(){throw Pe(Gt)}}const dj={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},ice={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qn.Info,correlationId:De.EMPTY_STRING},rce={claimsBasedCachingEnabled:!1},oce={sendGetRequestAsync:()=>E(function*(){throw Pe(Gt)})(),sendPostRequestAsync:()=>E(function*(){throw Pe(Gt)})()},sce={sku:De.SKU,version:rS,cpu:De.EMPTY_STRING,os:De.EMPTY_STRING},ace={clientSecret:De.EMPTY_STRING,clientAssertion:void 0},cce={azureCloudInstance:"none",tenant:`${De.DEFAULT_COMMON_TENANT}`},lce={application:{appName:"",appVersion:""}};function uce(n){return{clientCapabilities:[],azureCloudOptions:cce,skipAuthorityMetadataCache:!1,instanceAware:!1,...n}}function bS(n){return"OIDC"===n.authOptions.authority.options.protocolMode}const hce={sendGetRequestAsync:()=>Promise.reject(Pe(Gt)),sendPostRequestAsync:()=>Promise.reject(Pe(Gt))};class uj{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class pce{generateId(){return"callback-id"}startMeasurement(t,e){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:1,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:e||""},measurement:new uj}}startPerformanceMeasurement(){return new uj}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Yd_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836";var ct=function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n}(ct||{});const mj={scopes:Ud},yS="msal.db",_ce=`${yS}.keys`,bce=[0,5,4];class fy{navigateInternal(t,e){return fy.defaultNavigateWindow(t,e)}navigateExternal(t,e){return fy.defaultNavigateWindow(t,e)}static defaultNavigateWindow(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(i=>{setTimeout(()=>{i(!0)},e.timeout)})}}class gy extends Hn{constructor(t,e,i){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,gy.prototype),this.name="NetworkError",this.error=t,this.httpStatus=e,this.responseHeaders=i}}function fj(n,t,e){return new gy(n,t,e)}const Um="pkce_not_created",Vm="crypto_nonexistent",Qd="empty_navigate_uri",_y="hash_empty_error",zm="no_state_in_hash",by="hash_does_not_contain_known_properties",yy="unable_to_parse_state",vy="state_interaction_type_mismatch",Cy="interaction_in_progress",wy="popup_window_error",Dy="empty_window_error",$s="user_cancelled",vS="monitor_popup_timeout",xy="monitor_window_timeout",Ey="redirect_in_iframe",Sy="block_iframe_reload",ky="block_nested_popups",CS="iframe_closed_prematurely",Xd="silent_logout_unsupported",Ay="no_account_error",wS="silent_prompt_value_error",Ty="no_token_request_cache_error",Iy="unable_to_parse_token_request_cache_error",qm="no_cached_authority_error",DS="auth_request_not_set_error",xS="invalid_cache_type",Zd="non_browser_environment",ja="database_not_open",Jd="no_network_connectivity",My="post_request_failed",Ry="get_request_failed",$m="failed_to_parse_response",Oy="unable_to_load_token",Gm="crypto_key_not_found",Py="auth_code_required",Ny="auth_code_or_nativeAccountId_required",Ly="spa_code_and_nativeAccountId_present",Wm="database_unavailable",Fy="unable_to_acquire_token_from_native_platform",By="native_handshake_timeout",Hy="native_extension_not_installed",rl="native_connection_not_established",jy="uninitialized_public_client_application",Uy="native_prompt_not_supported",Vy="invalid_base64_string",zy="invalid_pop_token_request",gj="failed_to_build_headers",_j="failed_to_parse_headers",Gs="For more visit: aka.ms/msaljs/browser-errors",At={[Um]:"The PKCE code challenge and verifier could not be generated.",[Vm]:"The crypto object or function is not available.",[Qd]:"Navigation URI is empty. Please check stack trace for more info.",[_y]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Gs}`,[zm]:"Hash does not contain state. Please verify that the request originated from msal.",[by]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Gs}`,[yy]:"Unable to parse state. Please verify that the request originated from msal.",[vy]:"Hash contains state but the interaction type does not match the caller.",[Cy]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Gs}`,[wy]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Dy]:"window.open returned null or undefined window object.",[$s]:"User cancelled the flow.",[vS]:`Token acquisition in popup failed due to timeout.  ${Gs}`,[xy]:`Token acquisition in iframe failed due to timeout.  ${Gs}`,[Ey]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Sy]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Gs}`,[ky]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[CS]:"The iframe being monitored was closed prematurely.",[Xd]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Ay]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[wS]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ty]:"No token request found in cache.",[Iy]:"The cached token request could not be parsed.",[qm]:"No cached authority found.",[DS]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[xS]:"Invalid cache type",[Zd]:"Login and token requests are not supported in non-browser environments.",[ja]:"Database is not open!",[Jd]:"No network connectivity. Check your internet connection.",[My]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ry]:"Network request failed. Please check the network trace to determine root cause.",[$m]:"Failed to parse network response. Check network trace.",[Oy]:"Error loading token to cache.",[Gm]:"Cryptographic Key or Keypair not found in browser storage.",[Py]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Ny]:"An authorization code or nativeAccountId must be provided to this flow.",[Ly]:"Request cannot contain both spa code and native account id.",[Wm]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Fy]:`Unable to acquire token from native platform.  ${Gs}`,[By]:"Timed out while attempting to establish connection to browser extension",[Hy]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[rl]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Gs}`,[jy]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Gs}`,[Uy]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Vy]:"Invalid base64 encoded string.",[zy]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[gj]:"Failed to build request headers object.",[_j]:"Failed to parse response headers"};class Km extends Hn{constructor(t,e){super(t,At[t],e),Object.setPrototypeOf(this,Km.prototype),this.name="BrowserAuthError"}}function ot(n,t){return new Km(n,t)}class Cce{sendGetRequestAsync(t,e){return E(function*(){let i,r={},o=0;const s=bj(e);try{i=yield fetch(t,{method:"GET",headers:s})}catch{throw ot(window.navigator.onLine?Ry:Jd)}r=yj(i.headers);try{return o=i.status,{headers:r,body:yield i.json(),status:o}}catch{throw fj(ot($m),o,r)}})()}sendPostRequestAsync(t,e){return E(function*(){const i=e&&e.body||"",r=bj(e);let o,s=0,a={};try{o=yield fetch(t,{method:"POST",headers:r,body:i})}catch{throw ot(window.navigator.onLine?My:Jd)}a=yj(o.headers);try{return s=o.status,{headers:a,body:yield o.json(),status:s}}catch{throw fj(ot($m),s,a)}})()}}function bj(n){try{const t=new Headers;return n&&n.headers?(Object.entries(n.headers).forEach(([i,r])=>{t.append(i,r)}),t):t}catch{throw ot(gj)}}function yj(n){try{const t={};return n.forEach((e,i)=>{t[i]=e}),t}catch{throw ot(_j)}}function qy(n){return encodeURIComponent(ES(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function $y(n){return vj(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ES(n){return vj((new TextEncoder).encode(n))}function vj(n){const t=Array.from(n,e=>String.fromCodePoint(e)).join("");return btoa(t)}const Cj="SHA-256",xce=new Uint8Array([1,0,1]),wj="0123456789abcdef",Dj=new Uint32Array(1),SS={name:"RSASSA-PKCS1-v1_5",hash:Cj,modulusLength:2048,publicExponent:xce};function xj(n,t,e){return kS.apply(this,arguments)}function kS(){return kS=E(function*(n,t,e){t?.addQueueMeasurement("sha256Digest",e);const r=(new TextEncoder).encode(n);return window.crypto.subtle.digest(Cj,r)}),kS.apply(this,arguments)}function kce(n){return window.crypto.getRandomValues(n)}function AS(){return window.crypto.getRandomValues(Dj),Dj[0]}function ss(){const n=Date.now(),t=1024*AS()+(1023&AS()),e=new Uint8Array(16),i=Math.trunc(t/2**30),r=t&2**30-1,o=AS();e[0]=n/2**40,e[1]=n/2**32,e[2]=n/2**24,e[3]=n/65536,e[4]=n/256,e[5]=n,e[6]=112|i>>>8,e[7]=i,e[8]=128|r>>>24,e[9]=r>>>16,e[10]=r>>>8,e[11]=r,e[12]=o>>>24,e[13]=o>>>16,e[14]=o>>>8,e[15]=o;let s="";for(let a=0;a<e.length;a++)s+=wj.charAt(e[a]>>>4),s+=wj.charAt(15&e[a]),(3===a||5===a||7===a||9===a)&&(s+="-");return s}function TS(){return TS=E(function*(n,t){return window.crypto.subtle.generateKey(SS,n,t)}),TS.apply(this,arguments)}function IS(n){return MS.apply(this,arguments)}function MS(){return MS=E(function*(n){return window.crypto.subtle.exportKey("jwk",n)}),MS.apply(this,arguments)}function RS(){return RS=E(function*(n,t,e){return window.crypto.subtle.importKey("jwk",n,SS,t,e)}),RS.apply(this,arguments)}function OS(){return OS=E(function*(n,t){return window.crypto.subtle.sign(SS,n,t)}),OS.apply(this,arguments)}function Ej(n){return PS.apply(this,arguments)}function PS(){return PS=E(function*(n){const t=yield xj(n);return $y(new Uint8Array(t))}),PS.apply(this,arguments)}const Ym="storage_not_supported",NS="stubbed_public_client_application_called",Gy="in_mem_redirect_unavailable",Wy={[Ym]:"Given storage configuration option was not supported.",[NS]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Gy]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Ky extends Hn{constructor(t,e){super(t,e),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Ky.prototype)}}function LS(n){return new Ky(n,Wy[n])}function Yy(){return window.parent!==window}function Ws(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Sj(){if(typeof window>"u")throw ot(Zd)}function kj(n){if(!n)throw ot(jy)}function FS(n){Sj(),function Nce(){if(Xt.hashContainsKnownProperties(window.location.hash)&&Yy())throw ot(Sy)}(),function Fce(){if(function Oce(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")}())throw ot(ky)}(),kj(n)}function Aj(n,t){if(FS(n),function Lce(n){if(Yy()&&!n)throw ot(Ey)}(t.system.allowRedirectInIframe),"memoryStorage"===t.cache.cacheLocation&&!t.cache.storeAuthStateInCookie)throw LS(Gy)}function Tj(n){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(n).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}const eu="3.30.0";class HS{static loggerCallback(t,e){switch(t){case Qn.Error:return void console.error(e);case Qn.Info:return void console.info(e);case Qn.Verbose:return void console.debug(e);case Qn.Warning:return void console.warn(e);default:return void console.log(e)}}constructor(t){let e;this.browserEnvironment=typeof window<"u",this.config=function Vce({auth:n,cache:t,system:e,telemetry:i},r){const o={clientId:De.EMPTY_STRING,authority:`${De.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:De.EMPTY_STRING,authorityMetadata:De.EMPTY_STRING,redirectUri:typeof window<"u"?Ws():"",postLogoutRedirectUri:De.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:"AAD",OIDCOptions:{serverResponseType:xm.FRAGMENT,defaultScopes:[De.OPENID_SCOPE,De.PROFILE_SCOPE,De.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:"none",tenant:De.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:"sessionStorage",temporaryCacheLocation:"sessionStorage",storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!t||"localStorage"!==t.cacheLocation),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Qn.Info,piiLoggingEnabled:!1},l={...{...dj,loggerOptions:a,networkClient:r?new Cce:hce,navigationClient:new fy,loadFrameTimeout:0,windowHashTimeout:e?.loadFrameTimeout||6e4,iframeHashTimeout:e?.loadFrameTimeout||1e4,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:e?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:30},...e,loggerOptions:e?.loggerOptions||a},d={application:{appName:De.EMPTY_STRING,appVersion:De.EMPTY_STRING},client:new pce};if("OIDC"!==n?.protocolMode&&n?.OIDCOptions&&new Ba(l.loggerOptions).warning(JSON.stringify(Tn(ay))),n?.protocolMode&&"AAD"!==n.protocolMode&&l?.allowNativeBroker)throw Tn(cy);return{auth:{...o,...n,OIDCOptions:{...o.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...t},system:l,telemetry:{...d,...i}}}(t,this.browserEnvironment);try{e=window.sessionStorage}catch{}const i=e?.getItem("msal.browser.log.level"),r=e?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,s={...this.config.system.loggerOptions},a=i&&Object.keys(Qn).includes(i)?Qn[i]:void 0;a&&(s.loggerCallback=HS.loggerCallback,s.logLevel=a),void 0!==o&&(s.piiLoggingEnabled=o),this.logger=new Ba(s,"@azure/msal-browser",eu),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}let Ij=(()=>{class n extends HS{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}initialize(){var e=this;return E(function*(){return e.available=typeof window<"u",e.available})()}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();const Mj="missing_kid_error",Rj="missing_alg_error",qce={[Mj]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Rj]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class jS extends Hn{constructor(t,e){super(t,e),this.name="JoseHeaderError",Object.setPrototypeOf(this,jS.prototype)}}function Oj(n){return new jS(n,qce[n])}class US{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw Oj(Mj);if(!t.alg)throw Oj(Rj);const e=new US({typ:t.typ||"pop",kid:t.kid,alg:t.alg});return JSON.stringify(e)}}function as(n){return(new TextDecoder).decode(function $ce(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ot(Vy)}const e=atob(t);return Uint8Array.from(e,i=>i.codePointAt(0)||0)}(n))}class Gce{constructor(){this.dbName=yS,this.version=1,this.tableName=_ce,this.dbOpen=!1}open(){var t=this;return E(function*(){return new Promise((e,i)=>{const r=window.indexedDB.open(t.dbName,t.version);r.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(t.tableName)}),r.addEventListener("success",o=>{t.db=o.target.result,t.dbOpen=!0,e()}),r.addEventListener("error",()=>i(ot(Wm)))})})()}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}validateDbIsOpen(){var t=this;return E(function*(){if(!t.dbOpen)return t.open()})()}getItem(t){var e=this;return E(function*(){return yield e.validateDbIsOpen(),new Promise((i,r)=>{if(!e.db)return r(ot(ja));const a=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);a.addEventListener("success",c=>{const l=c;e.closeConnection(),i(l.target.result)}),a.addEventListener("error",c=>{e.closeConnection(),r(c)})})})()}setItem(t,e){var i=this;return E(function*(){return yield i.validateDbIsOpen(),new Promise((r,o)=>{if(!i.db)return o(ot(ja));const c=i.db.transaction([i.tableName],"readwrite").objectStore(i.tableName).put(e,t);c.addEventListener("success",()=>{i.closeConnection(),r()}),c.addEventListener("error",l=>{i.closeConnection(),o(l)})})})()}removeItem(t){var e=this;return E(function*(){return yield e.validateDbIsOpen(),new Promise((i,r)=>{if(!e.db)return r(ot(ja));const a=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);a.addEventListener("success",()=>{e.closeConnection(),i()}),a.addEventListener("error",c=>{e.closeConnection(),r(c)})})})()}getKeys(){var t=this;return E(function*(){return yield t.validateDbIsOpen(),new Promise((e,i)=>{if(!t.db)return i(ot(ja));const s=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();s.addEventListener("success",a=>{const c=a;t.closeConnection(),e(c.target.result)}),s.addEventListener("error",a=>{t.closeConnection(),i(a)})})})()}containsKey(t){var e=this;return E(function*(){return yield e.validateDbIsOpen(),new Promise((i,r)=>{if(!e.db)return r(ot(ja));const a=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);a.addEventListener("success",c=>{const l=c;e.closeConnection(),i(1===l.target.result)}),a.addEventListener("error",c=>{e.closeConnection(),r(c)})})})()}deleteDatabase(){var t=this;return E(function*(){return t.db&&t.dbOpen&&t.closeConnection(),new Promise((e,i)=>{const r=window.indexedDB.deleteDatabase(yS),o=setTimeout(()=>i(!1),200);r.addEventListener("success",()=>(clearTimeout(o),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(o),e(!0))),r.addEventListener("error",()=>(clearTimeout(o),i(!1)))})})()}}class VS{constructor(){this.cache=new Map}getItem(t){return this.cache.get(t)||null}setItem(t,e){this.cache.set(t,e)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((e,i)=>{t.push(i)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}}class Wce{constructor(t){this.inMemoryCache=new VS,this.indexedDBCache=new Gce,this.logger=t}handleDatabaseAccessError(t){if(!(t instanceof Km&&t.errorCode===Wm))throw t;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(t){var e=this;return E(function*(){const i=e.inMemoryCache.getItem(t);if(!i)try{return e.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield e.indexedDBCache.getItem(t)}catch(r){e.handleDatabaseAccessError(r)}return i})()}setItem(t,e){var i=this;return E(function*(){i.inMemoryCache.setItem(t,e);try{yield i.indexedDBCache.setItem(t,e)}catch(r){i.handleDatabaseAccessError(r)}})()}removeItem(t){var e=this;return E(function*(){e.inMemoryCache.removeItem(t);try{yield e.indexedDBCache.removeItem(t)}catch(i){e.handleDatabaseAccessError(i)}})()}getKeys(){var t=this;return E(function*(){const e=t.inMemoryCache.getKeys();if(0===e.length)try{return t.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield t.indexedDBCache.getKeys()}catch(i){t.handleDatabaseAccessError(i)}return e})()}containsKey(t){var e=this;return E(function*(){const i=e.inMemoryCache.containsKey(t);if(!i)try{return e.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield e.indexedDBCache.containsKey(t)}catch(r){e.handleDatabaseAccessError(r)}return i})()}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){var t=this;return E(function*(){try{t.logger.verbose("Deleting persistent keystore");const e=yield t.indexedDBCache.deleteDatabase();return e&&t.logger.verbose("Persistent keystore deleted"),e}catch(e){return t.handleDatabaseAccessError(e),!1}})()}}let Kce=(()=>{class n{constructor(e,i,r){this.logger=e,function Sce(n){if(!window)throw ot(Zd);if(!window.crypto)throw ot(Vm);if(!n&&!window.crypto.subtle)throw ot(Vm,"crypto_subtle_undefined")}(r??!1),this.cache=new Wce(this.logger),this.performanceClient=i}createNewGuid(){return ss()}base64Encode(e){return ES(e)}base64Decode(e){return as(e)}base64UrlEncode(e){return qy(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}getPublicKeyThumbprint(e){var i=this;return E(function*(){const r=i.performanceClient?.startMeasurement("cryptoOptsGetPublicKeyThumbprint",e.correlationId),o=yield function Ace(n,t){return TS.apply(this,arguments)}(n.EXTRACTABLE,n.POP_KEY_USAGES),s=yield IS(o.publicKey),c=Pj({e:s.e,kty:s.kty,n:s.n}),l=yield i.hashString(c),d=yield IS(o.privateKey),u=yield function Tce(n,t,e){return RS.apply(this,arguments)}(d,!1,["sign"]);return yield i.cache.setItem(l,{privateKey:u,publicKey:o.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),r&&r.end({success:!0}),l})()}removeTokenBindingKey(e){var i=this;return E(function*(){return yield i.cache.removeItem(e),!(yield i.cache.containsKey(e))})()}clearKeystore(){var e=this;return E(function*(){e.cache.clearInMemory();try{return yield e.cache.clearPersistent(),!0}catch(i){return i instanceof Error?e.logger.error(`Clearing keystore failed with error: ${i.message}`):e.logger.error("Clearing keystore failed with unknown error"),!1}})()}signJwt(e,i,r,o){var s=this;return E(function*(){const a=s.performanceClient?.startMeasurement("cryptoOptsSignJwt",o),c=yield s.cache.getItem(i);if(!c)throw ot(Gm);const l=yield IS(c.publicKey),d=Pj(l),u=qy(JSON.stringify({kid:i})),m=qy(US.getShrHeaderString({...r?.header,alg:l.alg,kid:u}));e.cnf={jwk:JSON.parse(d)};const y=`${m}.${qy(JSON.stringify(e))}`,F=(new TextEncoder).encode(y),q=yield function Ice(n,t){return OS.apply(this,arguments)}(c.privateKey,F),He=`${y}.${$y(new Uint8Array(q))}`;return a&&a.end({success:!0}),He})()}hashString(e){return E(function*(){return Ej(e)})()}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function Pj(n){return JSON.stringify(n,Object.keys(n).sort())}const ol=(n,t,e,i,r)=>(...o)=>{e.trace(`Executing function ${t}`);const s=i?.startMeasurement(t,r);if(r){const a=t+"CallCount";i?.incrementFields({[a]:1},r)}try{const a=n(...o);return s?.end({success:!0}),e.trace(`Returning result from ${t}`),a}catch(a){e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(a))}catch{e.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},je=(n,t,e,i,r)=>(...o)=>{e.trace(`Executing function ${t}`);const s=i?.startMeasurement(t,r);if(r){const a=t+"CallCount";i?.incrementFields({[a]:1},r)}return i?.setPreQueueTime(t,r),n(...o).then(a=>(e.trace(`Returning result from ${t}`),s?.end({success:!0}),a)).catch(a=>{e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(a))}catch{e.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};let Zce=(()=>{class n{constructor(e,i,r,o){this.networkInterface=e,this.logger=i,this.performanceClient=r,this.correlationId=o}detectRegion(e,i){var r=this;return E(function*(){r.performanceClient?.addQueueMeasurement("regionDiscoveryDetectRegion",r.correlationId);let o=e;if(o)i.region_source="3";else{const s=n.IMDS_OPTIONS;try{const a=yield je(r.getRegionFromIMDS.bind(r),"regionDiscoveryGetRegionFromIMDS",r.logger,r.performanceClient,r.correlationId)(De.IMDS_VERSION,s);if(200===a.status&&(o=a.body,i.region_source="4"),400===a.status){const c=yield je(r.getCurrentVersion.bind(r),"regionDiscoveryGetCurrentVersion",r.logger,r.performanceClient,r.correlationId)(s);if(!c)return i.region_source="1",null;const l=yield je(r.getRegionFromIMDS.bind(r),"regionDiscoveryGetRegionFromIMDS",r.logger,r.performanceClient,r.correlationId)(c,s);200===l.status&&(o=l.body,i.region_source="4")}}catch{return i.region_source="1",null}}return o||(i.region_source="1"),o||null})()}getRegionFromIMDS(e,i){var r=this;return E(function*(){return r.performanceClient?.addQueueMeasurement("regionDiscoveryGetRegionFromIMDS",r.correlationId),r.networkInterface.sendGetRequestAsync(`${De.IMDS_ENDPOINT}?api-version=${e}&format=text`,i,De.IMDS_TIMEOUT)})()}getCurrentVersion(e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("regionDiscoveryGetCurrentVersion",i.correlationId);try{const r=yield i.networkInterface.sendGetRequestAsync(`${De.IMDS_ENDPOINT}?format=json`,e);return 400===r.status&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}})()}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();class tr{constructor(t,e,i,r,o,s,a,c){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=i,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new Zce(e,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(De.CIAM_AUTH_URL))return 3;const e=t.PathSegments;if(e.length)switch(e[0].toLowerCase()){case De.ADFS:return 1;case De.DSTS:return 2}return 0}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Xt(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Pe(No)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Pe(No)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Pe(No)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Pe(qb);return this.replacePath(this.metadata.end_session_endpoint)}throw Pe(No)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Pe(No)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Pe(No)}canReplaceTenant(t){return 1===t.PathSegments.length&&!tr.reservedTenantDomains.has(t.PathSegments[0])&&0===this.getAuthorityType(t)&&"AAD"===this.protocolMode}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let e=t;const r=new Xt(this.metadata.canonical_authority).getUrlComponents(),o=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(0===c&&this.canReplaceTenant(r)){const d=new Xt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==d&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${d}`),l=d)}a!==l&&(e=e.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(e)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||1===this.authorityType||"AAD"!==this.protocolMode&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var t=this;return E(function*(){t.performanceClient?.addQueueMeasurement("authorityResolveEndpointsAsync",t.correlationId);const e=t.getCurrentMetadataEntity(),i=yield je(t.updateCloudDiscoveryMetadata.bind(t),"authorityUpdateCloudDiscoveryMetadata",t.logger,t.performanceClient,t.correlationId)(e);t.canonicalAuthority=t.canonicalAuthority.replace(t.hostnameAndPort,e.preferred_network);const r=yield je(t.updateEndpointMetadata.bind(t),"authorityUpdateEndpointMetadata",t.logger,t.performanceClient,t.correlationId)(e);t.updateCachedMetadata(e,i,{source:r}),t.performanceClient?.addFields({cloudDiscoverySource:i,authorityEndpointSource:r},t.correlationId)})()}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:tj(),jwks_uri:""}),t}updateCachedMetadata(t,e,i){"cache"!==e&&"cache"!==i?.source&&(t.expiresAt=tj(),t.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(r,t),this.metadata=t}updateEndpointMetadata(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("authorityUpdateEndpointMetadata",e.correlationId);const i=e.updateEndpointMetadataFromLocalSources(t);if(i){if("hardcoded_values"===i.source&&e.authorityOptions.azureRegionConfiguration?.azureRegion&&i.metadata){const o=yield je(e.updateMetadataWithRegionalInformation.bind(e),"authorityUpdateMetadataWithRegionalInformation",e.logger,e.performanceClient,e.correlationId)(i.metadata);Yb(t,o,!1),t.canonical_authority=e.canonicalAuthority}return i.source}let r=yield je(e.getEndpointMetadataFromNetwork.bind(e),"authorityGetEndpointMetadataFromNetwork",e.logger,e.performanceClient,e.correlationId)();if(r)return e.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=yield je(e.updateMetadataWithRegionalInformation.bind(e),"authorityUpdateMetadataWithRegionalInformation",e.logger,e.performanceClient,e.correlationId)(r)),Yb(t,r,!0),"network";throw Pe(Rb,e.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const e=this.getEndpointMetadataFromConfig();if(e)return this.logger.verbose("Found endpoint metadata in authority configuration"),Yb(t,e,!1),{source:"config"};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const r=this.getEndpointMetadataFromHardcodedValues();if(r)return Yb(t,r,!1),{source:"hardcoded_values",metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const i=nj(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!i?(this.logger.verbose("Found endpoint metadata in the cache."),{source:"cache"}):(i&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Xt(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Tn(ry)}return null}getEndpointMetadataFromNetwork(){var t=this;return E(function*(){t.performanceClient?.addQueueMeasurement("authorityGetEndpointMetadataFromNetwork",t.correlationId);const e={},i=t.defaultOpenIdConfigurationEndpoint;t.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${i}`);try{const r=yield t.networkInterface.sendGetRequestAsync(i,e);return function Yce(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}(r.body)?r.body:(t.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return t.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}})()}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in sj?sj[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("authorityUpdateMetadataWithRegionalInformation",e.correlationId);const i=e.authorityOptions.azureRegionConfiguration?.azureRegion;if(i){if(i!==De.AZURE_REGION_AUTO_DISCOVER_FLAG)return e.regionDiscoveryMetadata.region_outcome="2",e.regionDiscoveryMetadata.region_used=i,tr.replaceWithRegionalInformation(t,i);const r=yield je(e.regionDiscovery.detectRegion.bind(e.regionDiscovery),"regionDiscoveryDetectRegion",e.logger,e.performanceClient,e.correlationId)(e.authorityOptions.azureRegionConfiguration?.environmentRegion,e.regionDiscoveryMetadata);if(r)return e.regionDiscoveryMetadata.region_outcome="4",e.regionDiscoveryMetadata.region_used=r,tr.replaceWithRegionalInformation(t,r);e.regionDiscoveryMetadata.region_outcome="5"}return t})()}updateCloudDiscoveryMetadata(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("authorityUpdateCloudDiscoveryMetadata",e.correlationId);const i=e.updateCloudDiscoveryMetadataFromLocalSources(t);if(i)return i;const r=yield je(e.getCloudDiscoveryMetadataFromNetwork.bind(e),"authorityGetCloudDiscoveryMetadataFromNetwork",e.logger,e.performanceClient,e.correlationId)();if(r)return aS(t,r,!0),"network";throw Tn(oy)})()}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||De.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||De.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||De.NOT_APPLICABLE}`);const e=this.getCloudDiscoveryMetadataFromConfig();if(e)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),aS(t,e,!1),"config";if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const r=function tce(n){return my(pS.metadata,n)}(this.hostnameAndPort);if(r)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),aS(t,r,!1),"hardcoded_values";this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const i=nj(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!i?(this.logger.verbose("Found cloud discovery metadata in the cache."),"cache"):(i&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(3===this.authorityType)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),tr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=my(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Tn(jm)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),tr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var t=this;return E(function*(){t.performanceClient?.addQueueMeasurement("authorityGetCloudDiscoveryMetadataFromNetwork",t.correlationId);const e=`${De.AAD_INSTANCE_DISCOVERY_ENDPT}${t.canonicalAuthority}oauth2/v2.0/authorize`,i={};let r=null;try{const o=yield t.networkInterface.sendGetRequestAsync(e,i);let s,a;if(function Qce(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(o.body))s=o.body,a=s.metadata,t.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else{if(!function Xce(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}(o.body))return t.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(t.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===De.INVALID_INSTANCE)return t.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;t.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),t.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),t.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}t.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=my(a,t.hostnameAndPort)}catch(o){return t.logger.error(o instanceof Hn?`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${o.errorCode}\nError Description: ${o.errorMessage}`:`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${o.name}\nError Description: ${o.message}`),null}return r||(t.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),t.logger.verbose("Creating custom Authority for custom domain scenario."),r=tr.createCloudDiscoveryMetadataFromHost(t.hostnameAndPort)),r})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&Xt.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,e){let i;return e&&"none"!==e.azureCloudInstance&&(i=`${e.azureCloudInstance}/${e.tenant?e.tenant:De.DEFAULT_COMMON_TENANT}/`),i||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return De.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Pe(No)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return aj.has(t)}static isPublicCloudAuthority(t){return De.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,e,i){const r=new Xt(t);r.validateAsUri();const o=r.getUrlComponents();let s=`${e}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${e}.${De.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Xt.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:s}).urlString;return i?`${a}?${i}`:a}static replaceWithRegionalInformation(t,e){const i={...t};return i.authorization_endpoint=tr.buildRegionalAuthorityString(i.authorization_endpoint,e),i.token_endpoint=tr.buildRegionalAuthorityString(i.token_endpoint,e),i.end_session_endpoint&&(i.end_session_endpoint=tr.buildRegionalAuthorityString(i.end_session_endpoint,e)),i}static transformCIAMAuthority(t){let e=t;const r=new Xt(t).getUrlComponents();return 0===r.PathSegments.length&&r.HostNameAndPort.endsWith(De.CIAM_AUTH_URL)&&(e=`${e}${r.HostNameAndPort.split(".")[0]}${De.AAD_TENANT_DOMAIN_SUFFIX}`),e}}function Nj(n){return n.endsWith(De.FORWARD_SLASH)?n:`${n}${De.FORWARD_SLASH}`}tr.reservedTenantDomains=new Set(["{tenant}","{tenantid}","common","consumers","organizations"]);const tu="no_tokens_found",Qy="native_account_unavailable",zS="refresh_token_expired",nu="bad_token",Lj=["interaction_required","consent_required","login_required",nu],rle=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Xy={[tu]:"No refresh token found in the cache. Please sign-in.",[Qy]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[zS]:"Refresh token has expired.",[nu]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Ho extends Hn{constructor(t,e,i,r,o,s,a,c){super(t,e,i),Object.setPrototypeOf(this,Ho.prototype),this.timestamp=r||De.EMPTY_STRING,this.traceId=o||De.EMPTY_STRING,this.correlationId=s||De.EMPTY_STRING,this.claims=a||De.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Fj(n,t,e){const i=!!n&&Lj.indexOf(n)>-1,r=!!e&&rle.indexOf(e)>-1,o=!!t&&Lj.some(s=>t.indexOf(s)>-1);return i||o||r}function qS(n){return new Ho(n,Xy[n])}class jo{static setRequestState(t,e,i){const r=jo.generateLibraryState(t,i);return e?`${r}${De.RESOURCE_DELIM}${e}`:r}static generateLibraryState(t,e){if(!t)throw Pe(Nm);const i={id:t.createNewGuid()};e&&(i.meta=e);const r=JSON.stringify(i);return t.base64Encode(r)}static parseRequestState(t,e){if(!t)throw Pe(Nm);if(!e)throw Pe(Ha);try{const i=e.split(De.RESOURCE_DELIM),r=i[0],o=i.length>1?i.slice(1).join(De.RESOURCE_DELIM):De.EMPTY_STRING,s=t.base64Decode(r),a=JSON.parse(s);return{userRequestState:o||De.EMPTY_STRING,libraryState:a}}catch{throw Pe(Ha)}}}class ole{constructor(){if(!window.localStorage)throw LS(Ym)}getItem(t){return window.localStorage.getItem(t)}setItem(t,e){window.localStorage.setItem(t,e)}removeItem(t){window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}}class sle{constructor(){if(!window.sessionStorage)throw LS(Ym)}getItem(t){return window.sessionStorage.getItem(t)}setItem(t,e){window.sessionStorage.setItem(t,e)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}}function Bj(n,t){if(!t)return null;try{return jo.parseRequestState(n,t).libraryState.meta}catch{throw Pe(Ha)}}class cle{getItem(t){const e=`${encodeURIComponent(t)}`,i=document.cookie.split(";");for(let r=0;r<i.length;r++){const o=i[r],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===e)return c}return""}setItem(t,e,i,r=!0){let o=`${encodeURIComponent(t)}=${encodeURIComponent(e)};path=/;SameSite=Lax;`;if(i){const s=function lle(n){return new Date((new Date).getTime()+864e5*n).toUTCString()}(i);o+=`expires=${s};`}r&&(o+="Secure;"),document.cookie=o}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),e=[];return t.forEach(i=>{const r=decodeURIComponent(i).trim().split("=");e.push(r[0])}),e}containsKey(t){return this.getKeys().includes(t)}}class $S extends Kd{constructor(t,e,i,r,o,s){super(t,i,r,o),this.cacheConfig=e,this.logger=r,this.internalStorage=new VS,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new cle,e.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(t){try{switch(t){case"localStorage":return new ole;case"sessionStorage":return new sle}}catch(e){this.logger.error(e)}return this.cacheConfig.cacheLocation="memoryStorage",new VS}migrateCacheEntries(){const t=this.browserStorage.getItem("msal.version");t&&this.logger.info(`MSAL.js was last initialized with version ${t}`),t!==eu&&this.browserStorage.setItem("msal.version",eu);const i=`${De.CACHE_PREFIX}.${Mi.CLIENT_INFO}`,r=`${De.CACHE_PREFIX}.${Mi.ERROR}`,o=`${De.CACHE_PREFIX}.${Mi.ERROR_DESC}`,d=[this.browserStorage.getItem(`${De.CACHE_PREFIX}.${Mi.ID_TOKEN}`),this.browserStorage.getItem(i),this.browserStorage.getItem(r),this.browserStorage.getItem(o)];[Mi.ID_TOKEN,Mi.CLIENT_INFO,Mi.ERROR,Mi.ERROR_DESC].forEach((h,m)=>{const g=d[m];g&&this.setTemporaryCache(h,g,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const t=this.cryptoImpl.createNewGuid(),e=this.getItem("msal.account.keys"),i=this.getItem(`msal.token.keys.${this.clientId}`);e&&i?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(o=>{if(this.isCredentialKey(o)){const s=this.getItem(o);if(s){const a=this.validateAndParseJson(s);if(a&&a.hasOwnProperty("credentialType"))switch(a.credentialType){case Nt.ID_TOKEN:if(JH(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${o} found, saving key to token key map`);const l=this.updateCredentialCacheKey(o,a,t);return void this.addTokenKey(l,Nt.ID_TOKEN,t)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${o}`);break;case Nt.ACCESS_TOKEN:case Nt.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(ZH(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${o} found, saving key to token key map`);const l=this.updateCredentialCacheKey(o,a,t);return void this.addTokenKey(l,Nt.ACCESS_TOKEN,t)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${o}`);break;case Nt.REFRESH_TOKEN:if(ej(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${o} found, saving key to token key map`);const l=this.updateCredentialCacheKey(o,a,t);return void this.addTokenKey(l,Nt.REFRESH_TOKEN,t)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${o}`)}}}if(this.isAccountKey(o)){const s=this.getItem(o);if(s){const a=this.validateAndParseJson(s);a&&Ci.isAccountEntity(a)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${o} found, saving key to account key map`),this.addAccountKeyToMap(o,t))}}})}validateAndParseJson(t){try{const e=JSON.parse(t);return e&&"object"==typeof e?e:null}catch{return null}}getItem(t){return this.browserStorage.getItem(t)}setItem(t,e,i){let r=[];for(let s=0;s<=20;s++)try{this.browserStorage.setItem(t,e),s>0&&this.removeAccessTokenKeys(r.slice(0,s),i);break}catch(a){const c=lj(a);if(!(c.errorCode===fS&&s<20))throw c;if(r.length||(r=t===`msal.token.keys.${this.clientId}`?JSON.parse(e).accessToken:this.getTokenKeys().accessToken),r.length<=s)throw c;this.removeAccessToken(r[s],i,!1)}}getAccount(t,e,i){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(t,e);return this.updateOutdatedCachedAccount(t,r,e,i)}getCachedAccountEntity(t,e){const i=this.getItem(t);if(!i)return this.removeAccountKeyFromMap(t,e),null;const r=this.validateAndParseJson(i);return r&&Ci.isAccountEntity(r)?Kd.toObject(new Ci,r):null}setAccount(t,e){this.logger.trace("BrowserCacheManager.setAccount called");const i=t.generateAccountKey();t.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(t),e),this.addAccountKeyToMap(i,e)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const t=this.getItem("msal.account.keys");return t?JSON.parse(t):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(t,e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);const i=this.getAccountKeys();-1===i.indexOf(t)?(i.push(t),this.setItem("msal.account.keys",JSON.stringify(i),e),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(t,e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);const i=this.getAccountKeys(),r=i.indexOf(t);if(r>-1){if(i.splice(r,1),0===i.length)return void this.removeItem("msal.account.keys");this.setItem("msal.account.keys",JSON.stringify(i),e),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(t,e){var i=()=>super.removeAccount,r=this;return E(function*(){i().call(r,t,e),r.removeAccountKeyFromMap(t,e)})()}removeOutdatedAccount(t,e){this.removeItem(t),this.removeAccountKeyFromMap(t,e)}removeIdToken(t,e){super.removeIdToken(t,e),this.removeTokenKey(t,Nt.ID_TOKEN,e)}removeAccessToken(t,e,i=!0){super.removeAccessToken(t,e),this.performanceClient?.incrementFields({accessTokensRemoved:1},e),i&&this.removeTokenKey(t,Nt.ACCESS_TOKEN,e)}removeAccessTokenKeys(t,e){this.logger.trace("removeAccessTokenKey called");const i=this.getTokenKeys();let r=0;if(t.forEach(o=>{const s=i.accessToken.indexOf(o);s>-1&&(i.accessToken.splice(s,1),r++)}),r>0)return this.logger.info(`removed ${r} accessToken keys from tokenKeys map`),void this.setTokenKeys(i,e)}removeRefreshToken(t,e){super.removeRefreshToken(t,e),this.removeTokenKey(t,Nt.REFRESH_TOKEN,e)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const t=this.getItem(`msal.token.keys.${this.clientId}`);if(t){const e=this.validateAndParseJson(t);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}setTokenKeys(t,e){0!==t.idToken.length||0!==t.accessToken.length||0!==t.refreshToken.length?this.setItem(`msal.token.keys.${this.clientId}`,JSON.stringify(t),e):this.removeItem(`msal.token.keys.${this.clientId}`)}addTokenKey(t,e,i){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(e){case Nt.ID_TOKEN:-1===r.idToken.indexOf(t)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(t));break;case Nt.ACCESS_TOKEN:const o=r.accessToken.indexOf(t);-1!==o&&r.accessToken.splice(o,1),this.logger.trace(`access token ${-1===o?"added to":"updated in"} map`),r.accessToken.push(t);break;case Nt.REFRESH_TOKEN:-1===r.refreshToken.indexOf(t)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(t));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${e}`),Pe(Lm)}this.setTokenKeys(r,i)}removeTokenKey(t,e,i,r=this.getTokenKeys()){switch(this.logger.trace("BrowserCacheManager removeTokenKey called"),e){case Nt.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${t} from map`);const o=r.idToken.indexOf(t);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Nt.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${t} from map`);const s=r.accessToken.indexOf(t);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Nt.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${t} from map`);const a=r.refreshToken.indexOf(t);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${e}`),Pe(Lm)}this.setTokenKeys(r,i)}getIdTokenCredential(t,e){const i=this.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(t,e),null;const r=this.validateAndParseJson(i);return r&&JH(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)}setIdTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const i=qd(t);t.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(t),e),this.addTokenKey(i,Nt.ID_TOKEN,e)}getAccessTokenCredential(t,e){const i=this.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,Nt.ACCESS_TOKEN,e),null;const r=this.validateAndParseJson(i);return r&&ZH(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)}setAccessTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const i=qd(t);t.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(t),e),this.addTokenKey(i,Nt.ACCESS_TOKEN,e)}getRefreshTokenCredential(t,e){const i=this.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,Nt.REFRESH_TOKEN,e),null;const r=this.validateAndParseJson(i);return r&&ej(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)}setRefreshTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const i=qd(t);t.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(t),e),this.addTokenKey(i,Nt.REFRESH_TOKEN,e)}getAppMetadata(t){const e=this.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const i=this.validateAndParseJson(e);return i&&function Zae(n,t){return!!t&&0===n.indexOf(UE)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}(t,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),i):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(t,e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const i=function Xae({environment:n,clientId:t}){return[UE,n,t].join("-").toLowerCase()}(t);this.setItem(i,JSON.stringify(t),e)}getServerTelemetry(t){const e=this.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const i=this.validateAndParseJson(e);return i&&function Yae(n,t){const e=0===n.indexOf(zi.CACHE_KEY);let i=!0;return t&&(i=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),e&&i}(t,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),i):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(t,e,i){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(e),i)}getAuthorityMetadata(t){const e=this.internalStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const i=this.validateAndParseJson(e);return i&&function Jae(n,t){return!!t&&0===n.indexOf("authority-metadata")&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(t,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),i):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(t,e){this.internalStorage.setItem("wrapper.sku",t),this.internalStorage.setItem("wrapper.version",e)}getWrapperMetadata(){return[this.internalStorage.getItem("wrapper.sku")||De.EMPTY_STRING,this.internalStorage.getItem("wrapper.version")||De.EMPTY_STRING]}setAuthorityMetadata(t,e){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(e))}getActiveAccount(t){const e=this.generateCacheKey(Mi.ACTIVE_ACCOUNT_FILTERS),i=this.getItem(e);if(!i){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const o=this.generateCacheKey(Mi.ACTIVE_ACCOUNT),s=this.getItem(o);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const a=this.getAccountInfoFilteredBy({localAccountId:s},t);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(a,t),a):null}const r=this.validateAndParseJson(i);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},t)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t,e){const i=this.generateCacheKey(Mi.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(Mi.ACTIVE_ACCOUNT);if(t){this.logger.verbose("setActiveAccount: Active account set");const o={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId,lastUpdatedAt:Date.now().toString()};this.setItem(i,JSON.stringify(o),e),this.setItem(r,t.localAccountId,e)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(i),this.browserStorage.removeItem(r)}getThrottlingCache(t){const e=this.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const i=this.validateAndParseJson(e);return i&&function Qae(n,t){let e=!1;n&&(e=0===n.indexOf("throttling"));let i=!0;return t&&(i=t.hasOwnProperty("throttleTime")),e&&i}(t,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),i):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(t,e,i){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(e),i)}getTemporaryCache(t,e){const i=e?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const r=this.temporaryCacheStorage.getItem(i);if(!r){if("localStorage"===this.cacheConfig.cacheLocation){const o=this.browserStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(t,e,i){const r=i?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(r,e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,e,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}clear(t){var e=this;return E(function*(){yield e.removeAllAccounts(t),e.removeAppMetadata(t),e.temporaryCacheStorage.getKeys().forEach(i=>{(-1!==i.indexOf(De.CACHE_PREFIX)||-1!==i.indexOf(e.clientId))&&e.removeTemporaryItem(i)}),e.browserStorage.getKeys().forEach(i=>{(-1!==i.indexOf(De.CACHE_PREFIX)||-1!==i.indexOf(e.clientId))&&e.browserStorage.removeItem(i)}),e.internalStorage.clear()})()}clearTokensAndKeysWithClaims(t,e){var i=this;return E(function*(){t.addQueueMeasurement("clearTokensAndKeysWithClaims",e);const r=i.getTokenKeys();let o=0;r.accessToken.forEach(s=>{const a=i.getAccessTokenCredential(s,e);a?.requestedClaimsHash&&s.includes(a.requestedClaimsHash.toLowerCase())&&(i.removeAccessToken(s,e),o++)}),o>0&&i.logger.warning(`${o} access tokens with claims in the cache keys have been removed from the cache.`)})()}generateCacheKey(t){return this.validateAndParseJson(t)?JSON.stringify(t):Fo.startsWith(t,De.CACHE_PREFIX)||Fo.startsWith(t,Mi.ADAL_ID_TOKEN)?t:`${De.CACHE_PREFIX}.${this.clientId}.${t}`}generateAuthorityKey(t){const{libraryState:{id:e}}=jo.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`authority.${e}`)}generateNonceKey(t){const{libraryState:{id:e}}=jo.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`nonce.id_token.${e}`)}generateStateKey(t){const{libraryState:{id:e}}=jo.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`request.state.${e}`)}getCachedAuthority(t){const e=this.generateStateKey(t),i=this.getTemporaryCache(e);if(!i)return null;const r=this.generateAuthorityKey(i);return this.getTemporaryCache(r)}updateCacheEntries(t,e,i,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(t);this.setTemporaryCache(s,t,!1);const a=this.generateNonceKey(t);this.setTemporaryCache(a,e,!1);const c=this.generateAuthorityKey(t);this.setTemporaryCache(c,i,!1),o?this.setTemporaryCache("ccs.credential",JSON.stringify({credential:o.homeAccountId,type:"home_account_id"}),!0):r&&this.setTemporaryCache("ccs.credential",JSON.stringify({credential:r,type:"UPN"}),!0)}resetRequestCache(t){this.logger.trace("BrowserCacheManager.resetRequestCache called"),t&&(this.temporaryCacheStorage.getKeys().forEach(e=>{-1!==e.indexOf(t)&&this.removeTemporaryItem(e)}),this.removeTemporaryItem(this.generateStateKey(t)),this.removeTemporaryItem(this.generateNonceKey(t)),this.removeTemporaryItem(this.generateAuthorityKey(t))),this.removeTemporaryItem(this.generateCacheKey("request.params")),this.removeTemporaryItem(this.generateCacheKey("request.origin")),this.removeTemporaryItem(this.generateCacheKey("urlHash")),this.removeTemporaryItem(this.generateCacheKey("request.correlationId")),this.removeTemporaryItem(this.generateCacheKey("ccs.credential")),this.removeTemporaryItem(this.generateCacheKey("request.native")),this.setInteractionInProgress(!1)}cleanRequestByState(t){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),t){const e=this.generateStateKey(t),i=this.temporaryCacheStorage.getItem(e);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${i}`),this.resetRequestCache(i||De.EMPTY_STRING)}}cleanRequestByInteractionType(t){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(e=>{if(-1===e.indexOf("request.state"))return;const i=this.temporaryCacheStorage.getItem(e);if(!i)return;const r=Bj(this.cryptoImpl,i);r&&r.interactionType===t&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${i}`),this.resetRequestCache(i))}),this.setInteractionInProgress(!1)}cacheCodeRequest(t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const e=ES(JSON.stringify(t));this.setTemporaryCache("request.params",e,!0)}getCachedRequest(t){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache("request.params",!0);if(!e)throw ot(Ty);let i;try{i=JSON.parse(as(e))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),ot(Iy)}if(this.removeTemporaryItem(this.generateCacheKey("request.params")),!i.authority){const r=this.generateAuthorityKey(t),o=this.getTemporaryCache(r);if(!o)throw ot(qm);i.authority=o}return i}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const t=this.getTemporaryCache("request.native",!0);return t?this.validateAndParseJson(t)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(t){const e=this.getInteractionInProgress();return t?e===this.clientId:!!e}getInteractionInProgress(){return this.getTemporaryCache(`${De.CACHE_PREFIX}.interaction.status`,!1)}setInteractionInProgress(t){const e=`${De.CACHE_PREFIX}.interaction.status`;if(t){if(this.getInteractionInProgress())throw ot(Cy);this.setTemporaryCache(e,this.clientId,!1)}else!t&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(e)}getLegacyLoginHint(){const t=this.getTemporaryCache(Mi.ADAL_ID_TOKEN);t&&(this.browserStorage.removeItem(Mi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const e=this.getTemporaryCache(Mi.ID_TOKEN,!0);e&&(this.browserStorage.removeItem(this.generateCacheKey(Mi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const i=e||t;if(i){const r=tl(i,as);if(r.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),r.preferred_username;if(r.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),r.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(t,e,i){const r=qd(e);if(t!==r){const o=this.getItem(t);if(o)return this.browserStorage.removeItem(t),this.setItem(r,o,i),this.logger.verbose(`Updated an outdated ${e.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${e.credentialType} cache key but no item matching the outdated key was found in storage`)}return t}hydrateCache(t,e){var i=this;return E(function*(){const r=Wb(t.account?.homeAccountId,t.account?.environment,t.idToken,i.clientId,t.tenantId);let o;e.claims&&(o=yield i.cryptoImpl.hashString(e.claims));const s=Kb(t.account?.homeAccountId,t.account.environment,t.accessToken,i.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?t.expiresOn.getTime()/1e3:0,t.extExpiresOn?t.extExpiresOn.getTime()/1e3:0,as,void 0,t.tokenType,void 0,e.sshKid,e.claims,o);return i.saveCacheRecord({idToken:r,accessToken:s},t.correlationId)})()}saveCacheRecord(t,e,i){var r=()=>super.saveCacheRecord,o=this;return E(function*(){try{yield r().call(o,t,e,i)}catch(s){if(s instanceof Wd&&o.performanceClient&&e)try{const a=o.getTokenKeys();o.performanceClient.addFields({cacheRtCount:a.refreshToken.length,cacheIdCount:a.idToken.length,cacheAtCount:a.accessToken.length},e)}catch{}throw s}})()}}class ble{constructor(t){this.eventCallbacks=new Map,this.logger=t||new Ba({})}addEventCallback(t,e,i){if(typeof window<"u"){const r=i||function Bce(){return ss()}();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[t,e||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,e,i,r){if(typeof window<"u"){const o={eventType:t,interactionType:e||null,payload:i||null,error:r||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],c)=>{(0===a.length||a.includes(t))&&(this.logger.verbose(`Emitting event to callback ${c}: ${t}`),s.apply(null,[o]))})}}}class Ua extends Hn{constructor(t,e,i,r,o){super(t,e,i),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Ua.prototype)}}class cs{static generateThrottlingStorageKey(t){return`throttling.${JSON.stringify(t)}`}static preProcess(t,e,i){const r=cs.generateThrottlingStorageKey(e),o=t.getThrottlingCache(r);if(o){if(o.throttleTime<Date.now())return void t.removeItem(r,i);throw new Ua(o.errorCodes?.join(" ")||De.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(t,e,i,r){if(cs.checkResponseStatus(i)||cs.checkResponseForRetryAfter(i)){const o={throttleTime:cs.calculateThrottleTime(parseInt(i.headers["Retry-After"])),error:i.body.error,errorCodes:i.body.error_codes,errorMessage:i.body.error_description,subError:i.body.suberror};t.setThrottlingCache(cs.generateThrottlingStorageKey(e),o,r)}}static checkResponseStatus(t){return 429===t.status||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return!!t.headers&&t.headers.hasOwnProperty("Retry-After")&&(t.status<200||t.status>=300)}static calculateThrottleTime(t){const e=t<=0?0:t,i=Date.now()/1e3;return Math.floor(1e3*Math.min(i+(e||60),i+3600))}static removeThrottle(t,e,i,r){const s=this.generateThrottlingStorageKey({clientId:e,authority:i.authority,scopes:i.scopes,homeAccountIdentifier:r,claims:i.claims,authenticationScheme:i.authenticationScheme,resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,sshKid:i.sshKid});t.removeItem(s,i.correlationId)}}const sl="client_id",Hj="redirect_uri",jj="response_type",Uj="token_type",Vj="req_cnf",zj="return_spa_code",ede="x-client-xtra-sku",GS="brk_client_id",WS="brk_redirect_uri";class iu{static validateRedirectUri(t){if(!t)throw Tn(Qb)}static validatePrompt(t){const e=[];for(const i in Ri)e.push(Ri[i]);if(e.indexOf(t)<0)throw Tn(ey)}static validateClaims(t){try{JSON.parse(t)}catch{throw Tn(Bm)}}static validateCodeChallengeParams(t,e){if(!t||!e)throw Tn(Hm);this.validateCodeChallengeMethod(e)}static validateCodeChallengeMethod(t){if([qH.PLAIN,qH.S256].indexOf(t)<0)throw Tn(iy)}}class Qm{constructor(t,e){this.parameters=new Map,this.performanceClient=e,this.correlationId=t}addResponseTypeCode(){this.parameters.set(jj,encodeURIComponent(De.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(jj,encodeURIComponent(`${De.TOKEN_RESPONSE_TYPE} ${De.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(t){this.parameters.set("response_mode",encodeURIComponent(t||Bae.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(t,e=!0,i=Ud){e&&!i.includes("openid")&&!t.includes("openid")&&i.push("openid");const r=e?[...t||[],...i]:t||[],o=new ui(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(t){this.parameters.set(sl,encodeURIComponent(t))}addRedirectUri(t){iu.validateRedirectUri(t),this.parameters.set(Hj,encodeURIComponent(t))}addPostLogoutRedirectUri(t){iu.validateRedirectUri(t),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(t))}addIdTokenHint(t){this.parameters.set("id_token_hint",encodeURIComponent(t))}addDomainHint(t){this.parameters.set("domain_hint",encodeURIComponent(t))}addLoginHint(t){this.parameters.set("login_hint",encodeURIComponent(t))}addCcsUpn(t){this.parameters.set("X-AnchorMailbox",encodeURIComponent(`UPN:${t}`))}addCcsOid(t){this.parameters.set("X-AnchorMailbox",encodeURIComponent(`Oid:${t.uid}@${t.utid}`))}addSid(t){this.parameters.set("sid",encodeURIComponent(t))}addClaims(t,e){const i=this.addClientCapabilitiesToClaims(t,e);iu.validateClaims(i),this.parameters.set("claims",encodeURIComponent(i))}addCorrelationId(t){this.parameters.set("client-request-id",encodeURIComponent(t))}addLibraryInfo(t){this.parameters.set("x-client-SKU",t.sku),this.parameters.set("x-client-VER",t.version),t.os&&this.parameters.set("x-client-OS",t.os),t.cpu&&this.parameters.set("x-client-CPU",t.cpu)}addApplicationTelemetry(t){t?.appName&&this.parameters.set("x-app-name",t.appName),t?.appVersion&&this.parameters.set("x-app-ver",t.appVersion)}addPrompt(t){iu.validatePrompt(t),this.parameters.set("prompt",encodeURIComponent(t))}addState(t){t&&this.parameters.set("state",encodeURIComponent(t))}addNonce(t){this.parameters.set("nonce",encodeURIComponent(t))}addCodeChallengeParams(t,e){if(iu.validateCodeChallengeParams(t,e),!t||!e)throw Tn(Hm);this.parameters.set("code_challenge",encodeURIComponent(t)),this.parameters.set("code_challenge_method",encodeURIComponent(e))}addAuthorizationCode(t){this.parameters.set("code",encodeURIComponent(t))}addDeviceCode(t){this.parameters.set("device_code",encodeURIComponent(t))}addRefreshToken(t){this.parameters.set("refresh_token",encodeURIComponent(t))}addCodeVerifier(t){this.parameters.set("code_verifier",encodeURIComponent(t))}addClientSecret(t){this.parameters.set("client_secret",encodeURIComponent(t))}addClientAssertion(t){t&&this.parameters.set("client_assertion",encodeURIComponent(t))}addClientAssertionType(t){t&&this.parameters.set("client_assertion_type",encodeURIComponent(t))}addOboAssertion(t){this.parameters.set("assertion",encodeURIComponent(t))}addRequestTokenUse(t){this.parameters.set("requested_token_use",encodeURIComponent(t))}addGrantType(t){this.parameters.set("grant_type",encodeURIComponent(t))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(t){Object.entries(t).forEach(([e,i])=>{!this.parameters.has(e)&&i&&this.parameters.set(e,i)})}addClientCapabilitiesToClaims(t,e){let i;if(t)try{i=JSON.parse(t)}catch{throw Tn(Bm)}else i={};return e&&e.length>0&&(i.hasOwnProperty("access_token")||(i.access_token={}),i.access_token.xms_cc={values:e}),JSON.stringify(i)}addUsername(t){this.parameters.set("username",encodeURIComponent(t))}addPassword(t){this.parameters.set("password",encodeURIComponent(t))}addPopToken(t){t&&(this.parameters.set(Uj,Dn.POP),this.parameters.set(Vj,encodeURIComponent(t)))}addSshJwk(t){t&&(this.parameters.set(Uj,Dn.SSH),this.parameters.set(Vj,encodeURIComponent(t)))}addServerTelemetry(t){this.parameters.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability","retry-after, h429")}addLogoutHint(t){this.parameters.set("logout_hint",encodeURIComponent(t))}addBrokerParameters(t){const e={};e[GS]=t.brokerClientId,e[WS]=t.brokerRedirectUri,this.addExtraQueryParameters(e)}createQueryString(){const t=new Array;return this.parameters.forEach((e,i)=>{t.push(`${i}=${e}`)}),function tde(n,t,e){if(!t)return;const i=n.get(sl);i&&n.has(GS)&&e?.addFields({embeddedClientId:i,embeddedRedirectUri:n.get(Hj)},t)}(this.parameters,this.correlationId,this.performanceClient),t.join("&")}}function qj(n,t,e,i,r,o,s){return KS.apply(this,arguments)}function KS(){return KS=E(function*(n,t,e,i,r,o,s){s?.addQueueMeasurement("authorityFactoryCreateDiscoveredInstance",o);const a=tr.transformCIAMAuthority(Nj(n)),c=new tr(a,t,e,i,r,o,s);try{return yield je(c.resolveEndpointsAsync.bind(c),"authorityResolveEndpointsAsync",r,s,o)(),c}catch{throw Pe(No)}}),KS.apply(this,arguments)}class YS{constructor(t,e){this.config=function dce({authOptions:n,systemOptions:t,loggerOptions:e,cacheOptions:i,storageInterface:r,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:d,persistencePlugin:u,serializableCache:h}){const m={...ice,...e};return{authOptions:uce(n),systemOptions:{...dj,...t},loggerOptions:m,cacheOptions:{...rce,...i},storageInterface:r||new nce(n.clientId,Gb,new Ba(m)),networkInterface:o||oce,cryptoInterface:s||Gb,clientCredentials:a||ace,libraryInfo:{...sce,...c},telemetry:{...lce,...l},serverTelemetryManager:d||null,persistencePlugin:u||null,serializableCache:h||null}}(t),this.logger=new Ba(this.config.loggerOptions,YH,rS),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}createTokenRequestHeaders(t){const e={};if(e["Content-Type"]=De.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case"home_account_id":try{const i=Gd(t.credential);e["X-AnchorMailbox"]=`Oid:${i.uid}@${i.utid}`}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case"UPN":e["X-AnchorMailbox"]=`UPN: ${t.credential}`}return e}executePostToTokenEndpoint(t,e,i,r,o,s){var a=this;return E(function*(){s&&a.performanceClient?.addQueueMeasurement(s,o);const c=yield a.sendPostRequest(r,t,{body:e,headers:i},o);return a.config.serverTelemetryManager&&c.status<500&&429!==c.status&&a.config.serverTelemetryManager.clearTelemetryCache(),c})()}sendPostRequest(t,e,i,r){var o=this;return E(function*(){let s;cs.preProcess(o.cacheManager,t,r);try{s=yield je(o.networkClient.sendPostRequestAsync.bind(o.networkClient),"networkClientSendPostRequestAsync",o.logger,o.performanceClient,r)(e,i);const a=s.headers||{};o.performanceClient?.addFields({refreshTokenSize:s.body.refresh_token?.length||0,httpVerToken:a["x-ms-httpver"]||"",requestId:a["x-ms-request-id"]||""},r)}catch(a){if(a instanceof gy){const c=a.responseHeaders;throw c&&o.performanceClient?.addFields({httpVerToken:c["x-ms-httpver"]||"",requestId:c["x-ms-request-id"]||"",contentTypeHeader:c["Content-Type"]||void 0,contentLengthHeader:c["Content-Length"]||void 0,httpStatus:a.httpStatus},r),a.error}throw a instanceof Hn?a:Pe(Mb)}return cs.postProcess(o.cacheManager,t,s,r),s})()}updateAuthority(t,e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("updateTokenEndpointAuthority",e);const r=`https://${t}/${i.authority.tenant}/`,o=yield qj(r,i.networkClient,i.cacheManager,i.authority.options,i.logger,e,i.performanceClient);i.authority=o})()}createTokenQueryParameters(t){const e=new Qm(t.correlationId,this.performanceClient);return t.embeddedClientId&&e.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenQueryParameters&&e.addExtraQueryParameters(t.tokenQueryParameters),e.addCorrelationId(t.correlationId),e.createQueryString()}}class ru{constructor(t,e){this.cryptoUtils=t,this.performanceClient=e}generateCnf(t,e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("popTokenGenerateCnf",t.correlationId);const r=yield je(i.generateKid.bind(i),"popTokenGenerateCnf",e,i.performanceClient,t.correlationId)(t),o=i.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}})()}generateKid(t){var e=this;return E(function*(){return e.performanceClient?.addQueueMeasurement("popTokenGenerateKid",t.correlationId),{kid:yield e.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:"sw"}})()}signPopToken(t,e,i){var r=this;return E(function*(){return r.signPayload(t,e,i)})()}signPayload(t,e,i,r){var o=this;return E(function*(){const{resourceRequestMethod:s,resourceRequestUri:a,shrClaims:c,shrNonce:l,shrOptions:d}=i,h=(a?new Xt(a):void 0)?.getUrlComponents();return o.cryptoUtils.signJwt({at:t,ts:os(),m:s?.toUpperCase(),u:h?.HostNameAndPort,nonce:l||o.cryptoUtils.createNewGuid(),p:h?.AbsolutePath,q:h?.QueryString?[[],h.QueryString]:void 0,client_claims:c||void 0,...r},e,d,i.correlationId)})()}}class ide{constructor(t,e){this.cache=t,this.hasChanged=e}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class al{constructor(t,e,i,r,o,s,a){this.clientId=t,this.cacheStorage=e,this.cryptoObj=i,this.logger=r,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(t,e){if(!t.state||!e)throw Pe(zd,t.state?"Cached State":"Server State");let i,r;try{i=decodeURIComponent(t.state)}catch{throw Pe(Ha,t.state)}try{r=decodeURIComponent(e)}catch{throw Pe(Ha,t.state)}if(i!==r)throw Pe(Pb);if(t.error||t.error_description||t.suberror){const o=function rde(n){const e=n.error_uri?.lastIndexOf("code=");return e&&e>=0?n.error_uri?.substring(e+5):void 0}(t);throw Fj(t.error,t.error_description,t.suberror)?new Ho(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new Ua(t.error||"",t.error_description,t.suberror,o)}}validateTokenResponse(t,e){if(t.error||t.error_description||t.suberror){const i=`Error(s): ${t.error_codes||De.NOT_AVAILABLE} - Timestamp: ${t.timestamp||De.NOT_AVAILABLE} - Description: ${t.error_description||De.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||De.NOT_AVAILABLE} - Trace ID: ${t.trace_id||De.NOT_AVAILABLE}`,r=t.error_codes?.length?t.error_codes[0]:void 0,o=new Ua(t.error,i,t.suberror,r,t.status);if(e&&t.status&&t.status>=500&&t.status<=599)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(e&&t.status&&t.status>=400&&t.status<=499)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);throw Fj(t.error,t.error_description,t.suberror)?new Ho(t.error,t.error_description,t.suberror,t.timestamp||De.EMPTY_STRING,t.trace_id||De.EMPTY_STRING,t.correlation_id||De.EMPTY_STRING,t.claims||De.EMPTY_STRING,r):o}}handleServerTokenResponse(t,e,i,r,o,s,a,c,l){var d=this;return E(function*(){let u,h;if(d.performanceClient?.addQueueMeasurement("handleServerTokenResponse",t.correlation_id),t.id_token){if(u=tl(t.id_token||De.EMPTY_STRING,d.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw Pe(Nb);if(r.maxAge||0===r.maxAge){const y=u.auth_time;if(!y)throw Pe(Im);QH(y,r.maxAge)}}d.homeAccountIdentifier=Ci.generateHomeAccountId(t.client_info||De.EMPTY_STRING,e.authorityType,d.logger,d.cryptoObj,u),o&&o.state&&(h=jo.parseRequestState(d.cryptoObj,o.state)),t.key_id=t.key_id||r.sshKid||void 0;const m=d.generateCacheRecord(t,e,i,r,u,s,o);let g;try{if(d.persistencePlugin&&d.serializableCache&&(d.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new ide(d.serializableCache,!0),yield d.persistencePlugin.beforeCacheAccess(g)),a&&!c&&m.account){const y=m.account.generateAccountKey();if(!d.cacheStorage.getAccount(y,r.correlationId,d.logger))return d.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield al.generateAuthenticationResult(d.cryptoObj,e,m,!1,r,u,h,void 0,l)}yield d.cacheStorage.saveCacheRecord(m,r.correlationId,r.storeInCache)}finally{d.persistencePlugin&&d.serializableCache&&g&&(d.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield d.persistencePlugin.afterCacheAccess(g))}return al.generateAuthenticationResult(d.cryptoObj,e,m,!1,r,u,h,t,l)})()}generateCacheRecord(t,e,i,r,o,s,a){const c=e.getPreferredCache();if(!c)throw Pe(Om);const l=ij(o);let d,u;t.id_token&&o&&(d=Wb(this.homeAccountIdentifier,c,t.id_token,this.clientId,l||""),u=QS(this.cacheStorage,e,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,o,t.client_info,c,l,a,void 0,this.logger));let h=null;if(t.access_token){const y=t.scope?ui.fromString(t.scope):new ui(r.scopes||[]),v=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,F=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,q=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,Se=i+v,He=Se+F,Ke=q&&q>0?i+q:void 0;h=Kb(this.homeAccountIdentifier,c,t.access_token,this.clientId,l||e.tenant||"",y.printScopes(),Se,He,this.cryptoObj.base64Decode,Ke,t.token_type,s,t.key_id,r.claims,r.requestedClaimsHash)}let m=null;if(t.refresh_token){let y;t.refresh_token_expires_in&&(y=i+("string"==typeof t.refresh_token_expires_in?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in)),m=XH(this.homeAccountIdentifier,c,t.refresh_token,this.clientId,t.foci,s,y)}let g=null;return t.foci&&(g={clientId:this.clientId,environment:c,familyId:t.foci}),{account:u,idToken:d,accessToken:h,refreshToken:m,appMetadata:g}}static generateAuthenticationResult(t,e,i,r,o,s,a,c,l){return E(function*(){let m,g,d=De.EMPTY_STRING,u=[],h=null,y=De.EMPTY_STRING;if(i.accessToken){if(i.accessToken.tokenType!==Dn.POP||o.popKid)d=i.accessToken.secret;else{const Se=new ru(t),{secret:He,keyId:Ke}=i.accessToken;if(!Ke)throw Pe(Fm);d=yield Se.signPopToken(He,Ke,o)}u=ui.fromString(i.accessToken.target).asArray(),h=new Date(1e3*Number(i.accessToken.expiresOn)),m=new Date(1e3*Number(i.accessToken.extendedExpiresOn)),i.accessToken.refreshOn&&(g=new Date(1e3*Number(i.accessToken.refreshOn)))}i.appMetadata&&(y="1"===i.appMetadata.familyId?"1":"");const v=s?.oid||s?.sub||"",F=s?.tid||"";c?.spa_accountid&&i.account&&(i.account.nativeAccountId=c?.spa_accountid);const q=i.account?mS(i.account.getAccountInfo(),void 0,s,i.idToken?.secret):null;return{authority:e.canonicalAuthority,uniqueId:v,tenantId:F,scopes:u,account:q,idToken:i?.idToken?.secret||"",idTokenClaims:s||{},accessToken:d,fromCache:r,expiresOn:h,extExpiresOn:m,refreshOn:g,correlationId:o.correlationId,requestId:l||De.EMPTY_STRING,familyId:y,tokenType:i.accessToken?.tokenType||De.EMPTY_STRING,state:a?a.userRequestState:De.EMPTY_STRING,cloudGraphHostName:i.account?.cloudGraphHostName||De.EMPTY_STRING,msGraphHost:i.account?.msGraphHost||De.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}})()}}function QS(n,t,e,i,r,o,s,a,c,l,d,u){u?.verbose("setCachedAccount called");const m=n.getAccountKeys().find(q=>q.startsWith(e));let g=null;m&&(g=n.getAccount(m,r,u));const y=g||Ci.createAccount({homeAccountId:e,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:d},t,i),v=y.tenantProfiles||[],F=c||y.realm;if(F&&!v.find(q=>q.tenantId===F)){const q=hS(e,y.localAccountId,F,o);v.push(q)}return y.tenantProfiles=v,y}function $j(n,t,e){return XS.apply(this,arguments)}function XS(){return XS=E(function*(n,t,e){return"string"==typeof n?n:n({clientId:t,tokenEndpoint:e})}),XS.apply(this,arguments)}class Gj extends YS{constructor(t,e){super(t,e),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("getAuthCodeUrl",t.correlationId);const i=yield je(e.createAuthCodeUrlQueryString.bind(e),"authClientCreateQueryString",e.logger,e.performanceClient,t.correlationId)(t);return Xt.appendQueryString(e.authority.authorizationEndpoint,i)})()}acquireToken(t,e){var i=this;return E(function*(){if(i.performanceClient?.addQueueMeasurement("authClientAcquireToken",t.correlationId),!t.code)throw Pe(Bb);const r=os(),o=yield je(i.executeTokenRequest.bind(i),"authClientExecuteTokenRequest",i.logger,i.performanceClient,t.correlationId)(i.authority,t),s=o.headers?.["x-ms-request-id"],a=new al(i.config.authOptions.clientId,i.cacheManager,i.cryptoUtils,i.logger,i.config.serializableCache,i.config.persistencePlugin,i.performanceClient);return a.validateTokenResponse(o.body),je(a.handleServerTokenResponse.bind(a),"handleServerTokenResponse",i.logger,i.performanceClient,t.correlationId)(o.body,i.authority,r,t,e,void 0,void 0,void 0,s)})()}handleFragmentResponse(t,e){if(new al(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(t,e),!t.code)throw Pe(zb);return t}getLogoutUri(t){if(!t)throw Tn(ny);const e=this.createLogoutUrlQueryString(t);return Xt.appendQueryString(this.authority.endSessionEndpoint,e)}executeTokenRequest(t,e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("authClientExecuteTokenRequest",e.correlationId);const r=i.createTokenQueryParameters(e),o=Xt.appendQueryString(t.tokenEndpoint,r),s=yield je(i.createTokenRequestBody.bind(i),"authClientCreateTokenRequestBody",i.logger,i.performanceClient,e.correlationId)(e);let a;if(e.clientInfo)try{const d=dy(e.clientInfo,i.cryptoUtils.base64Decode);a={credential:`${d.uid}.${d.utid}`,type:"home_account_id"}}catch(d){i.logger.verbose("Could not parse client info for CCS Header: "+d)}const c=i.createTokenRequestHeaders(a||e.ccsCredential),l={clientId:e.tokenBodyParameters?.clientId||i.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return je(i.executePostToTokenEndpoint.bind(i),"authorizationCodeClientExecutePostToTokenEndpoint",i.logger,i.performanceClient,e.correlationId)(o,s,c,l,e.correlationId,"authorizationCodeClientExecutePostToTokenEndpoint")})()}createTokenRequestBody(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("authClientCreateTokenRequestBody",t.correlationId);const i=new Qm(t.correlationId,e.performanceClient);if(i.addClientId(t.embeddedClientId||t.tokenBodyParameters?.[sl]||e.config.authOptions.clientId),e.includeRedirectUri?i.addRedirectUri(t.redirectUri):iu.validateRedirectUri(t.redirectUri),i.addScopes(t.scopes,!0,e.oidcDefaultScopes),i.addAuthorizationCode(t.code),i.addLibraryInfo(e.config.libraryInfo),i.addApplicationTelemetry(e.config.telemetry.application),i.addThrottling(),e.serverTelemetryManager&&!bS(e.config)&&i.addServerTelemetry(e.serverTelemetryManager),t.codeVerifier&&i.addCodeVerifier(t.codeVerifier),e.config.clientCredentials.clientSecret&&i.addClientSecret(e.config.clientCredentials.clientSecret),e.config.clientCredentials.clientAssertion){const o=e.config.clientCredentials.clientAssertion;i.addClientAssertion(yield $j(o.assertion,e.config.authOptions.clientId,t.resourceRequestUri)),i.addClientAssertionType(o.assertionType)}if(i.addGrantType("authorization_code"),i.addClientInfo(),t.authenticationScheme===Dn.POP){const o=new ru(e.cryptoUtils,e.performanceClient);let s;s=t.popKid?e.cryptoUtils.encodeKid(t.popKid):(yield je(o.generateCnf.bind(o),"popTokenGenerateCnf",e.logger,e.performanceClient,t.correlationId)(t,e.logger)).reqCnfString,i.addPopToken(s)}else if(t.authenticationScheme===Dn.SSH){if(!t.sshJwk)throw Tn($d);i.addSshJwk(t.sshJwk)}let r;if((!Fo.isEmptyObj(t.claims)||e.config.authOptions.clientCapabilities&&e.config.authOptions.clientCapabilities.length>0)&&i.addClaims(t.claims,e.config.authOptions.clientCapabilities),t.clientInfo)try{const o=dy(t.clientInfo,e.cryptoUtils.base64Decode);r={credential:`${o.uid}.${o.utid}`,type:"home_account_id"}}catch(o){e.logger.verbose("Could not parse client info for CCS Header: "+o)}else r=t.ccsCredential;if(e.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case"home_account_id":try{const o=Gd(r.credential);i.addCcsOid(o)}catch(o){e.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case"UPN":i.addCcsUpn(r.credential)}return t.embeddedClientId&&i.addBrokerParameters({brokerClientId:e.config.authOptions.clientId,brokerRedirectUri:e.config.authOptions.redirectUri}),t.tokenBodyParameters&&i.addExtraQueryParameters(t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[zj])&&i.addExtraQueryParameters({[zj]:"1"}),i.createQueryString()})()}createAuthCodeUrlQueryString(t){var e=this;return E(function*(){const i=t.correlationId||e.config.cryptoInterface.createNewGuid();e.performanceClient?.addQueueMeasurement("authClientCreateQueryString",i);const r=new Qm(i,e.performanceClient);r.addClientId(t.embeddedClientId||t.extraQueryParameters?.[sl]||e.config.authOptions.clientId);const o=[...t.scopes||[],...t.extraScopesToConsent||[]];if(r.addScopes(o,!0,e.oidcDefaultScopes),r.addRedirectUri(t.redirectUri),r.addCorrelationId(i),r.addResponseMode(t.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(e.config.libraryInfo),bS(e.config)||r.addApplicationTelemetry(e.config.telemetry.application),r.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&r.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&r.addPrompt(t.prompt),t.domainHint&&r.addDomainHint(t.domainHint),t.prompt!==Ri.SELECT_ACCOUNT)if(t.sid&&t.prompt===Ri.NONE)e.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(t.sid);else if(t.account){const s=e.extractAccountSid(t.account);let a=e.extractLoginHint(t.account);if(a&&t.domainHint&&(e.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),a=null),a){e.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(a);try{const c=Gd(t.account.homeAccountId);r.addCcsOid(c)}catch{e.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&t.prompt===Ri.NONE){e.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{const c=Gd(t.account.homeAccountId);r.addCcsOid(c)}catch{e.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)e.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint);else if(t.account.username){e.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(t.account.username);try{const c=Gd(t.account.homeAccountId);r.addCcsOid(c)}catch{e.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(e.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint));else e.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(t.nonce&&r.addNonce(t.nonce),t.state&&r.addState(t.state),(t.claims||e.config.authOptions.clientCapabilities&&e.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,e.config.authOptions.clientCapabilities),t.embeddedClientId&&r.addBrokerParameters({brokerClientId:e.config.authOptions.clientId,brokerRedirectUri:e.config.authOptions.redirectUri}),e.addExtraQueryParams(t,r),t.nativeBroker&&(r.addNativeBroker(),t.authenticationScheme===Dn.POP)){const s=new ru(e.cryptoUtils);let a;a=t.popKid?e.cryptoUtils.encodeKid(t.popKid):(yield je(s.generateCnf.bind(s),"popTokenGenerateCnf",e.logger,e.performanceClient,t.correlationId)(t,e.logger)).reqCnfString,r.addPopToken(a)}return r.createQueryString()})()}createLogoutUrlQueryString(t){const e=new Qm(t.correlationId,this.performanceClient);return t.postLogoutRedirectUri&&e.addPostLogoutRedirectUri(t.postLogoutRedirectUri),t.correlationId&&e.addCorrelationId(t.correlationId),t.idTokenHint&&e.addIdTokenHint(t.idTokenHint),t.state&&e.addState(t.state),t.logoutHint&&e.addLogoutHint(t.logoutHint),this.addExtraQueryParams(t,e),e.createQueryString()}addExtraQueryParams(t,e){!(t.extraQueryParameters&&t.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(t.extraQueryParameters=t.extraQueryParameters||{},t.extraQueryParameters.instance_aware="true"),t.extraQueryParameters&&e.addExtraQueryParameters(t.extraQueryParameters)}extractAccountSid(t){return t.idTokenClaims?.sid||null}extractLoginHint(t){return t.idTokenClaims?.login_hint||null}}class Xm{constructor(t,e){this.cacheOutcome="0",this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||De.EMPTY_STRING,this.wrapperVer=t.wrapperVer||De.EMPTY_STRING,this.telemetryCacheKey=zi.CACHE_KEY+"-"+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${zi.VALUE_SEPARATOR}${this.cacheOutcome}`,e=[this.wrapperSKU,this.wrapperVer],i=this.getNativeBrokerErrorCode();i?.length&&e.push(`broker_error=${i}`);const r=e.join(zi.VALUE_SEPARATOR),s=[t,this.getRegionDiscoveryFields()].join(zi.VALUE_SEPARATOR);return[zi.SCHEMA_VERSION,s,r].join(zi.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),e=Xm.maxErrorsToSend(t),i=t.failedRequests.slice(0,2*e).join(zi.VALUE_SEPARATOR),r=t.errors.slice(0,e).join(zi.VALUE_SEPARATOR),o=t.errors.length,a=[o,e<o?zi.OVERFLOW_TRUE:zi.OVERFLOW_FALSE].join(zi.VALUE_SEPARATOR);return[zi.SCHEMA_VERSION,t.cacheHits,i,r,a].join(zi.CATEGORY_SEPARATOR)}cacheFailedRequest(t){const e=this.getLastRequests();e.errors.length>=zi.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?e.errors.push(t instanceof Hn?t.subError?t.subError:t.errorCode?t.errorCode:t.toString():t.toString()):e.errors.push(zi.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const t=this.getLastRequests(),e=Xm.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const r={failedRequests:t.failedRequests.slice(2*e),errors:t.errors.slice(e),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(t){let e,i=0,r=0;const o=t.errors.length;for(e=0;e<o;e++){const a=t.failedRequests[2*e+1]||De.EMPTY_STRING,c=t.errors[e]||De.EMPTY_STRING;if(r+=(t.failedRequests[2*e]||De.EMPTY_STRING).toString().length+a.toString().length+c.length+3,!(r<zi.MAX_LAST_HEADER_BYTES))break;i+=1}return i}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||De.EMPTY_STRING),t.push(this.regionSource||De.EMPTY_STRING),t.push(this.regionOutcome||De.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const e=this.getLastRequests();e.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return function ode(n){const{skus:t,libraryName:e,libraryVersion:i,extensionName:r,extensionVersion:o}=n,s=new Map([[0,[e,i]],[2,[r,o]]]);let a=[];if(t?.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},()=>"|");return s.forEach((c,l)=>{2===c.length&&c[0]?.length&&c[1]?.length&&function sde(n){const{skuArr:t,index:e,skuName:i,skuVersion:r}=n;e>=t.length||(t[e]=[i,r].join("|"))}({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(",")}(t)}}class Yj{constructor(t,e,i,r,o,s,a,c,l){this.config=t,this.browserStorage=e,this.browserCrypto=i,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||ss(),this.logger=r.clone("msal.js.browser",eu,this.correlationId),this.performanceClient=a}clearCacheOnLogout(t){var e=this;return E(function*(){if(t){Ci.accountInfoIsEqual(t,e.browserStorage.getActiveAccount(e.correlationId),!1)&&(e.logger.verbose("Setting active account to null"),e.browserStorage.setActiveAccount(null,e.correlationId));try{yield e.browserStorage.removeAccount(Ci.generateAccountCacheKey(t),e.correlationId),e.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{e.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{e.logger.verbose("No account provided in logout request, clearing all cache items.",e.correlationId),yield e.browserStorage.clear(e.correlationId),yield e.browserCrypto.clearKeystore()}catch{e.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}getRedirectUri(t){return this.logger.verbose("getRedirectUri called"),Xt.getAbsoluteUrl(t||this.config.auth.redirectUri,Ws())}initializeServerTelemetryManager(t,e){this.logger.verbose("initializeServerTelemetryManager called");const i={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Xm(i,this.browserStorage)}getDiscoveredAuthority(t){var e=this;return E(function*(){const{account:i}=t,r=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;e.performanceClient.addQueueMeasurement("standardInteractionClientGetDiscoveredAuthority",e.correlationId);const o={protocolMode:e.config.auth.protocolMode,OIDCOptions:e.config.auth.OIDCOptions,knownAuthorities:e.config.auth.knownAuthorities,cloudDiscoveryMetadata:e.config.auth.cloudDiscoveryMetadata,authorityMetadata:e.config.auth.authorityMetadata,skipAuthorityMetadataCache:e.config.auth.skipAuthorityMetadataCache},s=t.requestAuthority||e.config.auth.authority,c=i&&(r?.length?"true"===r:e.config.auth.instanceAware)?e.config.auth.authority.replace(Xt.getDomainFromUrl(s),i.environment):s,l=tr.generateAuthority(c,t.requestAzureCloudOptions||e.config.auth.azureCloudOptions),d=yield je(qj,"authorityFactoryCreateDiscoveredInstance",e.logger,e.performanceClient,e.correlationId)(l,e.config.system.networkClient,e.browserStorage,o,e.logger,e.correlationId,e.performanceClient);if(i&&!d.isAlias(i.environment))throw Tn(ly);return d})()}}function cde(n,t,e){return ZS.apply(this,arguments)}function ZS(){return ZS=E(function*(n,t,e){n.addQueueMeasurement("generatePkceCodes",e);const i=ol(lde,"generateCodeVerifier",t,n,e)(n,t,e);return{verifier:i,challenge:yield je(dde,"generateCodeChallengeFromVerifier",t,n,e)(i,n,t,e)}}),ZS.apply(this,arguments)}function lde(n,t,e){try{const i=new Uint8Array(32);return ol(kce,"getRandomValues",t,n,e)(i),$y(i)}catch{throw ot(Um)}}function dde(n,t,e,i){return JS.apply(this,arguments)}function JS(){return JS=E(function*(n,t,e,i){t.addQueueMeasurement("generateCodeChallengeFromVerifier",i);try{const r=yield je(xj,"sha256Digest",e,t,i)(n,t,i);return $y(new Uint8Array(r))}catch{throw ot(Um)}}),JS.apply(this,arguments)}function ek(n,t,e,i){return tk.apply(this,arguments)}function tk(){return tk=E(function*(n,t,e,i){e.addQueueMeasurement("initializeBaseRequest",n.correlationId);const r=n.authority||t.auth.authority,o=[...n&&n.scopes||[]],s={...n,correlationId:n.correlationId,authority:r,scopes:o};if(s.authenticationScheme){if(s.authenticationScheme===Dn.SSH){if(!n.sshJwk)throw Tn($d);if(!n.sshKid)throw Tn(sy)}i.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=Dn.BEARER,i.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&n.claims&&!Fo.isEmptyObj(n.claims)&&(s.requestedClaimsHash=yield Ej(n.claims)),s}),tk.apply(this,arguments)}function ude(n,t,e,i,r){return nk.apply(this,arguments)}function nk(){return nk=E(function*(n,t,e,i,r){i.addQueueMeasurement("initializeSilentRequest",n.correlationId);const o=yield je(ek,"initializeBaseRequest",r,i,n.correlationId)(n,e,i,r);return{...n,...o,account:t,forceRefresh:n.forceRefresh||!1}}),nk.apply(this,arguments)}class ou extends Yj{initializeAuthorizationCodeRequest(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("standardInteractionClientInitializeAuthorizationCodeRequest",e.correlationId);const i=yield je(cde,"generatePkceCodes",e.logger,e.performanceClient,e.correlationId)(e.performanceClient,e.logger,e.correlationId),r={...t,redirectUri:t.redirectUri,code:De.EMPTY_STRING,codeVerifier:i.verifier};return t.codeChallenge=i.challenge,t.codeChallengeMethod=De.S256_CODE_CHALLENGE_METHOD,r})()}initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t?.correlationId);const e={correlationId:this.correlationId||ss(),...t};if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){const i=this.getLogoutHintFromIdTokenClaims(t.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),e.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return t&&null===t.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",e.correlationId):t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",e.correlationId),e.postLogoutRedirectUri=Xt.getAbsoluteUrl(t.postLogoutRedirectUri,Ws())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",e.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",e.correlationId),e.postLogoutRedirectUri=Xt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ws())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",e.correlationId),e.postLogoutRedirectUri=Xt.getAbsoluteUrl(Ws(),Ws())),e}getLogoutHintFromIdTokenClaims(t){const e=t.idTokenClaims;if(e){if(e.login_hint)return e.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("standardInteractionClientCreateAuthCodeClient",e.correlationId);const i=yield je(e.getClientConfiguration.bind(e),"standardInteractionClientGetClientConfiguration",e.logger,e.performanceClient,e.correlationId)(t);return new Gj(i,e.performanceClient)})()}getClientConfiguration(t){var e=this;return E(function*(){const{serverTelemetryManager:i,requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:s,account:a}=t;e.performanceClient.addQueueMeasurement("standardInteractionClientGetClientConfiguration",e.correlationId);const c=yield je(e.getDiscoveredAuthority.bind(e),"standardInteractionClientGetDiscoveredAuthority",e.logger,e.performanceClient,e.correlationId)({requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:s,account:a}),l=e.config.system.loggerOptions;return{authOptions:{clientId:e.config.auth.clientId,authority:c,clientCapabilities:e.config.auth.clientCapabilities,redirectUri:e.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:e.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:e.correlationId},cacheOptions:{claimsBasedCachingEnabled:e.config.cache.claimsBasedCachingEnabled},cryptoInterface:e.browserCrypto,networkInterface:e.networkClient,storageInterface:e.browserStorage,serverTelemetryManager:i,libraryInfo:{sku:"msal.js.browser",version:eu,cpu:De.EMPTY_STRING,os:De.EMPTY_STRING},telemetry:e.config.telemetry}})()}initializeAuthorizationRequest(t,e){var i=this;return E(function*(){i.performanceClient.addQueueMeasurement("standardInteractionClientInitializeAuthorizationRequest",i.correlationId);const r=i.getRedirectUri(t.redirectUri),s=jo.setRequestState(i.browserCrypto,t&&t.state||De.EMPTY_STRING,{interactionType:e}),c={...yield je(ek,"initializeBaseRequest",i.logger,i.performanceClient,i.correlationId)({...t,correlationId:i.correlationId},i.config,i.performanceClient,i.logger),redirectUri:r,state:s,nonce:t.nonce||ss(),responseMode:i.config.auth.OIDCOptions.serverResponseType};if(t.loginHint||t.sid)return c;const l=t.account||i.browserStorage.getActiveAccount(i.correlationId);if(l&&(i.logger.verbose("Setting validated request account",i.correlationId),i.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,i.correlationId),c.account=l),!c.loginHint&&!l){const d=i.browserStorage.getLegacyLoginHint();d&&(c.loginHint=d)}return c})()}}const Qj="user_switch",vde={[Qj]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class ls extends Hn{constructor(t,e,i){super(t,e),Object.setPrototypeOf(this,ls.prototype),this.name="NativeAuthError",this.ext=i}}function su(n){return!!(n.ext&&n.ext.status&&("PERSISTENT_ERROR"===n.ext.status||"DISABLED"===n.ext.status)||n.ext&&n.ext.error&&-2147186943===n.ext.error)||"ContentError"===n.errorCode}function ik(n,t,e){if(e&&e.status)switch(e.status){case"ACCOUNT_UNAVAILABLE":return qS(Qy);case"USER_INTERACTION_REQUIRED":return new Ho(n,t);case"USER_CANCEL":return ot($s);case"NO_NETWORK":return ot(Jd)}return new ls(n,vde[n]||t,e)}class rk extends YS{constructor(t,e){super(t,e)}acquireToken(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("refreshTokenClientAcquireToken",t.correlationId);const i=os(),r=yield je(e.executeTokenRequest.bind(e),"refreshTokenClientExecuteTokenRequest",e.logger,e.performanceClient,t.correlationId)(t,e.authority),o=r.headers?.["x-ms-request-id"],s=new al(e.config.authOptions.clientId,e.cacheManager,e.cryptoUtils,e.logger,e.config.serializableCache,e.config.persistencePlugin);return s.validateTokenResponse(r.body),je(s.handleServerTokenResponse.bind(s),"handleServerTokenResponse",e.logger,e.performanceClient,t.correlationId)(r.body,e.authority,i,t,void 0,void 0,!0,t.forceCache,o)})()}acquireTokenByRefreshToken(t){var e=this;return E(function*(){if(!t)throw Tn(ty);if(e.performanceClient?.addQueueMeasurement("refreshTokenClientAcquireTokenByRefreshToken",t.correlationId),!t.account)throw Pe(Rm);if(e.cacheManager.isAppMetadataFOCI(t.account.environment))try{return yield je(e.acquireTokenWithCachedRefreshToken.bind(e),"refreshTokenClientAcquireTokenWithCachedRefreshToken",e.logger,e.performanceClient,t.correlationId)(t,!0)}catch(r){if(r instanceof Ho&&r.errorCode===tu||r instanceof Ua&&"invalid_grant"===r.errorCode&&"client_mismatch"===r.subError)return je(e.acquireTokenWithCachedRefreshToken.bind(e),"refreshTokenClientAcquireTokenWithCachedRefreshToken",e.logger,e.performanceClient,t.correlationId)(t,!1);throw r}return je(e.acquireTokenWithCachedRefreshToken.bind(e),"refreshTokenClientAcquireTokenWithCachedRefreshToken",e.logger,e.performanceClient,t.correlationId)(t,!1)})()}acquireTokenWithCachedRefreshToken(t,e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("refreshTokenClientAcquireTokenWithCachedRefreshToken",t.correlationId);const r=ol(i.cacheManager.getRefreshToken.bind(i.cacheManager),"cacheManagerGetRefreshToken",i.logger,i.performanceClient,t.correlationId)(t.account,e,t.correlationId,void 0,i.performanceClient);if(!r)throw qS(tu);if(r.expiresOn&&oS(r.expiresOn,t.refreshTokenExpirationOffsetSeconds||300))throw qS(zS);const o={...t,refreshToken:r.secret,authenticationScheme:t.authenticationScheme||Dn.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:"home_account_id"}};try{return yield je(i.acquireToken.bind(i),"refreshTokenClientAcquireToken",i.logger,i.performanceClient,t.correlationId)(o)}catch(s){if(s instanceof Ho&&s.subError===nu){i.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=qd(r);i.cacheManager.removeRefreshToken(a,t.correlationId)}throw s}})()}executeTokenRequest(t,e){var i=this;return E(function*(){i.performanceClient?.addQueueMeasurement("refreshTokenClientExecuteTokenRequest",t.correlationId);const r=i.createTokenQueryParameters(t),o=Xt.appendQueryString(e.tokenEndpoint,r),s=yield je(i.createTokenRequestBody.bind(i),"refreshTokenClientCreateTokenRequestBody",i.logger,i.performanceClient,t.correlationId)(t),a=i.createTokenRequestHeaders(t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||i.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return je(i.executePostToTokenEndpoint.bind(i),"refreshTokenClientExecutePostToTokenEndpoint",i.logger,i.performanceClient,t.correlationId)(o,s,a,c,t.correlationId,"refreshTokenClientExecutePostToTokenEndpoint")})()}createTokenRequestBody(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("refreshTokenClientCreateTokenRequestBody",t.correlationId);const r=new Qm(t.correlationId,e.performanceClient);if(r.addClientId(t.embeddedClientId||t.tokenBodyParameters?.[sl]||e.config.authOptions.clientId),t.redirectUri&&r.addRedirectUri(t.redirectUri),r.addScopes(t.scopes,!0,e.config.authOptions.authority.options.OIDCOptions?.defaultScopes),r.addGrantType("refresh_token"),r.addClientInfo(),r.addLibraryInfo(e.config.libraryInfo),r.addApplicationTelemetry(e.config.telemetry.application),r.addThrottling(),e.serverTelemetryManager&&!bS(e.config)&&r.addServerTelemetry(e.serverTelemetryManager),r.addRefreshToken(t.refreshToken),e.config.clientCredentials.clientSecret&&r.addClientSecret(e.config.clientCredentials.clientSecret),e.config.clientCredentials.clientAssertion){const o=e.config.clientCredentials.clientAssertion;r.addClientAssertion(yield $j(o.assertion,e.config.authOptions.clientId,t.resourceRequestUri)),r.addClientAssertionType(o.assertionType)}if(t.authenticationScheme===Dn.POP){const o=new ru(e.cryptoUtils,e.performanceClient);let s;s=t.popKid?e.cryptoUtils.encodeKid(t.popKid):(yield je(o.generateCnf.bind(o),"popTokenGenerateCnf",e.logger,e.performanceClient,t.correlationId)(t,e.logger)).reqCnfString,r.addPopToken(s)}else if(t.authenticationScheme===Dn.SSH){if(!t.sshJwk)throw Tn($d);r.addSshJwk(t.sshJwk)}if((!Fo.isEmptyObj(t.claims)||e.config.authOptions.clientCapabilities&&e.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,e.config.authOptions.clientCapabilities),e.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case"home_account_id":try{const o=Gd(t.ccsCredential.credential);r.addCcsOid(o)}catch(o){e.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case"UPN":r.addCcsUpn(t.ccsCredential.credential)}return t.embeddedClientId&&r.addBrokerParameters({brokerClientId:e.config.authOptions.clientId,brokerRedirectUri:e.config.authOptions.redirectUri}),t.tokenBodyParameters&&r.addExtraQueryParameters(t.tokenBodyParameters),r.createQueryString()})()}}class wde extends YS{constructor(t,e){super(t,e)}acquireToken(t){var e=this;return E(function*(){try{const[i,r]=yield e.acquireCachedToken({...t,scopes:t.scopes?.length?t.scopes:[...Ud]});return"4"===r&&(e.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new rk(e.config,e.performanceClient).acquireTokenByRefreshToken(t).catch(()=>{})),i}catch(i){if(i instanceof $b&&i.errorCode===Lo)return new rk(e.config,e.performanceClient).acquireTokenByRefreshToken(t);throw i}})()}acquireCachedToken(t){var e=this;return E(function*(){e.performanceClient?.addQueueMeasurement("silentFlowClientAcquireCachedToken",t.correlationId);let i="0";if(t.forceRefresh||!e.config.cacheOptions.claimsBasedCachingEnabled&&!Fo.isEmptyObj(t.claims))throw e.setCacheOutcome("1",t.correlationId),Pe(Lo);if(!t.account)throw Pe(Rm);const r=t.account.tenantId||function Jce(n){const i=new Xt(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(i){case"common":case"organizations":case"consumers":return;default:return i}}(t.authority),o=e.cacheManager.getTokenKeys(),s=e.cacheManager.getAccessToken(t.account,t,o,r,e.performanceClient);if(!s)throw e.setCacheOutcome("2",t.correlationId),Pe(Lo);if(function zae(n){return Number(n)>os()}(s.cachedAt)||oS(s.expiresOn,e.config.systemOptions.tokenRenewalOffsetSeconds))throw e.setCacheOutcome("3",t.correlationId),Pe(Lo);s.refreshOn&&oS(s.refreshOn,0)&&(i="4");const a=t.authority||e.authority.getPreferredCache(),c={account:e.cacheManager.readAccountFromCache(t.account,t.correlationId),accessToken:s,idToken:e.cacheManager.getIdToken(t.account,t.correlationId,o,r,e.performanceClient),refreshToken:null,appMetadata:e.cacheManager.readAppMetadataFromCache(a)};return e.setCacheOutcome(i,t.correlationId),e.config.serverTelemetryManager&&e.config.serverTelemetryManager.incrementCacheHits(),[yield je(e.generateResultFromCacheRecord.bind(e),"silentFlowClientGenerateResultFromCacheRecord",e.logger,e.performanceClient,t.correlationId)(c,t),i]})()}setCacheOutcome(t,e){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},e),"0"!==t&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}generateResultFromCacheRecord(t,e){var i=this;return E(function*(){let r;if(i.performanceClient?.addQueueMeasurement("silentFlowClientGenerateResultFromCacheRecord",e.correlationId),t.idToken&&(r=tl(t.idToken.secret,i.config.cryptoInterface.base64Decode)),e.maxAge||0===e.maxAge){const o=r?.auth_time;if(!o)throw Pe(Im);QH(o,e.maxAge)}return al.generateAuthenticationResult(i.cryptoUtils,i.authority,t,!0,e,r)})()}}class Xj extends ou{acquireToken(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("silentCacheClientAcquireToken",t.correlationId);const i=e.initializeServerTelemetryManager(61),r=yield je(e.getClientConfiguration.bind(e),"standardInteractionClientGetClientConfiguration",e.logger,e.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),o=new wde(r,e.performanceClient);e.logger.verbose("Silent auth client created");try{const a=(yield je(o.acquireCachedToken.bind(o),"silentFlowClientAcquireCachedToken",e.logger,e.performanceClient,t.correlationId)(t))[0];return e.performanceClient.addFields({fromCache:!0},t.correlationId),a}catch(s){throw s instanceof Km&&s.errorCode===Gm&&e.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}})()}logout(t){this.logger.verbose("logoutRedirect called");const e=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(e?.account)}}class au extends Yj{constructor(t,e,i,r,o,s,a,c,l,d,u,h){super(t,e,i,r,o,s,c,l,h),this.apiId=a,this.accountId=d,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new Xj(t,this.nativeStorageManager,i,r,o,s,c,l,h),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const m="ppnbnpeolgkicgegkbkbjmhlideopiji"===this.nativeMessageHandler.getExtensionId()?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Xm.makeExtraSkuString({libraryName:"msal.js.browser",libraryVersion:eu,extensionName:m,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[ede]:this.skus}}acquireToken(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("nativeInteractionClientAcquireToken",t.correlationId),e.logger.trace("NativeInteractionClient - acquireToken called.");const i=e.performanceClient.startMeasurement("nativeInteractionClientAcquireToken",t.correlationId),r=os();try{const o=yield e.initializeNativeRequest(t);try{const d=yield e.acquireTokensFromCache(e.accountId,o);return i.end({success:!0,isNativeBroker:!1,fromCache:!0}),d}catch{e.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=o,a={method:"GetToken",request:s},c=yield e.nativeMessageHandler.sendMessage(a),l=e.validateNativeResponse(c);return yield e.handleNativeResponse(l,o,r).then(d=>(i.end({success:!0,isNativeBroker:!0,requestId:d.requestId}),e.serverTelemetryManager.clearNativeBrokerErrorCode(),d)).catch(d=>{throw i.end({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})}catch(o){throw o instanceof ls&&e.serverTelemetryManager.setNativeBrokerErrorCode(o.errorCode),o}})()}createSilentCacheRequest(t,e){return{authority:t.authority,correlationId:this.correlationId,scopes:ui.fromString(t.scope).asArray(),account:e,forceRefresh:!1}}acquireTokensFromCache(t,e){var i=this;return E(function*(){if(!t)throw i.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Pe(Pm);const r=i.browserStorage.getBaseAccountInfo({nativeAccountId:t},e.correlationId);if(!r)throw Pe(Pm);try{const o=i.createSilentCacheRequest(e,r),s=yield i.silentCacheClient.acquireToken(o),a={...r,idTokenClaims:s?.idTokenClaims,idToken:s?.idToken};return{...s,account:a}}catch(o){throw o}})()}acquireTokenRedirect(t,e){var i=this;return E(function*(){i.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=t;delete r.onRedirectNavigate;const o=yield i.initializeNativeRequest(r),s={method:"GetToken",request:o};try{const l=yield i.nativeMessageHandler.sendMessage(s);i.validateNativeResponse(l)}catch(l){if(l instanceof ls&&(i.serverTelemetryManager.setNativeBrokerErrorCode(l.errorCode),su(l)))throw l}i.browserStorage.setTemporaryCache("request.native",JSON.stringify(o),!0);const a={apiId:861,timeout:i.config.system.redirectNavigationTimeout,noHistory:!1},c=i.config.auth.navigateToLoginRequestUrl?window.location.href:i.getRedirectUri(t.redirectUri);e.end({success:!0}),yield i.navigationClient.navigateExternal(c,a)})()}handleRedirectPromise(t,e){var i=this;return E(function*(){if(i.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!i.browserStorage.isInteractionInProgress(!0))return i.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=i.browserStorage.getCachedNativeRequest();if(!r)return i.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&e&&t?.addFields({errorCode:"no_cached_request"},e),null;const{prompt:o,...s}=r;o&&i.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),i.browserStorage.removeItem(i.browserStorage.generateCacheKey("request.native"));const a={method:"GetToken",request:s},c=os();try{i.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=yield i.nativeMessageHandler.sendMessage(a);i.validateNativeResponse(l);const d=i.handleNativeResponse(l,s,c);i.browserStorage.setInteractionInProgress(!1);const u=yield d;return i.serverTelemetryManager.clearNativeBrokerErrorCode(),u}catch(l){throw i.browserStorage.setInteractionInProgress(!1),l}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(t,e,i){var r=this;return E(function*(){r.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=tl(t.id_token,as),s=r.createHomeAccountIdentifier(t,o),a=r.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e.accountId},r.correlationId)?.homeAccountId;if(s!==a&&t.account.id!==e.accountId)throw ik(Qj);const c=yield r.getDiscoveredAuthority({requestAuthority:e.authority}),l=QS(r.browserStorage,c,s,as,r.correlationId,o,t.client_info,void 0,o.tid,void 0,t.account.id,r.logger),d=yield r.generateAuthenticationResult(t,e,o,l,c.canonicalAuthority,i);return r.cacheAccount(l),r.cacheNativeTokens(t,e,s,o,t.access_token,d.tenantId,i),d})()}createHomeAccountIdentifier(t,e){return Ci.generateHomeAccountId(t.client_info||De.EMPTY_STRING,0,this.logger,this.browserCrypto,e)}generateScopes(t,e){return ui.fromString(t.scope?t.scope:e.scope)}generatePopAccessToken(t,e){var i=this;return E(function*(){if(e.tokenType===Dn.POP&&e.signPopToken){if(t.shr)return i.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;const r=new ru(i.browserCrypto),o={resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,shrNonce:e.shrNonce};if(!e.keyId)throw Pe(Fm);return r.signPopToken(t.access_token,e.keyId,o)}return t.access_token})()}generateAuthenticationResult(t,e,i,r,o,s){var a=this;return E(function*(){const c=a.addTelemetryFromNativeResponse(t),l=ui.fromString(t.scope?t.scope:e.scope),d=t.account.properties||{},u=d.UID||i.oid||i.sub||De.EMPTY_STRING,h=d.TenantId||i.tid||De.EMPTY_STRING,m=mS(r.getAccountInfo(),void 0,i,t.id_token);m.nativeAccountId!==t.account.id&&(m.nativeAccountId=t.account.id);const g=yield a.generatePopAccessToken(t,e),y=e.tokenType===Dn.POP?Dn.POP:Dn.BEARER;return{authority:o,uniqueId:u,tenantId:h,scopes:l.asArray(),account:m,idToken:t.id_token,idTokenClaims:i,accessToken:g,fromCache:!!c&&a.isResponseFromCache(c),expiresOn:new Date(1e3*Number(s+t.expires_in)),tokenType:y,correlationId:a.correlationId,state:t.state,fromNativeBroker:!0}})()}cacheAccount(t){this.browserStorage.setAccount(t,this.correlationId),this.browserStorage.removeAccountContext(t,this.correlationId).catch(e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)})}cacheNativeTokens(t,e,i,r,o,s,a){const c=Wb(i,e.authority,t.id_token||"",e.clientId,r.tid||""),d=a+(e.tokenType===Dn.POP?De.SHR_NONCE_VALIDITY:("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0),u=this.generateScopes(t,e),h=Kb(i,e.authority,o,e.clientId,r.tid||s,u.printScopes(),d,0,as,void 0,e.tokenType,void 0,e.keyId);this.nativeStorageManager.saveCacheRecord({idToken:c,accessToken:h},e.correlationId,e.storeInCache)}addTelemetryFromNativeResponse(t){const e=this.getMATSFromResponse(t);return e?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:e.broker_version,matsAccountJoinOnStart:e.account_join_on_start,matsAccountJoinOnEnd:e.account_join_on_end,matsDeviceJoin:e.device_join,matsPromptBehavior:e.prompt_behavior,matsApiErrorCode:e.api_error_code,matsUiVisible:e.ui_visible,matsSilentCode:e.silent_code,matsSilentBiSubCode:e.silent_bi_sub_code,matsSilentMessage:e.silent_message,matsSilentStatus:e.silent_status,matsHttpStatus:e.http_status,matsHttpEventCount:e.http_event_count},this.correlationId),e):null}validateNativeResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw KH(km,"Response missing expected properties.")}getMATSFromResponse(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}initializeNativeRequest(t){var e=this;return E(function*(){e.logger.trace("NativeInteractionClient - initializeNativeRequest called");const i=t.authority||e.config.auth.authority;t.account&&(yield e.getDiscoveredAuthority({requestAuthority:i,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}));const r=new Xt(i);r.validateAsUri();const{scopes:o,...s}=t,a=new ui(o||[]);a.appendScopes(Ud);const l={...s,accountId:e.accountId,clientId:e.config.auth.clientId,authority:r.urlString,scope:a.printScopes(),redirectUri:e.getRedirectUri(t.redirectUri),prompt:(()=>{switch(e.apiId){case 863:case 61:return e.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ri.NONE}if(t.prompt)switch(t.prompt){case Ri.NONE:case Ri.CONSENT:case Ri.LOGIN:return e.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw e.logger.trace(`initializeNativeRequest: prompt = ${t.prompt} is not compatible with native flow`),ot(Uy)}else e.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:e.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraQueryParameters,...t.tokenQueryParameters},extendedExpiryToken:!1,keyId:t.popKid};if(l.signPopToken&&t.popKid)throw ot(zy);if(e.handleExtraBrokerParams(l),l.extraParameters=l.extraParameters||{},l.extraParameters.telemetry="MATS",t.authenticationScheme===Dn.POP){const d={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},u=new ru(e.browserCrypto);let h;if(l.keyId)h=e.browserCrypto.base64UrlEncode(JSON.stringify({kid:l.keyId})),l.signPopToken=!1;else{const m=yield je(u.generateCnf.bind(u),"popTokenGenerateCnf",e.logger,e.performanceClient,t.correlationId)(d,e.logger);h=m.reqCnfString,l.keyId=m.kid,l.signPopToken=!0}l.reqCnf=h}return e.addRequestSKUs(l),l})()}handleExtraBrokerParams(t){const e=t.extraParameters&&t.extraParameters.hasOwnProperty(GS)&&t.extraParameters.hasOwnProperty(WS)&&t.extraParameters.hasOwnProperty(sl);if(!t.embeddedClientId&&!e)return;let i="";const r=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,i=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[WS],i=t.extraParameters[sl]),t.extraParameters={child_client_id:i,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:i,embeddedRedirectUri:r},t.correlationId)}}class ds{constructor(t,e,i,r){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=i,this.handshakeEvent=i.startMeasurement("nativeMessageHandlerHandshake")}sendMessage(t){var e=this;return E(function*(){e.logger.trace("NativeMessageHandler - sendMessage called.");const i={channel:Yd_CHANNEL_ID,extensionId:e.extensionId,responseId:ss(),body:t};return e.logger.trace("NativeMessageHandler - Sending request to browser extension"),e.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(i)}`),e.messageChannel.port1.postMessage(i),new Promise((r,o)=>{e.resolvers.set(i.responseId,{resolve:r,reject:o})})})()}static createProvider(t,e,i){return E(function*(){t.trace("NativeMessageHandler - createProvider called.");try{const r=new ds(t,e,i,"ppnbnpeolgkicgegkbkbjmhlideopiji");return yield r.sendHandshakeRequest(),r}catch{const o=new ds(t,e,i);return yield o.sendHandshakeRequest(),o}})()}sendHandshakeRequest(){var t=this;return E(function*(){t.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",t.windowListener,!1);const e={channel:Yd_CHANNEL_ID,extensionId:t.extensionId,responseId:ss(),body:{method:"Handshake"}};return t.handshakeEvent.add({extensionId:t.extensionId,extensionHandshakeTimeoutMs:t.handshakeTimeoutMs}),t.messageChannel.port1.onmessage=i=>{t.onChannelMessage(i)},window.postMessage(e,window.origin,[t.messageChannel.port2]),new Promise((i,r)=>{t.handshakeResolvers.set(e.responseId,{resolve:i,reject:r}),t.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),t.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ot(By)),t.handshakeResolvers.delete(e.responseId)},t.handshakeTimeoutMs)})})()}onWindowMessage(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source!==window)return;const e=t.data;if(e.channel&&e.channel===Yd_CHANNEL_ID&&(!e.extensionId||e.extensionId===this.extensionId)&&"Handshake"===e.body.method){const i=this.handshakeResolvers.get(e.responseId);if(!i)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${e.responseId}`);this.logger.verbose(e.extensionId?`Extension with id: ${e.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),i.reject(ot(Hy))}}onChannelMessage(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const e=t.data,i=this.resolvers.get(e.responseId),r=this.handshakeResolvers.get(e.responseId);try{const o=e.body.method;if("Response"===o){if(!i)return;const s=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),"Success"!==s.status)i.reject(ik(s.code,s.description,s.ext));else{if(!s.result)throw KH(km,"Event does not contain result.");s.result.code&&s.result.description?i.reject(ik(s.result.code,s.result.description,s.result.ext)):i.resolve(s.result)}this.resolvers.delete(e.responseId)}else if("HandshakeResponse"===o){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${e.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${t}`),i?i.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(t,e,i,r){if(e.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return e.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!i)return e.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case Dn.BEARER:case Dn.POP:return e.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class ok{constructor(t,e,i,r,o){this.authModule=t,this.browserStorage=e,this.authCodeRequest=i,this.logger=r,this.performanceClient=o}handleCodeResponse(t,e){var i=this;return E(function*(){let r;i.performanceClient.addQueueMeasurement("handleCodeResponse",e.correlationId);try{r=i.authModule.handleFragmentResponse(t,e.state)}catch(o){throw o instanceof Ua&&o.subError===$s?ot($s):o}return je(i.handleCodeResponseFromServer.bind(i),"handleCodeResponseFromServer",i.logger,i.performanceClient,e.correlationId)(r,e)})()}handleCodeResponseFromServer(t,e){var i=this;return E(function*(r,o,s=!0){if(i.performanceClient.addQueueMeasurement("handleCodeResponseFromServer",o.correlationId),i.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),i.authCodeRequest.code=r.code,r.cloud_instance_host_name&&(yield je(i.authModule.updateAuthority.bind(i.authModule),"updateTokenEndpointAuthority",i.logger,i.performanceClient,o.correlationId)(r.cloud_instance_host_name,o.correlationId)),s&&(r.nonce=o.nonce||void 0),r.state=o.state,r.client_info)i.authCodeRequest.clientInfo=r.client_info;else{const c=i.createCcsCredentials(o);c&&(i.authCodeRequest.ccsCredential=c)}return yield je(i.authModule.acquireToken.bind(i.authModule),"authClientAcquireToken",i.logger,i.performanceClient,o.correlationId)(i.authCodeRequest,r)}).apply(this,arguments)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:"home_account_id"}:t.loginHint?{credential:t.loginHint,type:"UPN"}:null}}function Zj(n,t,e){const i=hy(n);if(!i)throw rj(n)?(e.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),e.errorPii(`The ${t} detected is: ${n}`),ot(by)):(e.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),ot(_y));return i}class xde extends ou{constructor(t,e,i,r,o,s,a,c,l,d){super(t,e,i,r,o,s,a,l,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(t){try{const i={popupName:this.generatePopupName(t.scopes||Ud,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,i)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(t,i))}catch(e){return Promise.reject(e)}}logout(t){try{this.logger.verbose("logoutPopup called");const e=this.initializeLogoutRequest(t),i={popupName:this.generateLogoutPopupName(e),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},r=t&&t.authority,o=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(e,i,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),i.popup=this.openSizedPopup("about:blank",i),this.logoutPopupAsync(e,i,r,o))}catch(e){return Promise.reject(e)}}acquireTokenPopupAsync(t,e){var i=this;return E(function*(){i.logger.verbose("acquireTokenPopupAsync called");const r=i.initializeServerTelemetryManager(862),o=yield je(i.initializeAuthorizationRequest.bind(i),"standardInteractionClientInitializeAuthorizationRequest",i.logger,i.performanceClient,i.correlationId)(t,ct.Popup);Tj(o.authority);try{const s=yield je(i.initializeAuthorizationCodeRequest.bind(i),"standardInteractionClientInitializeAuthorizationCodeRequest",i.logger,i.performanceClient,i.correlationId)(o),a=yield je(i.createAuthCodeClient.bind(i),"standardInteractionClientCreateAuthCodeClient",i.logger,i.performanceClient,i.correlationId)({serverTelemetryManager:r,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),c=ds.isNativeAvailable(i.config,i.logger,i.nativeMessageHandler,t.authenticationScheme);let l;c&&(l=i.performanceClient.startMeasurement("fetchAccountIdWithNativeBroker",t.correlationId));const d=yield a.getAuthCodeUrl({...o,nativeBroker:c}),u=new ok(a,i.browserStorage,s,i.logger,i.performanceClient),h=i.initiateAuthRequest(d,e);i.eventHandler.emitEvent("msal:popupOpened",ct.Popup,{popupWindow:h},null);const m=yield i.monitorPopupForHash(h,e.popupWindowParent),g=ol(Zj,"deserializeResponse",i.logger,i.performanceClient,i.correlationId)(m,i.config.auth.OIDCOptions.serverResponseType,i.logger);if(cs.removeThrottle(i.browserStorage,i.config.auth.clientId,s),g.accountId){if(i.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.end({success:!0,isNativeBroker:!0}),!i.nativeMessageHandler)throw ot(rl);const v=new au(i.config,i.browserStorage,i.browserCrypto,i.logger,i.eventHandler,i.navigationClient,862,i.performanceClient,i.nativeMessageHandler,g.accountId,i.nativeStorage,o.correlationId),{userRequestState:F}=jo.parseRequestState(i.browserCrypto,o.state);return yield v.acquireToken({...o,state:F,prompt:void 0})}return yield u.handleCodeResponse(g,o)}catch(s){throw e.popup?.close(),s instanceof Hn&&(s.setCorrelationId(i.correlationId),r.cacheFailedRequest(s)),s}})()}logoutPopupAsync(t,e,i,r){var o=this;return E(function*(){o.logger.verbose("logoutPopupAsync called"),o.eventHandler.emitEvent("msal:logoutStart",ct.Popup,t);const s=o.initializeServerTelemetryManager(962);try{yield o.clearCacheOnLogout(t.account);const c=(yield je(o.createAuthCodeClient.bind(o),"standardInteractionClientCreateAuthCodeClient",o.logger,o.performanceClient,o.correlationId)({serverTelemetryManager:s,requestAuthority:i,account:t.account||void 0})).getLogoutUri(t);o.eventHandler.emitEvent("msal:logoutSuccess",ct.Popup,t);const l=o.openPopup(c,e);if(o.eventHandler.emitEvent("msal:popupOpened",ct.Popup,{popupWindow:l},null),yield o.monitorPopupForHash(l,e.popupWindowParent).catch(()=>{}),r){const d={apiId:962,timeout:o.config.system.redirectNavigationTimeout,noHistory:!1},u=Xt.getAbsoluteUrl(r,Ws());o.logger.verbose("Redirecting main window to url specified in the request"),o.logger.verbosePii(`Redirecting main window to: ${u}`),yield o.navigationClient.navigateInternal(u,d)}else o.logger.verbose("No main window navigation requested")}catch(a){throw e.popup?.close(),a instanceof Hn&&(a.setCorrelationId(o.correlationId),s.cacheFailedRequest(a)),o.browserStorage.setInteractionInProgress(!1),o.eventHandler.emitEvent("msal:logoutFailure",ct.Popup,null,a),o.eventHandler.emitEvent("msal:logoutEnd",ct.Popup),a}o.eventHandler.emitEvent("msal:logoutEnd",ct.Popup)})()}initiateAuthRequest(t,e){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,e);throw this.logger.error("Navigate url is empty"),ot(Qd)}monitorPopupForHash(t,e){return new Promise((i,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(t.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),void r(ot($s));let s="";try{s=t.location.href}catch{}if(!s||"about:blank"===s)return;clearInterval(o);let a="";t&&(a=this.config.auth.OIDCOptions.serverResponseType===xm.QUERY?t.location.search:t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,e)})}openPopup(t,e){try{let i;if(e.popup?(i=e.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),i.location.assign(t)):typeof e.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),i=this.openSizedPopup(t,e)),!i)throw ot(Dy);return i.focus&&i.focus(),this.currentWindow=i,e.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),i}catch(i){throw this.logger.error("error opening popup "+i.message),this.browserStorage.setInteractionInProgress(!1),ot(wy)}}openSizedPopup(t,{popupName:e,popupWindowAttributes:i,popupWindowParent:r}){const o=r.screenLeft?r.screenLeft:r.screenX,s=r.screenTop?r.screenTop:r.screenY,a=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=i.popupSize?.width,d=i.popupSize?.height,u=i.popupPosition?.top,h=i.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=483),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=600),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,c/2-300+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-241.5+o)),r.open(t,e,`width=${l}, height=${d}, top=${u}, left=${h}, scrollbars=yes`)}unloadWindow(t){this.browserStorage.cleanRequestByInteractionType(ct.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,e){t.close(),e.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(t,e){return`msal.${this.config.auth.clientId}.${t.join("-")}.${e}.${this.correlationId}`}generateLogoutPopupName(t){return`msal.${this.config.auth.clientId}.${t.account&&t.account.homeAccountId}.${this.correlationId}`}}class Jj{constructor(t,e,i,r,o){this.authModule=t,this.browserStorage=e,this.authCodeRequest=i,this.logger=r,this.performanceClient=o}initiateAuthRequest(t,e){var i=this;return E(function*(){if(i.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){e.redirectStartPage&&(i.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),i.browserStorage.setTemporaryCache("request.origin",e.redirectStartPage,!0)),i.browserStorage.setTemporaryCache("request.correlationId",i.authCodeRequest.correlationId,!0),i.browserStorage.cacheCodeRequest(i.authCodeRequest),i.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);const r={apiId:861,timeout:e.redirectTimeout,noHistory:!1};return"function"==typeof e.onRedirectNavigate?(i.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==e.onRedirectNavigate(t)?(i.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield e.navigationClient.navigateExternal(t,r))):void i.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(i.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield e.navigationClient.navigateExternal(t,r)))}throw i.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ot(Qd)})()}handleCodeResponse(t,e){var i=this;return E(function*(){i.logger.verbose("RedirectHandler.handleCodeResponse called"),i.browserStorage.setInteractionInProgress(!1);const r=i.browserStorage.generateStateKey(e),o=i.browserStorage.getTemporaryCache(r);if(!o)throw Pe(zd,"Cached State");let s;try{s=i.authModule.handleFragmentResponse(t,o)}catch(d){throw d instanceof Ua&&d.subError===$s?ot($s):d}const a=i.browserStorage.generateNonceKey(o),c=i.browserStorage.getTemporaryCache(a);if(i.authCodeRequest.code=s.code,s.cloud_instance_host_name&&(yield je(i.authModule.updateAuthority.bind(i.authModule),"updateTokenEndpointAuthority",i.logger,i.performanceClient,i.authCodeRequest.correlationId)(s.cloud_instance_host_name,i.authCodeRequest.correlationId)),s.nonce=c||void 0,s.state=o,s.client_info)i.authCodeRequest.clientInfo=s.client_info;else{const d=i.checkCcsCredentials();d&&(i.authCodeRequest.ccsCredential=d)}const l=yield i.authModule.acquireToken(i.authCodeRequest,s);return i.browserStorage.cleanRequestByState(e),l})()}checkCcsCredentials(){const t=this.browserStorage.getTemporaryCache("ccs.credential",!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${t}`)}return null}}class Sde extends ou{constructor(t,e,i,r,o,s,a,c,l,d){super(t,e,i,r,o,s,a,l,d),this.nativeStorage=c}acquireToken(t){var e=this;return E(function*(){const i=yield je(e.initializeAuthorizationRequest.bind(e),"standardInteractionClientInitializeAuthorizationRequest",e.logger,e.performanceClient,e.correlationId)(t,ct.Redirect);e.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||"",i.account||null);const r=e.initializeServerTelemetryManager(861),o=s=>{s.persisted&&(e.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),e.browserStorage.cleanRequestByState(i.state),e.eventHandler.emitEvent("msal:restoreFromBFCache",ct.Redirect))};try{const s=yield je(e.initializeAuthorizationCodeRequest.bind(e),"standardInteractionClientInitializeAuthorizationCodeRequest",e.logger,e.performanceClient,e.correlationId)(i),a=yield je(e.createAuthCodeClient.bind(e),"standardInteractionClientCreateAuthCodeClient",e.logger,e.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),c=new Jj(a,e.browserStorage,s,e.logger,e.performanceClient),l=yield a.getAuthCodeUrl({...i,nativeBroker:ds.isNativeAvailable(e.config,e.logger,e.nativeMessageHandler,t.authenticationScheme)}),d=e.getRedirectStartPage(t.redirectStartPage);return e.logger.verbosePii(`Redirect start page: ${d}`),window.addEventListener("pageshow",o),yield c.initiateAuthRequest(l,{navigationClient:e.navigationClient,redirectTimeout:e.config.system.redirectNavigationTimeout,redirectStartPage:d,onRedirectNavigate:t.onRedirectNavigate||e.config.auth.onRedirectNavigate})}catch(s){throw s instanceof Hn&&(s.setCorrelationId(e.correlationId),r.cacheFailedRequest(s)),window.removeEventListener("pageshow",o),e.browserStorage.cleanRequestByState(i.state),s}})()}handleRedirectPromise(){var t=this;return E(function*(e="",i){const r=t.initializeServerTelemetryManager(865);try{if(!t.browserStorage.isInteractionInProgress(!0))return t.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[o,s]=t.getRedirectResponse(e||"");if(!o)return t.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),t.browserStorage.cleanRequestByInteractionType(ct.Redirect),"back_forward"!==function Ede(){if(typeof window>"u"||typeof window.performance>"u"||"function"!=typeof window.performance.getEntriesByType)return;const n=window.performance.getEntriesByType("navigation");return(n.length?n[0]:void 0)?.type}()?i.event.errorCode="no_server_response":t.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=t.browserStorage.getTemporaryCache("request.origin",!0)||De.EMPTY_STRING;if(Xt.removeHashFromUrl(a)===Xt.removeHashFromUrl(window.location.href)&&t.config.auth.navigateToLoginRequestUrl)return t.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function Rce(n){const t=n.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a),yield t.handleResponse(o,r);if(!t.config.auth.navigateToLoginRequestUrl)return t.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield t.handleResponse(o,r);if(!Yy()||t.config.system.allowRedirectInIframe){t.browserStorage.setTemporaryCache("urlHash",s,!0);const d={apiId:865,timeout:t.config.system.redirectNavigationTimeout,noHistory:!0};let u=!0;if(a&&"null"!==a)t.logger.verbose(`Navigating to loginRequestUrl: ${a}`),u=yield t.navigationClient.navigateInternal(a,d);else{const h=function Pce(){const t=new Xt(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}();t.browserStorage.setTemporaryCache("request.origin",h,!0),t.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=yield t.navigationClient.navigateInternal(h,d)}if(!u)return yield t.handleResponse(o,r)}return null}catch(o){throw o instanceof Hn&&(o.setCorrelationId(t.correlationId),r.cacheFailedRequest(o)),t.browserStorage.cleanRequestByInteractionType(ct.Redirect),o}}).apply(this,arguments)}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let e=t;e||(e=this.config.auth.OIDCOptions.serverResponseType===xm.QUERY?window.location.search:window.location.hash);let i=hy(e);if(i){try{!function Dde(n,t,e){if(!n.state)throw ot(zm);const i=Bj(t,n.state);if(!i)throw ot(yy);if(i.interactionType!==e)throw ot(vy)}(i,this.browserCrypto,ct.Redirect)}catch(o){return o instanceof Hn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return function Mce(n){n.location.hash="","function"==typeof n.history.replaceState&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}(window),this.logger.verbose("Hash contains known properties, returning response hash"),[i,e]}const r=this.browserStorage.getTemporaryCache("urlHash",!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey("urlHash")),r&&(i=hy(r),i)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[i,r]):[null,""]}handleResponse(t,e){var i=this;return E(function*(){const r=t.state;if(!r)throw ot(zm);const o=i.browserStorage.getCachedRequest(r);if(i.logger.verbose("handleResponse called, retrieved cached request"),t.accountId){if(i.logger.verbose("Account id found in hash, calling WAM for token"),!i.nativeMessageHandler)throw ot(rl);const l=new au(i.config,i.browserStorage,i.browserCrypto,i.logger,i.eventHandler,i.navigationClient,862,i.performanceClient,i.nativeMessageHandler,t.accountId,i.nativeStorage,o.correlationId),{userRequestState:d}=jo.parseRequestState(i.browserCrypto,r);return l.acquireToken({...o,state:d,prompt:void 0}).finally(()=>{i.browserStorage.cleanRequestByState(r)})}const s=i.browserStorage.getCachedAuthority(r);if(!s)throw ot(qm);const a=yield je(i.createAuthCodeClient.bind(i),"standardInteractionClientCreateAuthCodeClient",i.logger,i.performanceClient,i.correlationId)({serverTelemetryManager:e,requestAuthority:s});return cs.removeThrottle(i.browserStorage,i.config.auth.clientId,o),new Jj(a,i.browserStorage,o,i.logger,i.performanceClient).handleCodeResponse(t,r)})()}logout(t){var e=this;return E(function*(){e.logger.verbose("logoutRedirect called");const i=e.initializeLogoutRequest(t),r=e.initializeServerTelemetryManager(961);try{e.eventHandler.emitEvent("msal:logoutStart",ct.Redirect,t),yield e.clearCacheOnLogout(i.account);const o={apiId:961,timeout:e.config.system.redirectNavigationTimeout,noHistory:!1},a=(yield je(e.createAuthCodeClient.bind(e),"standardInteractionClientCreateAuthCodeClient",e.logger,e.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0})).getLogoutUri(i);if(e.eventHandler.emitEvent("msal:logoutSuccess",ct.Redirect,i),!t||"function"!=typeof t.onRedirectNavigate)return e.browserStorage.getInteractionInProgress()||e.browserStorage.setInteractionInProgress(!0),void(yield e.navigationClient.navigateExternal(a,o));if(!1!==t.onRedirectNavigate(a))return e.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),e.browserStorage.getInteractionInProgress()||e.browserStorage.setInteractionInProgress(!0),void(yield e.navigationClient.navigateExternal(a,o));e.browserStorage.setInteractionInProgress(!1),e.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(o){throw o instanceof Hn&&(o.setCorrelationId(e.correlationId),r.cacheFailedRequest(o)),e.eventHandler.emitEvent("msal:logoutFailure",ct.Redirect,null,o),e.eventHandler.emitEvent("msal:logoutEnd",ct.Redirect),o}e.eventHandler.emitEvent("msal:logoutEnd",ct.Redirect)})()}getRedirectStartPage(t){const e=t||window.location.href;return Xt.getAbsoluteUrl(e,Ws())}}function kde(n,t,e,i,r){return sk.apply(this,arguments)}function sk(){return sk=E(function*(n,t,e,i,r){if(t.addQueueMeasurement("silentHandlerInitiateAuthRequest",i),!n)throw e.info("Navigate url is empty"),ot(Qd);return r?je(Tde,"silentHandlerLoadFrame",e,t,i)(n,r,t,i):ol(Ide,"silentHandlerLoadFrameSync",e,t,i)(n)}),sk.apply(this,arguments)}function Ade(n,t,e,i,r,o,s){return ak.apply(this,arguments)}function ak(){return ak=E(function*(n,t,e,i,r,o,s){return i.addQueueMeasurement("silentHandlerMonitorIframeForHash",o),new Promise((a,c)=>{t<1e4&&r.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const l=window.setTimeout(()=>{window.clearInterval(d),c(ot(xy))},t),d=window.setInterval(()=>{let u="";const h=n.contentWindow;try{u=h?h.location.href:""}catch{}if(!u||"about:blank"===u)return;let m="";h&&(m=s===xm.QUERY?h.location.search:h.location.hash),window.clearTimeout(l),window.clearInterval(d),a(m)},e)}).finally(()=>{ol(Mde,"removeHiddenIframe",r,i,o)(n)})}),ak.apply(this,arguments)}function Tde(n,t,e,i){return e.addQueueMeasurement("silentHandlerLoadFrame",i),new Promise((r,o)=>{const s=eU();window.setTimeout(()=>{s?(s.src=n,r(s)):o("Unable to load iframe")},t)})}function Ide(n){const t=eU();return t.src=n,t}function eU(){const n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function Mde(n){document.body===n.parentNode&&document.body.removeChild(n)}class Rde extends ou{constructor(t,e,i,r,o,s,a,c,l,d,u){super(t,e,i,r,o,s,c,d,u),this.apiId=a,this.nativeStorage=l}acquireToken(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("silentIframeClientAcquireToken",t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&e.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const i={...t};i.prompt?i.prompt!==Ri.NONE&&i.prompt!==Ri.NO_SESSION&&(e.logger.warning(`SilentIframeClient. Replacing invalid prompt ${i.prompt} with ${Ri.NONE}`),i.prompt=Ri.NONE):i.prompt=Ri.NONE;const r=yield je(e.initializeAuthorizationRequest.bind(e),"standardInteractionClientInitializeAuthorizationRequest",e.logger,e.performanceClient,t.correlationId)(i,ct.Silent);Tj(r.authority);const o=e.initializeServerTelemetryManager(e.apiId);let s;try{return s=yield je(e.createAuthCodeClient.bind(e),"standardInteractionClientCreateAuthCodeClient",e.logger,e.performanceClient,t.correlationId)({serverTelemetryManager:o,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),yield je(e.silentTokenHelper.bind(e),"silentIframeClientTokenHelper",e.logger,e.performanceClient,t.correlationId)(s,r)}catch(a){if(a instanceof Hn&&(a.setCorrelationId(e.correlationId),o.cacheFailedRequest(a)),!(s&&a instanceof Hn&&"invalid_grant"===a.errorCode))throw a;e.performanceClient.addFields({retryError:a.errorCode},e.correlationId);const c=yield je(e.initializeAuthorizationRequest.bind(e),"standardInteractionClientInitializeAuthorizationRequest",e.logger,e.performanceClient,t.correlationId)(i,ct.Silent);return yield je(e.silentTokenHelper.bind(e),"silentIframeClientTokenHelper",e.logger,e.performanceClient,e.correlationId)(s,c)}})()}logout(){return Promise.reject(ot(Xd))}silentTokenHelper(t,e){var i=this;return E(function*(){const r=e.correlationId;i.performanceClient.addQueueMeasurement("silentIframeClientTokenHelper",r);const o=yield je(i.initializeAuthorizationCodeRequest.bind(i),"standardInteractionClientInitializeAuthorizationCodeRequest",i.logger,i.performanceClient,r)(e),s=yield je(t.getAuthCodeUrl.bind(t),"getAuthCodeUrl",i.logger,i.performanceClient,r)({...e,nativeBroker:ds.isNativeAvailable(i.config,i.logger,i.nativeMessageHandler,e.authenticationScheme)}),a=new ok(t,i.browserStorage,o,i.logger,i.performanceClient),c=yield je(kde,"silentHandlerInitiateAuthRequest",i.logger,i.performanceClient,r)(s,i.performanceClient,i.logger,r,i.config.system.navigateFrameWait),l=i.config.auth.OIDCOptions.serverResponseType,d=yield je(Ade,"silentHandlerMonitorIframeForHash",i.logger,i.performanceClient,r)(c,i.config.system.iframeHashTimeout,i.config.system.pollIntervalMilliseconds,i.performanceClient,i.logger,r,l),u=ol(Zj,"deserializeResponse",i.logger,i.performanceClient,i.correlationId)(d,l,i.logger);if(u.accountId){if(i.logger.verbose("Account id found in hash, calling WAM for token"),!i.nativeMessageHandler)throw ot(rl);const h=new au(i.config,i.browserStorage,i.browserCrypto,i.logger,i.eventHandler,i.navigationClient,i.apiId,i.performanceClient,i.nativeMessageHandler,u.accountId,i.browserStorage,r),{userRequestState:m}=jo.parseRequestState(i.browserCrypto,e.state);return je(h.acquireToken.bind(h),"nativeInteractionClientAcquireToken",i.logger,i.performanceClient,r)({...e,state:m,prompt:e.prompt||Ri.NONE})}return je(a.handleCodeResponse.bind(a),"handleCodeResponse",i.logger,i.performanceClient,r)(u,e)})()}}class Ode extends ou{acquireToken(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("silentRefreshClientAcquireToken",t.correlationId);const i=yield je(ek,"initializeBaseRequest",e.logger,e.performanceClient,t.correlationId)(t,e.config,e.performanceClient,e.logger),r={...t,...i};t.redirectUri&&(r.redirectUri=e.getRedirectUri(t.redirectUri));const o=e.initializeServerTelemetryManager(61),s=yield e.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return je(s.acquireTokenByRefreshToken.bind(s),"refreshTokenClientAcquireTokenByRefreshToken",e.logger,e.performanceClient,t.correlationId)(r).catch(a=>{throw a.setCorrelationId(e.correlationId),o.cacheFailedRequest(a),a})})()}logout(){return Promise.reject(ot(Xd))}createRefreshTokenClient(t){var e=this;return E(function*(){const i=yield je(e.getClientConfiguration.bind(e),"standardInteractionClientGetClientConfiguration",e.logger,e.performanceClient,e.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new rk(i,e.performanceClient)})()}}class Pde{constructor(t,e,i,r){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=i,this.cryptoObj=r}loadExternalTokens(t,e,i){if(!this.isBrowserEnvironment)throw ot(Zd);const r=t.correlationId||ss(),o=e.id_token?tl(e.id_token,as):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=t.authority?new tr(tr.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,t.correlationId||ss()):void 0,c=this.loadAccount(t,i.clientInfo||e.client_info||"",r,o,a),l=this.loadIdToken(e,c.homeAccountId,c.environment,c.realm,r),d=this.loadAccessToken(t,e,c.homeAccountId,c.environment,c.realm,i,r),u=this.loadRefreshToken(e,c.homeAccountId,c.environment,r);return this.generateAuthenticationResult(t,{account:c,idToken:l,accessToken:d,refreshToken:u},o,a)}loadAccount(t,e,i,r,o){if(this.logger.verbose("TokenCache - loading account"),t.account){const l=Ci.createFromAccountInfo(t.account);return this.storage.setAccount(l,i),l}if(!o||!e&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ot(Oy);const s=Ci.generateHomeAccountId(e,o.authorityType,this.logger,this.cryptoObj,r),a=r?.tid,c=QS(this.storage,o,s,as,i,r,e,o.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(c,i),c}loadIdToken(t,e,i,r,o){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=Wb(e,i,t.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(s,o),s}loadAccessToken(t,e,i,r,o,s,a){if(!e.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!e.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!(e.scope||t.scopes&&t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const c=e.scope?ui.fromString(e.scope):new ui(t.scopes),l=s.expiresOn||e.expires_in+(new Date).getTime()/1e3,d=s.extendedExpiresOn||(e.ext_expires_in||e.expires_in)+(new Date).getTime()/1e3,u=Kb(i,r,e.access_token,this.config.auth.clientId,o,c.printScopes(),l,d,as);return this.storage.setAccessTokenCredential(u,a),u}loadRefreshToken(t,e,i,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=XH(e,i,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(t,e,i,r){let c,o="",s=[],a=null;e?.accessToken&&(o=e.accessToken.secret,s=ui.fromString(e.accessToken.target).asArray(),a=new Date(1e3*Number(e.accessToken.expiresOn)),c=new Date(1e3*Number(e.accessToken.extendedExpiresOn)));const l=e.account;return{authority:r?r.canonicalAuthority:"",uniqueId:e.account.localAccountId,tenantId:e.account.realm,scopes:s,account:l.getAccountInfo(),idToken:e.idToken?.secret||"",idTokenClaims:i||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:t.correlationId||"",requestId:"",extExpiresOn:c,familyId:e.refreshToken?.familyId||"",tokenType:e?.accessToken?.tokenType||"",state:t.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class Nde extends Gj{constructor(t){super(t),this.includeRedirectUri=!1}}class Lde extends ou{constructor(t,e,i,r,o,s,a,c,l,d){super(t,e,i,r,o,s,c,l,d),this.apiId=a}acquireToken(t){var e=this;return E(function*(){if(!t.code)throw ot(Py);const i=yield je(e.initializeAuthorizationRequest.bind(e),"standardInteractionClientInitializeAuthorizationRequest",e.logger,e.performanceClient,t.correlationId)(t,ct.Silent),r=e.initializeServerTelemetryManager(e.apiId);try{const o={...i,code:t.code},s=yield je(e.getClientConfiguration.bind(e),"standardInteractionClientGetClientConfiguration",e.logger,e.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),a=new Nde(s);e.logger.verbose("Auth code client created");const c=new ok(a,e.browserStorage,o,e.logger,e.performanceClient);return yield je(c.handleCodeResponseFromServer.bind(c),"handleCodeResponseFromServer",e.logger,e.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},i,!1)}catch(o){throw o instanceof Hn&&(o.setCorrelationId(e.correlationId),r.cacheFailedRequest(o)),o}})()}logout(){return Promise.reject(ot(Xd))}}function us(n){const t=n?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Zy(n,t){try{FS(n)}catch(e){throw t.end({success:!1},e),e}}class Jy{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Kce(this.logger,this.performanceClient):Gb,this.eventHandler=new ble(this.logger),this.browserStorage=this.isBrowserEnvironment?new $S(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function ele(n){const t=n.cloudDiscoveryMetadata;let e;if(t)try{e=JSON.parse(t)}catch{throw Tn(jm)}return{canonicalAuthority:n.authority?Nj(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:e}}(this.config.auth),this.performanceClient):(()=>new $S(this.config.auth.clientId,{cacheLocation:"memoryStorage",temporaryCacheLocation:"memoryStorage",storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Gb,this.logger))(),this.nativeInternalStorage=new $S(this.config.auth.clientId,{cacheLocation:"memoryStorage",temporaryCacheLocation:"memoryStorage",storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Pde(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static createController(t,e){return E(function*(){const i=new Jy(t);return yield i.initialize(e),i})()}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}initialize(t){var e=this;return E(function*(){if(e.logger.trace("initialize called"),e.initialized)return void e.logger.info("initialize has already been called, exiting early.");if(!e.isBrowserEnvironment)return e.logger.info("in non-browser environment, exiting early."),e.initialized=!0,void e.eventHandler.emitEvent("msal:initializeEnd");const i=t?.correlationId||e.getRequestCorrelationId(),r=e.config.system.allowNativeBroker,o=e.performanceClient.startMeasurement("initializeClientApplication",i);if(e.eventHandler.emitEvent("msal:initializeStart"),r)try{e.nativeExtensionProvider=yield ds.createProvider(e.logger,e.config.system.nativeBrokerHandshakeTimeout,e.performanceClient)}catch(s){e.logger.verbose(s)}e.config.cache.claimsBasedCachingEnabled||(e.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield je(e.browserStorage.clearTokensAndKeysWithClaims.bind(e.browserStorage),"clearTokensAndKeysWithClaims",e.logger,e.performanceClient,i)(e.performanceClient,i)),e.initialized=!0,e.eventHandler.emitEvent("msal:initializeEnd"),o.end({allowNativeBroker:r,success:!0})})()}handleRedirectPromise(t){var e=this;return E(function*(){if(e.logger.verbose("handleRedirectPromise called"),kj(e.initialized),e.isBrowserEnvironment){const i=t||"";let r=e.redirectResponse.get(i);return typeof r>"u"?(r=e.handleRedirectPromiseInternal(t),e.redirectResponse.set(i,r),e.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):e.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return e.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}handleRedirectPromiseInternal(t){var e=this;return E(function*(){const i=e.getAllAccounts(),r=e.browserStorage.getCachedNativeRequest(),o=r&&ds.isNativeAvailable(e.config,e.logger,e.nativeExtensionProvider)&&e.nativeExtensionProvider&&!t,s=o?r?.correlationId:e.browserStorage.getTemporaryCache("request.correlationId",!0)||"",a=e.performanceClient.startMeasurement("acquireTokenRedirect",s);let c;if(e.eventHandler.emitEvent("msal:handleRedirectStart",ct.Redirect),o&&e.nativeExtensionProvider){e.logger.trace("handleRedirectPromise - acquiring token from native platform");const l=new au(e.config,e.browserStorage,e.browserCrypto,e.logger,e.eventHandler,e.navigationClient,865,e.performanceClient,e.nativeExtensionProvider,r.accountId,e.nativeInternalStorage,r.correlationId);c=je(l.handleRedirectPromise.bind(l),"handleNativeRedirectPromise",e.logger,e.performanceClient,a.event.correlationId)(e.performanceClient,a.event.correlationId)}else{e.logger.trace("handleRedirectPromise - acquiring token from web flow");const l=e.createRedirectClient(s);c=je(l.handleRedirectPromise.bind(l),"handleRedirectPromise",e.logger,e.performanceClient,a.event.correlationId)(t,a)}return c.then(l=>(l?(i.length<e.getAllAccounts().length?(e.eventHandler.emitEvent("msal:loginSuccess",ct.Redirect,l),e.logger.verbose("handleRedirectResponse returned result, login success")):(e.eventHandler.emitEvent("msal:acquireTokenSuccess",ct.Redirect,l),e.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:us(l.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),e.eventHandler.emitEvent("msal:handleRedirectEnd",ct.Redirect),l)).catch(l=>{const d=l;throw e.eventHandler.emitEvent(i.length>0?"msal:acquireTokenFailure":"msal:loginFailure",ct.Redirect,null,d),e.eventHandler.emitEvent("msal:handleRedirectEnd",ct.Redirect),a.end({success:!1},d),l})})()}acquireTokenRedirect(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t);e.logger.verbose("acquireTokenRedirect called",i);const r=e.performanceClient.startMeasurement("acquireTokenPreRedirect",i);r.add({accountType:us(t.account),scenarioId:t.scenarioId});const o=t.onRedirectNavigate;if(o)t.onRedirectNavigate=a=>{const c="function"==typeof o?o(a):void 0;return!1!==c?r.end({success:!0}):r.discard(),c};else{const a=e.config.auth.onRedirectNavigate;e.config.auth.onRedirectNavigate=c=>{const l="function"==typeof a?a(c):void 0;return!1!==l?r.end({success:!0}):r.discard(),l}}const s=e.getAllAccounts().length>0;try{let a;return Aj(e.initialized,e.config),e.browserStorage.setInteractionInProgress(!0),e.eventHandler.emitEvent(s?"msal:acquireTokenStart":"msal:loginStart",ct.Redirect,t),a=e.nativeExtensionProvider&&e.canUseNative(t)?new au(e.config,e.browserStorage,e.browserCrypto,e.logger,e.eventHandler,e.navigationClient,861,e.performanceClient,e.nativeExtensionProvider,e.getNativeAccountId(t),e.nativeInternalStorage,i).acquireTokenRedirect(t,r).catch(l=>{if(l instanceof ls&&su(l))return e.nativeExtensionProvider=void 0,e.createRedirectClient(i).acquireToken(t);if(l instanceof Ho)return e.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),e.createRedirectClient(i).acquireToken(t);throw e.browserStorage.setInteractionInProgress(!1),l}):e.createRedirectClient(i).acquireToken(t),yield a}catch(a){throw r.end({success:!1},a),e.eventHandler.emitEvent(s?"msal:acquireTokenFailure":"msal:loginFailure",ct.Redirect,null,a),a}})()}acquireTokenPopup(t){const e=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement("acquireTokenPopup",e);i.add({scenarioId:t.scenarioId,accountType:us(t.account)});try{this.logger.verbose("acquireTokenPopup called",e),Zy(this.initialized,i),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const r=this.getAllAccounts();let o;return this.eventHandler.emitEvent(r.length>0?"msal:acquireTokenStart":"msal:loginStart",ct.Popup,t),o=this.canUseNative(t)?this.acquireTokenNative({...t,correlationId:e},862).then(s=>(this.browserStorage.setInteractionInProgress(!1),i.end({success:!0,isNativeBroker:!0,accountType:us(s.account)}),s)).catch(s=>{if(s instanceof ls&&su(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(e).acquireToken(t);if(s instanceof Ho)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(e).acquireToken(t);throw this.browserStorage.setInteractionInProgress(!1),s}):this.createPopupClient(e).acquireToken(t),o.then(s=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent("msal:loginSuccess",ct.Popup,s):this.eventHandler.emitEvent("msal:acquireTokenSuccess",ct.Popup,s),i.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:us(s.account)}),s)).catch(s=>(this.eventHandler.emitEvent(r.length>0?"msal:acquireTokenFailure":"msal:loginFailure",ct.Popup,null,s),i.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}ssoSilent(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t),r={...t,prompt:t.prompt,correlationId:i};let o;return e.ssoSilentMeasurement=e.performanceClient.startMeasurement("ssoSilent",i),e.ssoSilentMeasurement?.add({scenarioId:t.scenarioId,accountType:us(t.account)}),Zy(e.initialized,e.ssoSilentMeasurement),e.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",e.trackPageVisibilityWithMeasurement),e.logger.verbose("ssoSilent called",i),e.eventHandler.emitEvent("msal:ssoSilentStart",ct.Silent,r),o=e.canUseNative(r)?e.acquireTokenNative(r,863).catch(s=>{if(s instanceof ls&&su(s))return e.nativeExtensionProvider=void 0,e.createSilentIframeClient(r.correlationId).acquireToken(r);throw s}):e.createSilentIframeClient(r.correlationId).acquireToken(r),o.then(s=>(e.eventHandler.emitEvent("msal:ssoSilentSuccess",ct.Silent,s),e.ssoSilentMeasurement?.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:us(s.account)}),s)).catch(s=>{throw e.eventHandler.emitEvent("msal:ssoSilentFailure",ct.Silent,null,s),e.ssoSilentMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",e.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t);e.logger.trace("acquireTokenByCode called",i);const r=e.performanceClient.startMeasurement("acquireTokenByCode",i);Zy(e.initialized,r),e.eventHandler.emitEvent("msal:acquireTokenByCodeStart",ct.Silent,t),r.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw ot(Ly);if(t.code){const o=t.code;let s=e.hybridAuthCodeResponses.get(o);return s?(e.logger.verbose("Existing acquireTokenByCode request found",i),r.discard()):(e.logger.verbose("Initiating new acquireTokenByCode request",i),s=e.acquireTokenByCodeAsync({...t,correlationId:i}).then(a=>(e.eventHandler.emitEvent("msal:acquireTokenByCodeSuccess",ct.Silent,a),e.hybridAuthCodeResponses.delete(o),r.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:us(a.account)}),a)).catch(a=>{throw e.hybridAuthCodeResponses.delete(o),e.eventHandler.emitEvent("msal:acquireTokenByCodeFailure",ct.Silent,null,a),r.end({success:!1},a),a}),e.hybridAuthCodeResponses.set(o,s)),yield s}if(t.nativeAccountId){if(e.canUseNative(t,t.nativeAccountId)){const o=yield e.acquireTokenNative({...t,correlationId:i},866,t.nativeAccountId).catch(s=>{throw s instanceof ls&&su(s)&&(e.nativeExtensionProvider=void 0),s});return r.end({accountType:us(o.account),success:!0}),o}throw ot(Fy)}throw ot(Ny)}catch(o){throw e.eventHandler.emitEvent("msal:acquireTokenByCodeFailure",ct.Silent,null,o),r.end({success:!1},o),o}})()}acquireTokenByCodeAsync(t){var e=this;return E(function*(){return e.logger.trace("acquireTokenByCodeAsync called",t.correlationId),e.acquireTokenByCodeAsyncMeasurement=e.performanceClient.startMeasurement("acquireTokenByCodeAsync",t.correlationId),e.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",e.trackPageVisibilityWithMeasurement),yield e.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(o=>(e.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o)).catch(o=>{throw e.acquireTokenByCodeAsyncMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",e.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(t,e){var i=this;return E(function*(){switch(i.performanceClient.addQueueMeasurement("acquireTokenFromCache",t.correlationId),e){case 0:case 1:case 2:const r=i.createSilentCacheClient(t.correlationId);return je(r.acquireToken.bind(r),"silentCacheClientAcquireToken",i.logger,i.performanceClient,t.correlationId)(t);default:throw Pe(Lo)}})()}acquireTokenByRefreshToken(t,e){var i=this;return E(function*(){switch(i.performanceClient.addQueueMeasurement("acquireTokenByRefreshToken",t.correlationId),e){case 0:case 2:case 3:case 4:const r=i.createSilentRefreshClient(t.correlationId);return je(r.acquireToken.bind(r),"silentRefreshClientAcquireToken",i.logger,i.performanceClient,t.correlationId)(t);default:throw Pe(Lo)}})()}acquireTokenBySilentIframe(t){var e=this;return E(function*(){e.performanceClient.addQueueMeasurement("acquireTokenBySilentIframe",t.correlationId);const i=e.createSilentIframeClient(t.correlationId);return je(i.acquireToken.bind(i),"silentIframeClientAcquireToken",e.logger,e.performanceClient,t.correlationId)(t)})()}logout(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t);return e.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",i),e.logoutRedirect({correlationId:i,...t})})()}logoutRedirect(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t);return Aj(e.initialized,e.config),e.browserStorage.setInteractionInProgress(!0),e.createRedirectClient(i).logout(t)})()}logoutPopup(t){try{const e=this.getRequestCorrelationId(t);return FS(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(e).logout(t)}catch(e){return Promise.reject(e)}}clearCache(t){var e=this;return E(function*(){if(!e.isBrowserEnvironment)return void e.logger.info("in non-browser environment, returning early.");const i=e.getRequestCorrelationId(t);return e.createSilentCacheClient(i).logout(t)})()}getAllAccounts(t){const e=this.getRequestCorrelationId();return function ule(n,t,e,i,r){return n.verbose("getAllAccounts called"),e?t.getAllAccounts(i,r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e,t)}getAccount(t){const e=this.getRequestCorrelationId();return function hle(n,t,e,i){if(t.trace("getAccount called"),0===Object.keys(n).length)return t.warning("getAccount: No accountFilter provided"),null;const r=e.getAccountInfoFilteredBy(n,i);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(t,this.logger,this.browserStorage,e)}getAccountByUsername(t){const e=this.getRequestCorrelationId();return function mle(n,t,e,i){if(t.trace("getAccountByUsername called"),!n)return t.warning("getAccountByUsername: No username provided"),null;const r=e.getAccountInfoFilteredBy({username:n},i);return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(t,this.logger,this.browserStorage,e)}getAccountByHomeId(t){const e=this.getRequestCorrelationId();return function ple(n,t,e,i){if(t.trace("getAccountByHomeId called"),!n)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=e.getAccountInfoFilteredBy({homeAccountId:n},i);return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(t,this.logger,this.browserStorage,e)}getAccountByLocalId(t){const e=this.getRequestCorrelationId();return function fle(n,t,e,i){if(t.trace("getAccountByLocalId called"),!n)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=e.getAccountInfoFilteredBy({localAccountId:n},i);return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(t,this.logger,this.browserStorage,e)}setActiveAccount(t){const e=this.getRequestCorrelationId();!function gle(n,t,e){t.setActiveAccount(n,e)}(t,this.browserStorage,e)}getActiveAccount(){const t=this.getRequestCorrelationId();return function _le(n,t){return n.getActiveAccount(t)}(this.browserStorage,t)}hydrateCache(t,e){var i=this;return E(function*(){i.logger.verbose("hydrateCache called");const r=Ci.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return i.browserStorage.setAccount(r,t.correlationId),t.fromNativeBroker?(i.logger.verbose("Response was from native broker, storing in-memory"),i.nativeInternalStorage.hydrateCache(t,e)):i.browserStorage.hydrateCache(t,e)})()}acquireTokenNative(t,e,i){var r=this;return E(function*(){if(r.logger.trace("acquireTokenNative called"),!r.nativeExtensionProvider)throw ot(rl);return new au(r.config,r.browserStorage,r.browserCrypto,r.logger,r.eventHandler,r.navigationClient,e,r.performanceClient,r.nativeExtensionProvider,i||r.getNativeAccountId(t),r.nativeInternalStorage,t.correlationId).acquireToken(t)})()}canUseNative(t,e){if(this.logger.trace("canUseNative called"),!ds.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case Ri.NONE:case Ri.CONSENT:case Ri.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${t.prompt} is not compatible with native flow, returning false`),!1}return!(!e&&!this.getNativeAccountId(t)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))}getNativeAccountId(t){const e=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return e&&e.nativeAccountId||""}createPopupClient(t){return new xde(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createRedirectClient(t){return new Sde(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentIframeClient(t){return new Rde(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,863,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentCacheClient(t){return new Xj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentRefreshClient(t){return new Ode(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentAuthCodeClient(t){return new Lde(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,866,this.performanceClient,this.nativeExtensionProvider,t)}addEventCallback(t,e){return this.eventHandler.addEventCallback(t,e)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return Sj(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(t){try{t.key?.includes(Mi.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent("msal:activeAccountChanged");const e=t.newValue||t.oldValue;if(!e)return;const i=JSON.parse(e);if("object"!=typeof i||!Ci.isAccountEntity(i))return;const o=Kd.toObject(new Ci,i).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent("msal:accountAdded",void 0,o)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent("msal:accountRemoved",void 0,o))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,e){this.browserStorage.setWrapperMetadata(t,e)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?ss():De.EMPTY_STRING}loginRedirect(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t);return e.logger.verbose("loginRedirect called",i),e.acquireTokenRedirect({correlationId:i,...t||mj})})()}loginPopup(t){const e=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",e),this.acquireTokenPopup({correlationId:e,...t||mj})}acquireTokenSilent(t){var e=this;return E(function*(){const i=e.getRequestCorrelationId(t),r=e.performanceClient.startMeasurement("acquireTokenSilent",i);r.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),Zy(e.initialized,r),e.logger.verbose("acquireTokenSilent called",i);const o=t.account||e.getActiveAccount();if(!o)throw ot(Ay);r.add({accountType:us(o)});const a=JSON.stringify({clientId:e.config.auth.clientId,authority:t.authority||De.EMPTY_STRING,scopes:t.scopes,homeAccountIdentifier:o.homeAccountId,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,shrOptions:t.shrOptions}),c=e.activeSilentTokenRequests.get(a);if(typeof c>"u"){e.logger.verbose("acquireTokenSilent called for the first time, storing active request",i);const l=je(e.acquireTokenSilentAsync.bind(e),"acquireTokenSilentAsync",e.logger,e.performanceClient,i)({...t,correlationId:i},o).then(d=>(e.activeSilentTokenRequests.delete(a),r.end({success:!0,fromCache:d.fromCache,isNativeBroker:d.fromNativeBroker,cacheLookupPolicy:t.cacheLookupPolicy,accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length}),d)).catch(d=>{throw e.activeSilentTokenRequests.delete(a),r.end({success:!1},d),d});return e.activeSilentTokenRequests.set(a,l),{...yield l,state:t.state}}return e.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",i),r.discard(),{...yield c,state:t.state}})()}acquireTokenSilentAsync(t,e){var i=this;return E(function*(){const r=()=>i.trackPageVisibility(t.correlationId);i.performanceClient.addQueueMeasurement("acquireTokenSilentAsync",t.correlationId),i.eventHandler.emitEvent("msal:acquireTokenStart",ct.Silent,t),t.correlationId&&i.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",r);const o=yield je(ude,"initializeSilentRequest",i.logger,i.performanceClient,t.correlationId)(t,e,i.config,i.performanceClient,i.logger),s=t.cacheLookupPolicy||0;return i.acquireTokenSilentNoIframe(o,s).catch(function(){var c=E(function*(l){if(function Fde(n,t){const r=!(n instanceof Ho&&n.subError!==nu)&&("invalid_grant"===n.errorCode||n.errorCode===Lo)||n.errorCode===tu||n.errorCode===zS,o=bce.includes(t);return r&&o}(l,s)){if(i.activeIframeRequest){if(5!==s){const[u,h]=i.activeIframeRequest;i.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${h}`,o.correlationId);const m=i.performanceClient.startMeasurement("awaitConcurrentIframe",o.correlationId);m.add({awaitIframeCorrelationId:h});const g=yield u;if(m.end({success:g}),g)return i.logger.verbose(`Parallel iframe request with correlationId: ${h} succeeded. Retrying cache and/or RT redemption`,o.correlationId),i.acquireTokenSilentNoIframe(o,s);throw i.logger.info(`Iframe request with correlationId: ${h} failed. Interaction is required.`),l}return i.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),je(i.acquireTokenBySilentIframe.bind(i),"acquireTokenBySilentIframe",i.logger,i.performanceClient,o.correlationId)(o)}{let u;return i.activeIframeRequest=[new Promise(h=>{u=h}),o.correlationId],i.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),je(i.acquireTokenBySilentIframe.bind(i),"acquireTokenBySilentIframe",i.logger,i.performanceClient,o.correlationId)(o).then(h=>(u(!0),h)).catch(h=>{throw u(!1),h}).finally(()=>{i.activeIframeRequest=void 0})}}throw l});return function(l){return c.apply(this,arguments)}}()).then(c=>(i.eventHandler.emitEvent("msal:acquireTokenSuccess",ct.Silent,c),t.correlationId&&i.performanceClient.addFields({fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker},t.correlationId),c)).catch(c=>{throw i.eventHandler.emitEvent("msal:acquireTokenFailure",ct.Silent,null,c),c}).finally(()=>{document.removeEventListener("visibilitychange",r)})})()}acquireTokenSilentNoIframe(t,e){var i=this;return E(function*(){return ds.isNativeAvailable(i.config,i.logger,i.nativeExtensionProvider,t.authenticationScheme)&&t.account.nativeAccountId?(i.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),i.acquireTokenNative(t,61).catch(function(){var r=E(function*(o){throw o instanceof ls&&su(o)?(i.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),i.nativeExtensionProvider=void 0,Pe(Lo)):o});return function(o){return r.apply(this,arguments)}}())):(i.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),je(i.acquireTokenFromCache.bind(i),"acquireTokenFromCache",i.logger,i.performanceClient,t.correlationId)(t,e).catch(r=>{if(1===e)throw r;return i.eventHandler.emitEvent("msal:acquireTokenFromNetworkStart",ct.Silent,t),je(i.acquireTokenByRefreshToken.bind(i),"acquireTokenByRefreshToken",i.logger,i.performanceClient,t.correlationId)(t,e)}))})()}}function ck(){return ck=E(function*(n,t){const e=new Ij(n);return yield e.initialize(),Jy.createController(e,t)}),ck.apply(this,arguments)}class cu{static createPublicClientApplication(t){return E(function*(){const e=yield function Bde(n,t){return ck.apply(this,arguments)}(t);return new cu(t,e)})()}constructor(t,e){this.controller=e||new Jy(new Ij(t))}initialize(t){var e=this;return E(function*(){return e.controller.initialize(t)})()}acquireTokenPopup(t){var e=this;return E(function*(){return e.controller.acquireTokenPopup(t)})()}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,e){return this.controller.addEventCallback(t,e)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,e){return this.controller.initializeWrapperLibrary(t,e)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(t,e){var i=this;return E(function*(){return i.controller.hydrateCache(t,e)})()}clearCache(t){return this.controller.clearCache(t)}}const hk={scopes:["user.read","Mail.Read","Mail.Read.Shared","Mail.ReadBasic","Mail.ReadBasic.shared","Mail.ReadWrite","Mail.ReadWrite.Shared","Calendars.ReadWrite","Calendars.ReadBasic","Calendars.Read"]};class jde{}class Ude{static getInteractionStatusFromEvent(t,e){switch(t.eventType){case"msal:loginStart":return"login";case"msal:ssoSilentStart":return"ssoSilent";case"msal:acquireTokenStart":if(t.interactionType===ct.Redirect||t.interactionType===ct.Popup)return"acquireToken";break;case"msal:handleRedirectStart":return"handleRedirect";case"msal:logoutStart":return"logout";case"msal:ssoSilentSuccess":case"msal:ssoSilentFailure":if(e&&"ssoSilent"!==e)break;return"none";case"msal:logoutEnd":if(e&&"logout"!==e)break;return"none";case"msal:handleRedirectEnd":if(e&&"handleRedirect"!==e)break;return"none";case"msal:loginSuccess":case"msal:loginFailure":case"msal:acquireTokenSuccess":case"msal:acquireTokenFailure":case"msal:restoreFromBFCache":if(t.interactionType===ct.Redirect||t.interactionType===ct.Popup){if(e&&"login"!==e&&"acquireToken"!==e)break;return"none"}}return null}}function cl(n){return Gn((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Nn(e,void 0,void 0,s=>{o=gr(n(s,cl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}const mk=Yv(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function tU(n,t){const e=dn(n)?n:()=>n,i=r=>r.error(e());return new ie(t?r=>t.schedule(i,0,r):i)}function zde(n=qde){return Gn((t,e)=>{let i=!1;t.subscribe(Nn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function qde(){return new mk}function ll(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gn((r,o)=>n(r,o,i)):Qa,On(1),e?function Vde(n){return Gn((t,e)=>{let i=!1;t.subscribe(Nn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}(t):zde(()=>new mk))}function wi(n,t,e){const i=dn(n)||t||e?{next:n,error:t,complete:e}:n;return i?Gn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Nn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Qa}function nU(n){return n<=0?()=>Pr:Gn((t,e)=>{let i=[];t.subscribe(Nn(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}let $de=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(J(Ut))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):J(Yde),r},providedIn:"root"})}return n})(),Yde=(()=>{class n extends Zm{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Fi.NONE:return i;case Fi.HTML:return Ko(i,"HTML")?Vr(i):p1(this._doc,String(i)).toString();case Fi.STYLE:return Ko(i,"Style")?Vr(i):i;case Fi.SCRIPT:if(Ko(i,"Script"))return Vr(i);throw new re(5200,!1);case Fi.URL:return Ko(i,"URL")?Vr(i):Vf(String(i));case Fi.RESOURCE_URL:if(Ko(i,"ResourceURL"))return Vr(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(e){return function D6(n){return new _6(n)}(e)}bypassSecurityTrustStyle(e){return function x6(n){return new b6(n)}(e)}bypassSecurityTrustScript(e){return function E6(n){return new y6(n)}(e)}bypassSecurityTrustUrl(e){return function S6(n){return new v6(n)}(e)}bypassSecurityTrustResourceUrl(e){return function k6(n){return new C6(n)}(e)}static \u0275fac=function(i){return new(i||n)(J(Ut))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pt="primary",ep=Symbol("RouteTitle");class Qde{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lu(n){return new Qde(n)}function Xde(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(":"===s[0])r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ev(n){return new Promise((t,e)=>{n.pipe(ll()).subscribe({next:i=>t(i),error:i=>e(i)})})}function hs(n,t){const e=n?pk(n):void 0,i=t?pk(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!oU(n[r],t[r]))return!1;return!0}function pk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oU(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function sU(n){return n.length>0?n[n.length-1]:null}function za(n){return qr(n)?n:Dh(n)?Vt(Promise.resolve(n)):We(n)}function aU(n){return qr(n)?ev(n):Promise.resolve(n)}const Jde={exact:function dU(n,t,e){if(!dl(n.segments,t.segments)||!tv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!dU(n.children[i],t.children[i],e))return!1;return!0},subset:uU},cU={exact:function eue(n,t){return hs(n,t)},subset:function tue(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>oU(n[e],t[e]))},ignored:()=>!0};function lU(n,t,e){return Jde[e.paths](n.root,t.root,e.matrixParams)&&cU[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function uU(n,t,e){return hU(n,t,t.segments,e)}function hU(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!dl(r,e)||t.hasChildren()||!tv(r,e,i))}if(n.segments.length===e.length){if(!dl(n.segments,e)||!tv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!uU(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(dl(n.segments,r)&&tv(n.segments,r,i)&&n.children[pt])&&hU(n.children[pt],t,o,i)}}function tv(n,t,e){return t.every((i,r)=>cU[e](n[r].parameters,i.parameters))}class ms{root;queryParams;fragment;_queryParamMap;constructor(t=new yn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=lu(this.queryParams),this._queryParamMap}toString(){return rue.serialize(this)}}class yn{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iv(this)}}class tp{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=lu(this.parameters),this._parameterMap}toString(){return fU(this)}}function dl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let fk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>new nv,providedIn:"root"})}return n})();class nv{parse(t){const e=new fue(t);return new ms(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${np(t.root,!0)}`,i=function aue(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${rv(e)}=${rv(r)}`).join("&"):`${rv(e)}=${rv(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function oue(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const rue=new nv;function iv(n){return n.segments.map(t=>fU(t)).join("/")}function np(n,t){if(!n.hasChildren())return iv(n);if(t){const e=n.children[pt]?np(n.children[pt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==pt&&i.push(`${r}:${np(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function iue(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===pt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==pt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===pt?[np(n.children[pt],!1)]:[`${r}:${np(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${iv(n)}/${e[0]}`:`${iv(n)}/(${e.join("//")})`}}function mU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rv(n){return mU(n).replace(/%3B/gi,";")}function gk(n){return mU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ov(n){return decodeURIComponent(n)}function pU(n){return ov(n.replace(/\+/g,"%20"))}function fU(n){return`${gk(n.path)}${function sue(n){return Object.entries(n).map(([t,e])=>`;${gk(t)}=${gk(e)}`).join("")}(n.parameters)}`}const cue=/^[^\/()?;#]+/;function _k(n){const t=n.match(cue);return t?t[0]:""}const lue=/^[^\/()?;=#]+/,uue=/^[^=?&#]+/,mue=/^[^&#]+/;class fue{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pt]=new yn(t,e)),i}parseSegment(){const t=_k(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(t),new tp(ov(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function due(n){const t=n.match(lue);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=_k(this.remaining);r&&(i=r,this.capture(i))}t[ov(e)]=ov(i)}parseQueryParam(t){const e=function hue(n){const t=n.match(uue);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function pue(n){const t=n.match(mue);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=pU(e),o=pU(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_k(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new re(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pt);const s=this.parseChildren();e[o??pt]=1===Object.keys(s).length&&s[pt]?s[pt]:new yn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new re(4011,!1)}}function gU(n){return n.segments.length>0?new yn([],{[pt]:n}):n}function _U(n){const t={};for(const[i,r]of Object.entries(n.children)){const o=_U(r);if(i===pt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function gue(n){if(1===n.numberOfChildren&&n.children[pt]){const t=n.children[pt];return new yn(n.segments.concat(t.segments),t.children)}return n}(new yn(n.segments,t))}function ip(n){return n instanceof ms}function yU(n){let t;const r=gU(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new yn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function vU(n,t,e,i,r){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return bk(o,o,o,e,i,r);const s=function _ue(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DU(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new DU(e,t,i)}(t);if(s.toRoot())return bk(o,o,new yn([],{}),e,i,r);const a=function bue(n,t,e){if(n.isAbsolute)return new av(t,!0,0);if(!e)return new av(t,!1,NaN);if(null===e.parent)return new av(e,!0,0);const i=sv(n.commands[0])?0:1;return function yue(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new re(4005,!1);r=i.segments.length}return new av(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,o,n),c=a.processChildren?op(a.segmentGroup,a.index,s.commands):xU(a.segmentGroup,a.index,s.commands);return bk(o,a.segmentGroup,c,e,i,r)}function sv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rp(n){return"object"==typeof n&&null!=n&&n.outlets}function CU(n,t,e){n||="\u0275";const i=new ms;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function bk(n,t,e,i,r,o){const s={};for(const[l,d]of Object.entries(i??{}))s[l]=Array.isArray(d)?d.map(u=>CU(l,u,o)):CU(l,d,o);let a;a=n===t?e:wU(n,t,e);const c=gU(_U(a));return new ms(c,s,r)}function wU(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:wU(o,t,e)}),new yn(n.segments,i)}class DU{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&sv(i[0]))throw new re(4003,!1);const r=i.find(rp);if(r&&r!==sU(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class av{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function xU(n,t,e){if(n??=new yn([],{}),0===n.segments.length&&n.hasChildren())return op(n,t,e);const i=function Cue(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(rp(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!SU(c,l,s))return o;i+=2}else{if(!SU(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new yn(n.segments.slice(0,i.pathIndex),{});return o.children[pt]=new yn(n.segments.slice(i.pathIndex),n.children),op(o,0,r)}return i.match&&0===r.length?new yn(n.segments,{}):i.match&&!n.hasChildren()?yk(n,t,e):i.match?op(n,0,r):yk(n,t,e)}function op(n,t,e){if(0===e.length)return new yn(n.segments,{});{const i=function vue(n){return rp(n[0])?n[0].outlets:{[pt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==pt)&&n.children[pt]&&1===n.numberOfChildren&&0===n.children[pt].segments.length){const o=op(n.children[pt],t,e);return new yn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=xU(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new yn(n.segments,r)}}function yk(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(rp(o)){const c=wue(o.outlets);return new yn(i,c)}if(0===r&&sv(e[0])){i.push(new tp(n.segments[t].path,EU(e[0]))),r++;continue}const s=rp(o)?o.outlets[pt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&sv(a)?(i.push(new tp(s,EU(a))),r+=2):(i.push(new tp(s,{})),r++)}return new yn(i,{})}function wue(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=yk(new yn([],{}),0,i))}),t}function EU(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function SU(n,t,e){return n==e.path&&hs(t,e.parameters)}const cv="imperative";var Zt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Zt||{});class ps{id;url;constructor(t,e){this.id=t,this.url=e}}class vk extends ps{type=Zt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sp extends ps{urlAfterRedirects;type=Zt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var yr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(yr||{}),Ck=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ck||{});class ul extends ps{reason;code;type=Zt.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ap extends ps{reason;code;type=Zt.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}}class wk extends ps{error;target;type=Zt.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kU extends ps{urlAfterRedirects;state;type=Zt.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Due extends ps{urlAfterRedirects;state;type=Zt.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xue extends ps{urlAfterRedirects;state;shouldActivate;type=Zt.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eue extends ps{urlAfterRedirects;state;type=Zt.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sue extends ps{urlAfterRedirects;state;type=Zt.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kue{route;type=Zt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aue{route;type=Zt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tue{snapshot;type=Zt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iue{snapshot;type=Zt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mue{snapshot;type=Zt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rue{snapshot;type=Zt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dk{}class lv{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function vr(n){return n.outlet||pt}function AU(n,t){const e=n.filter(i=>vr(i)===t);return e.push(...n.filter(i=>vr(i)!==t)),e}function du(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Bue{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return du(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new dv(this.rootInjector)}}let dv=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Bue(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(J(hi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TU{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xk(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=xk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ek(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ek(t,this._root).map(e=>e.value)}}function xk(n,t){if(n===t.value)return t;for(const e of t.children){const i=xk(n,e);if(i)return i}return null}function Ek(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ek(n,e);if(i.length)return i.unshift(t),i}return[]}class Oi{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class IU extends TU{snapshot;constructor(t,e){super(t),this.snapshot=e,Ak(this,t)}toString(){return this.snapshot.toString()}}function MU(n){const t=function Hue(n){const o=new hl([],{},{},"",{},pt,n,null,{});return new kk("",new Oi(o,[]))}(n),e=new yi([new tp("",{})]),i=new yi({}),r=new yi({}),o=new yi({}),s=new yi(""),a=new Sk(e,i,o,s,r,pt,n,t.root);return a.snapshot=t.root,new IU(new Oi(a,[]),t)}class Sk{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(It(l=>l[ep]))??We(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(It(t=>lu(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(It(t=>lu(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hu(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&OU(r)&&(i.resolve[ep]=r.title),i}class hl{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ep]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kk extends TU{url;constructor(t,e){super(e),this.url=t,Ak(this,e)}toString(){return RU(this._root)}}function Ak(n,t){t.value._routerState=n,t.children.forEach(e=>Ak(n,e))}function RU(n){const t=n.children.length>0?` { ${n.children.map(RU).join(", ")} } `:"";return`${n.value}${t}`}function Tk(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,hs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),hs(t.params,e.params)||n.paramsSubject.next(e.params),function Zde(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!hs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),hs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ik(n,t){const e=hs(n.params,t.params)&&function nue(n,t){return dl(n,t)&&n.every((e,i)=>hs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ik(n.parent,t.parent))}function OU(n){return"string"==typeof n.title||null===n.title}const jue=new Z("");let Uue=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pt;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=qX();parentContexts=p(dv);location=p(Un);changeDetector=p(qt);inputBinder=p(Mk,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Vue(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wn]})}return n})();class Vue{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Sk?this.route:t===dv?this.childContexts:t===jue?this.outletData:this.parent.get(t,e)}}const Mk=new Z("");let zue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){1&i&&ve(0,"router-outlet")},dependencies:[Uue],encapsulation:2})}return n})();function Rk(n){const t=n.children&&n.children.map(Rk),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=zue),e}function cp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function $ue(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cp(n,i,r);return cp(n,i)})}(n,t,e);return new Oi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cp(n,a)),s}}const i=function Gue(n){return new Sk(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>cp(n,o));return new Oi(i,r)}}class Ok{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const PU="ngNavigationCancelingError";function uv(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ip(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Pk(!1,yr.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Pk(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[PU]=!0,e.cancellationCode=t,e}function NU(n){return!!n&&n[PU]}class Yue{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Tk(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=uu(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=uu(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=uu(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=uu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Rue(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Iue(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Tk(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tk(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}}class LU{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hv{component;route;constructor(t,e){this.component=t,this.route=e}}function Que(n,t,e){const i=n._root;return lp(i,t?t._root:null,e,[i.value])}function mu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function c8(n){return null!==Up(n)}(n)?t.get(n):n:i}function lp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=uu(t);return n.children.forEach(s=>{(function Zue(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Jue(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!dl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!dl(n.url,t.url)||!hs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ik(n,t)||!hs(n.queryParams,t.queryParams);default:return!Ik(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new LU(i)):(o.data=s.data,o._resolvedData=s._resolvedData),lp(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new hv(a.outlet.component,s))}else s&&dp(t,a,r),r.canActivateChecks.push(new LU(i)),lp(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dp(a,e.getContext(s),r)),r}function dp(n,t,e){const i=uu(n),r=n.value;Object.entries(i).forEach(([o,s])=>{dp(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new hv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function up(n){return"function"==typeof n}function Nk(n){return n instanceof mk||"EmptyError"===n?.name}const mv=Symbol("INITIAL_VALUE");function pu(){return _i(n=>fm(n.map(t=>t.pipe(On(1),Ii(mv)))).pipe(It(t=>{for(const e of t)if(!0!==e){if(e===mv)return mv;if(!1===e||she(e))return e}return!0}),gn(t=>t!==mv),On(1)))}function she(n){return ip(n)||n instanceof Ok}function FU(n){return n.aborted?We(void 0).pipe(On(1)):new ie(t=>{const e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function BU(n){return $t(FU(n))}function jU(n){return function Y4(...n){return _T(n)}(wi(t=>{if("boolean"!=typeof t)throw uv(0,t)}),It(t=>!0===t))}let ml=class H4 extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,H4.prototype)}},Lk=class j4 extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,j4.prototype)}};function ghe(n){throw new re(4e3,!1)}let bhe=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return E(function*(){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return i;if(r.numberOfChildren>1||!r.children[pt])throw ghe();r=r.children[pt]}})()}applyRedirectCommands(t,e,i,r,o){var s=this;return E(function*(){const a=yield function yhe(n,t,e){if("string"==typeof n)return Promise.resolve(n);const i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:u}=t;return ev(za(jr(e,()=>i({params:l,data:d,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:u}))))}(e,r,o);if(a instanceof ms)throw new Lk(a);const c=s.applyRedirectCreateUrlTree(a,s.urlSerializer.parse(a),t,i);if("/"===a[0])throw new Lk(c);return c})()}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ms(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new yn(o,s)}createSegments(t,e,i,r){return e.map(o=>":"===o.path[0]?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};const Fk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UU(n,t,e,i,r,o){const s=Bk(n,t,e);return s.matched?(i=function Pue(n,t){return n.providers&&!n._injector&&(n._injector=T0(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function fhe(n,t,e,i,r){const o=t.canMatch;return o&&0!==o.length?We(o.map(a=>{const c=mu(a,n);let d=za(function ohe(n){return n&&up(n.canMatch)}(c)?c.canMatch(t,e):jr(n,()=>c(t,e)));return r?d.pipe(BU(r)):d})).pipe(pu(),jU()):We(!0)}(i,t,e,0,o).pipe(It(a=>!0===a?s:{...Fk}))):We(s)}function Bk(n,t,e){if("**"===t.path)return function vhe(n){return{matched:!0,parameters:n.length>0?sU(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Fk}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Xde)(e,n,t);if(!r)return{...Fk};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pv(n,t,e,i){return e.length>0&&function Dhe(n,t,e){return e.some(i=>hp(n,t,i)&&vr(i)!==pt)}(n,e,i)?{segmentGroup:new yn(t,whe(i,new yn(e,n.children))),slicedSegments:[]}:0===e.length&&function xhe(n,t,e){return e.some(i=>hp(n,t,i))}(n,e,i)?{segmentGroup:new yn(n.segments,Che(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new yn(n.segments,n.children),slicedSegments:e}}function Che(n,t,e,i){const r={};for(const o of e)if(hp(n,t,o)&&!i[vr(o)]){const s=new yn([],{});r[vr(o)]=s}return{...i,...r}}function whe(n,t){const e={};e[pt]=t;for(const i of n)if(""===i.path&&vr(i)!==pt){const r=new yn([],{});e[vr(i)]=r}return e}function hp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}let Ehe=class{};function She(n,t,e,i,r,o){return Hk.apply(this,arguments)}function Hk(){return Hk=E(function*(n,t,e,i,r,o,s="emptyOnly",a){return new Ahe(n,t,e,i,r,s,o,a).recognize()}),Hk.apply(this,arguments)}let Ahe=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,a,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new bhe(this.urlSerializer,this.urlTree)}noMatchError(t){return new re(4002,`'${t.segmentGroup}'`)}recognize(){var t=this;return E(function*(){const e=pv(t.urlTree.root,[],[],t.config).segmentGroup,{children:i,rootSnapshot:r}=yield t.match(e),o=new Oi(r,i),s=new kk("",o),a=function bU(n,t,e=null,i=null,r=new nv){return vU(yU(n),t,e,i,r)}(r,[],t.urlTree.queryParams,t.urlTree.fragment);return a.queryParams=t.urlTree.queryParams,s.url=t.urlSerializer.serialize(a),{state:s,tree:a}})()}match(t){var e=this;return E(function*(){const i=new hl([],Object.freeze({}),Object.freeze({...e.urlTree.queryParams}),e.urlTree.fragment,Object.freeze({}),pt,e.rootComponentType,null,{});try{return{children:yield e.processSegmentGroup(e.injector,e.config,t,pt,i),rootSnapshot:i}}catch(r){if(r instanceof Lk)return e.urlTree=r.urlTree,e.match(r.urlTree.root);throw r instanceof ml?e.noMatchError(r):r}})()}processSegmentGroup(t,e,i,r,o){var s=this;return E(function*(){if(0===i.segments.length&&i.hasChildren())return s.processChildren(t,e,i,o);const a=yield s.processSegment(t,e,i,i.segments,r,!0,o);return a instanceof Oi?[a]:[]})()}processChildren(t,e,i,r){var o=this;return E(function*(){const s=[];for(const l of Object.keys(i.children))"primary"===l?s.unshift(l):s.push(l);let a=[];for(const l of s){const d=i.children[l],u=AU(e,l),h=yield o.processSegmentGroup(t,u,d,l,r);a.push(...h)}const c=zU(a);return function The(n){n.sort((t,e)=>t.value.outlet===pt?-1:e.value.outlet===pt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c})()}processSegment(t,e,i,r,o,s,a){var c=this;return E(function*(){for(const l of e)try{return yield c.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,s,a)}catch(d){if(d instanceof ml||Nk(d))continue;throw d}if(function VU(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o))return new Ehe;throw new ml(i)})()}processSegmentAgainstRoute(t,e,i,r,o,s,a,c){var l=this;return E(function*(){if(vr(i)!==s&&(s===pt||!hp(r,o,i)))throw new ml(r);if(void 0===i.redirectTo)return l.matchSegmentAgainstRoute(t,r,i,o,s,c);if(l.allowRedirects&&a)return l.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,c);throw new ml(r)})()}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){var c=this;return E(function*(){const{matched:l,parameters:d,consumedSegments:u,positionalParamSegments:h,remainingSegments:m}=Bk(e,r,o);if(!l)throw new ml(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(c.absoluteRedirectCount++,c.absoluteRedirectCount>31&&(c.allowRedirects=!1));const g=new hl(o,d,Object.freeze({...c.urlTree.queryParams}),c.urlTree.fragment,qU(r),vr(r),r.component??r._loadedComponent??null,r,$U(r)),y=hu(g,a,c.paramsInheritanceStrategy);if(g.params=Object.freeze(y.params),g.data=Object.freeze(y.data),c.abortSignal.aborted)throw new Error(c.abortSignal.reason);const v=yield c.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,g,t),F=yield c.applyRedirects.lineralizeSegments(r,v);return c.processSegment(t,i,e,F.concat(m),s,!1,a)})()}matchSegmentAgainstRoute(t,e,i,r,o,s){var a=this;return E(function*(){if(a.abortSignal.aborted)throw new Error(a.abortSignal.reason);const c=yield ev(UU(e,i,r,t,0,a.abortSignal));if("**"===i.path&&(e.children={}),!c?.matched)throw new ml(e);t=i._injector??t;const{routes:l}=yield a.getChildConfig(t,i,r),d=i._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:m}=c,g=new hl(h,u,Object.freeze({...a.urlTree.queryParams}),a.urlTree.fragment,qU(i),vr(i),i.component??i._loadedComponent??null,i,$U(i)),y=hu(g,s,a.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);const{segmentGroup:v,slicedSegments:F}=pv(e,h,m,l);if(0===F.length&&v.hasChildren()){const He=yield a.processChildren(d,l,v,g);return new Oi(g,He)}if(0===l.length&&0===F.length)return new Oi(g,[]);const q=vr(i)===o,Se=yield a.processSegment(d,l,v,F,q?pt:o,!0,g);return new Oi(g,Se instanceof Oi?[Se]:[])})()}getChildConfig(t,e,i){var r=this;return E(function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(void 0!==e._loadedRoutes)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(r.abortSignal.aborted)throw new Error(r.abortSignal.reason);if(yield ev(function HU(n,t,e,i,r){const o=t.canLoad;return void 0===o||0===o.length?We(!0):We(o.map(a=>{const c=mu(a,n),d=za(function the(n){return n&&up(n.canLoad)}(c)?c.canLoad(t,e):jr(n,()=>c(t,e)));return r?d.pipe(BU(r)):d})).pipe(pu(),jU())}(t,e,i,0,r.abortSignal))){const s=yield r.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw function _he(){throw Pk(!1,yr.GuardRejected)}()}return{routes:[],injector:t}})()}};function Ihe(n){const t=n.value.routeConfig;return t&&""===t.path}function zU(n){const t=[],e=new Set;for(const i of n){if(!Ihe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=zU(i.children);t.push(new Oi(i.value,r))}return t.filter(i=>!e.has(i))}function qU(n){return n.data||{}}function $U(n){return n.resolve||{}}Error;const YU=new Z("",{factory:()=>She});function QU(n){const t=n.children.map(e=>QU(e)).flat();return[n,...t]}function Vk(n){return _i(t=>{const e=n(t);return e?Vt(e).pipe(It(()=>t)):We(t)})}let XU=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pt);return i}getResolvedTitleForRoute(e){return e.data[ep]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(Ghe),providedIn:"root"})}return n})(),Ghe=(()=>{class n extends XU{title;constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(J($de))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zk=new Z("",{factory:()=>({})}),ZU=new Z("");let Whe=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(IX);loadComponent(e,i){var r=this;return E(function*(){if(r.componentLoaders.get(i))return r.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);r.onLoadStartListener&&r.onLoadStartListener(i);const o=E(function*(){try{const s=yield aU(jr(e,()=>i.loadComponent())),a=yield eV(JU(s));return r.onLoadEndListener&&r.onLoadEndListener(i),i._loadedComponent=a,a}finally{r.componentLoaders.delete(i)}})();return r.componentLoaders.set(i,o),o})()}loadChildren(e,i){var r=this;if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=E(function*(){try{const s=yield function Khe(n,t,e,i){return qk.apply(this,arguments)}(i,r.compiler,e,r.onLoadEndListener);return i._loadedRoutes=s.routes,i._loadedInjector=s.injector,s}finally{r.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qk(){return qk=E(function*(n,t,e,i){const r=yield aU(jr(e,()=>n.loadChildren())),o=yield eV(JU(r));let s;s=o instanceof yR||Array.isArray(o)?o:yield t.compileModuleAsync(o),i&&i(n);let a,c;return Array.isArray(s)?c=s:(a=s.create(e).injector,c=a.get(ZU,[],{optional:!0,self:!0}).flat()),{routes:c.map(Rk),injector:a}}),qk.apply(this,arguments)}function JU(n){return function Yhe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}function eV(n){return $k.apply(this,arguments)}function $k(){return $k=E(function*(n){return n}),$k.apply(this,arguments)}let Gk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(Qhe),providedIn:"root"})}return n})(),Qhe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Xhe=new Z(""),eme=()=>{},tme=new Z("");let nme=(()=>{class n{currentNavigation=Pn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Pn(null);events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=p(Whe);environmentInjector=p(hi);destroyRef=p(So);urlSerializer=p(fk);rootContexts=p(dv);location=p($c);inputBindingEnabled=null!==p(Mk,{optional:!0});titleStrategy=p(XU);options=p(zk,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(Gk);createViewTransition=p(Xhe,{optional:!0});navigationErrorHandler=p(tme,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>We(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=r=>this.events.next(new Aue(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new kue(r)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;Sn(()=>{this.transitions?.next({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i})})}setupNavigations(e){return this.transitions=new yi(null),this.transitions.pipe(gn(i=>null!==i),_i(i=>{let r=!1;const o=new AbortController;return We(i).pipe(_i(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",yr.SupersededByNewNavigation),Pr;this.currentTransition=i;const a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?{...a,previousNavigation:null}:null,abort:()=>o.abort()});const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(s.extras.onSameUrlNavigation??e.onSameUrlNavigation))return this.events.next(new ap(s.id,this.urlSerializer.serialize(s.rawUrl),"",Ck.IgnoredSameUrlNavigation)),s.resolve(!1),Pr;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return We(s).pipe(_i(d=>(this.events.next(new vk(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Pr:Promise.resolve(d))),function Uhe(n,t,e,i,r,o,s){const a=n.get(YU);return uo(c=>We(c).pipe(_i(l=>a(n,t,e,i,l.extractedUrl,r,o,s)),It(({state:l,tree:d})=>({...c,targetSnapshot:l,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),wi(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=d.urlAfterRedirects,h));const u=new kU(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:d,extractedUrl:u,source:h,restoredState:m,extras:g}=s,y=new vk(d,this.urlSerializer.serialize(u),h,m);this.events.next(y);const v=MU(this.rootComponentType).snapshot;return this.currentTransition=i={...s,targetSnapshot:v,urlAfterRedirects:u,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(F=>(F.finalUrl=u,F)),We(i)}return this.events.next(new ap(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Ck.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Pr}),wi(s=>{const a=new Due(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),It(s=>(this.currentTransition=i={...s,guards:Que(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},i)),function ahe(n,t){return uo(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?We({...e,guardsResult:!0}):function che(n,t,e,i){return Vt(n).pipe(uo(r=>function phe(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?We(o.map(a=>{const c=du(t)??r,l=mu(a,c);return za(function rhe(n){return n&&up(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):jr(c,()=>l(n,t,e,i))).pipe(ll())})).pipe(pu()):We(!0)}(r.component,r.route,e,t,i)),ll(r=>!0!==r,!0))}(s,i,r,n).pipe(uo(a=>a&&function ehe(n){return"boolean"==typeof n}(a)?function lhe(n,t,e,i){return Vt(t).pipe(Ad(r=>Uc(function uhe(n,t){return null!==n&&t&&t(new Tue(n)),We(!0)}(r.route.parent,i),function dhe(n,t){return null!==n&&t&&t(new Mue(n)),We(!0)}(r.route,i),function mhe(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Xue(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Bs(()=>We(s.guards.map(c=>{const l=du(s.node)??e,d=mu(c,l);return za(function ihe(n){return n&&up(n.canActivateChild)}(d)?d.canActivateChild(i,n):jr(l,()=>d(i,n))).pipe(ll())})).pipe(pu())));return We(o).pipe(pu())}(n,r.path,e),function hhe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return We(!0);const r=i.map(o=>Bs(()=>{const s=du(t)??e,a=mu(o,s);return za(function nhe(n){return n&&up(n.canActivate)}(a)?a.canActivate(t,n):jr(s,()=>a(t,n))).pipe(ll())}));return We(r).pipe(pu())}(n,r.route,e))),ll(r=>!0!==r,!0))}(i,o,n,t):We(a)),It(a=>({...e,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),wi(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw uv(0,s.guardsResult);const a=new xue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),gn(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",yr.GuardRejected),!1)),Vk(s=>{if(0!==s.guards.canActivateChecks.length)return We(s).pipe(wi(a=>{const c=new Eue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_i(a=>{let c=!1;return We(a).pipe(function Vhe(n,t){return uo(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return We(e);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of QU(c))s.add(l);let a=0;return Vt(s).pipe(Ad(c=>o.has(c)?function zhe(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!OU(r)&&(o[ep]=r.title),Bs(()=>(n.data=hu(n,n.parent,e).resolve,function qhe(n,t,e,i){const r=pk(n);if(0===r.length)return We({});const o={};return Vt(r).pipe(uo(s=>function $he(n,t,e,i){const r=du(t)??i,o=mu(n,r);return za(o.resolve?o.resolve(t,e):jr(r,()=>o(t,e)))}(n[s],t,e,i).pipe(ll(),wi(a=>{if(a instanceof Ok)throw uv(new nv,a);o[s]=a}))),nU(1),It(()=>o),cl(s=>Nk(s)?Pr:tU(s)))}(o,n,t,i).pipe(It(s=>(n._resolvedData=s,n.data={...n.data,...s},null)))))}(c,i,n,t):(c.data=hu(c,c.parent,n).resolve,We(void 0))),wi(()=>a++),nU(1),uo(c=>a===s.size?We(e):Pr))})}(this.paramsInheritanceStrategy,this.environmentInjector),wi({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",yr.NoDataFromResolver)}}))}),wi(a=>{const c=new Sue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Vk(s=>{const a=l=>{const d=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){const u=du(l)??this.environmentInjector;d.push(this.configLoader.loadComponent(u,l.routeConfig).then(h=>{l.component=h}))}for(const u of l.children)d.push(...a(u));return d},c=a(s.targetSnapshot.root);return 0===c.length?We(s):Vt(Promise.all(c).then(()=>s))}),Vk(()=>this.afterPreactivation()),_i(()=>{const{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Vt(c).pipe(It(()=>i)):We(i)}),It(s=>{const a=function que(n,t,e){const i=cp(n,t._root,e?e._root:void 0);return new IU(i,t)}(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i={...s,targetRouterState:a},this.currentNavigation.update(c=>(c.targetRouterState=a,c)),i}),wi(()=>{this.events.next(new Dk)}),((n,t,e,i)=>It(r=>(new Yue(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),On(1),$t(FU(o.signal).pipe(gn(()=>!r&&!i.targetRouterState),wi(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",yr.Aborted)}))),wi({next:s=>{r=!0,this.currentNavigation.update(a=>(a.abort=eme,a)),this.lastSuccessfulNavigation.set(Sn(this.currentNavigation)),this.events.next(new sp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),$t(this.transitionAbortWithErrorSubject.pipe(wi(s=>{throw s}))),F_(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",yr.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),cl(s=>{if(this.destroyed)return i.resolve(!1),Pr;if(r=!0,NU(s))this.events.next(new ul(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),function Wue(n){return NU(n)&&ip(n.url)}(s)?this.events.next(new lv(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{const a=new wk(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{const c=jr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(c instanceof Ok))throw this.events.next(a),s;{const{message:l,cancellationCode:d}=uv(0,c);this.events.next(new ul(i.id,this.urlSerializer.serialize(i.extractedUrl),l,d)),this.events.next(new lv(c.redirectTo,c.navigationBehaviorOptions))}}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Pr}))}))}cancelNavigationTransition(e,i,r){const o=new ul(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Sn(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ime(n){return n!==cv}let rme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(sme),providedIn:"root"})}return n})();class ome{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let sme=(()=>{class n extends ome{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tV=(()=>{class n{urlSerializer=p(fk);options=p(zk,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p($c);urlHandlingStrategy=p(Gk);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ms;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){const o=void 0!==e?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof ms?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=MU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:()=>p(ame),providedIn:"root"})}return n})(),ame=(()=>{class n extends tV{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof vk?this.updateStateMemento():e instanceof ap?this.commitTransition(i):e instanceof kU?"eager"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Dk?(this.commitTransition(i),"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof ul&&e.code!==yr.SupersededByNewNavigation&&e.code!==yr.Redirect?this.restoreHistory(i):e instanceof wk?this.restoreHistory(i,!0):e instanceof sp&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){const{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){const a=this.browserPageId,c={...s,...this.generateNgRouterState(r,a)};this.location.replaceState(e,"",c)}else{const a={...s,...this.generateNgRouterState(r,this.browserPageId+1)};this.location.go(e,"",a)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&0===o&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ume=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(qR);stateManager=p(tV);options=p(zk,{optional:!0})||{};pendingTasks=p(la);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(nme);urlSerializer=p(fk);location=p($c);urlHandlingStrategy=p(Gk);injector=p(hi);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(rme);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(ZU,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(Mk,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new zt;subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=Sn(this.navigationTransitions.currentNavigation);if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof ul&&i.code!==yr.Redirect&&i.code!==yr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sp)this.navigated=!0;else if(i instanceof lv){const s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ime(r.source),...s};this.scheduleNavigation(a,cv,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Oue(n){return!(n instanceof Dk||n instanceof lv)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(As)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Sn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Rk),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let u,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{u=yU(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),u=this.currentUrlTree.root}return vU(u,e,d,l??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ip(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,cv,null,i)}navigate(e,i={skipLocationChange:!1}){return function hme(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new re(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Br(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...lme}:!1===i?{...dme}:i,ip(e))return lU(this.currentUrlTree,e,r);const o=this.parseUrl(e);return lU(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,h)=>{a=u,c=h});const d=this.pendingTasks.add();return function cme(n,t){n.events.pipe(gn(e=>e instanceof sp||e instanceof ul||e instanceof wk||e instanceof ap),It(e=>e instanceof sp||e instanceof ap?0:e instanceof ul&&(e.code===yr.Redirect||e.code===yr.SupersededByNewNavigation)?2:1),gn(e=>2!==e),On(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nV="@azure/msal-angular",Wk="3.1.0",fv=new Z("MSAL_INSTANCE"),iV=new Z("MSAL_GUARD_CONFIG"),mme=new Z("MSAL_INTERCEPTOR_CONFIG"),pme=new Z("MSAL_BROADCAST_CONFIG");let gu=(()=>{class n{constructor(e,i){this.instance=e,this.location=i;const r=this.location.path(!0).split("#").pop();r&&(this.redirectHash=`#${r}`),this.instance.initializeWrapperLibrary("@azure/msal-angular",Wk)}initialize(){return Vt(this.instance.initialize())}acquireTokenPopup(e){return Vt(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return Vt(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return Vt(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return Vt(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(e||this.redirectHash)))}loginPopup(e){return Vt(this.instance.loginPopup(e))}loginRedirect(e){return Vt(this.instance.loginRedirect(e))}logout(e){return Vt(this.instance.logout(e))}logoutRedirect(e){return Vt(this.instance.logoutRedirect(e))}logoutPopup(e){return Vt(this.instance.logoutPopup(e))}ssoSilent(e){return Vt(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(nV,Wk)),this.logger}setLogger(e){this.logger=e.clone(nV,Wk),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(J(fv),J($c))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),rV=(()=>{class n{constructor(e,i,r){this.msalInstance=e,this.authService=i,this.msalBroadcastConfig=r,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new V_(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Oe,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new yi("startup"),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const s=Ude.getInteractionStatusFromEvent(o,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(e){return new(e||n)(J(fv),J(gu),J(pme,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),fme=(()=>{class n{constructor(e,i,r,o,s){this.msalGuardConfig=e,this.msalBroadcastService=i,this.authService=r,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const i=document.getElementsByTagName("base"),r=this.location.normalize(i.length?i[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${r}/${o}`):`${r}${e}`}loginInteractively(e){const i="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):{...this.msalGuardConfig.authRequest};if(this.msalGuardConfig.interactionType===ct.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(i).pipe(It(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const r=this.getDestinationUrl(e.url);return this.authService.loginRedirect({redirectStartPage:r,...i}).pipe(It(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==ct.Popup&&this.msalGuardConfig.interactionType!==ct.Redirect)throw new Ky("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),We(!0);if(Xt.hashContainsKnownProperties(window.location.hash)&&Yy()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),We(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const i=this.location.path(!0);return this.authService.initialize().pipe(Ad(()=>this.authService.handleRedirectObservable()),Ad(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),We(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const r=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(r&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),i.indexOf("#")>-1?We(this.parseUrl(this.location.path())):We(this.parseUrl(""))}return We(!0)}),cl(r=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${r.message}`),this.loginFailedRoute&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),We(this.loginFailedRoute)):We(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,i){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(i)}canActivateChild(e,i){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(i)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(J(iV),J(rV),J(gu),J($c),J(ume))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),gme=(()=>{class n{static forRoot(e,i,r){return{ngModule:n,providers:[{provide:fv,useValue:e},{provide:iV,useValue:i},{provide:mme,useValue:r},gu]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=wt({type:n}),n.\u0275inj=bt({providers:[fme,rV],imports:[HL]}),n})(),Kk=(()=>{class n{constructor(e,i,r,o){this.globals=e,this.messageService=i,this.connectionService=r,this.msalService=o,this.console=new li("AuthService"),this.msalInstanceInitialized=!1,this.initialLoginAttempted=!1,this.failedLoginAttempts=0}setLoginDisplay(){this.console.info("All accounts over 1:",this.msalService.instance.getAllAccounts().length>0)}isDesktopClient(){return Office.context.platform!==Office.PlatformType.OfficeOnline}signIn(e){var i=this;return E(function*(){if(!i.msalInstanceInitialized)try{const o=yield new Promise((a,c)=>{i.connectionService.getGraphConfiguration().subscribe({next:l=>a(l),error:l=>c(l)})});i.console.info("CONFIG loaded",o);const s=new cu({auth:{clientId:o.clientId,authority:o.authority,redirectUri:location.origin+location.pathname,postLogoutRedirectUri:location.origin+location.pathname},cache:{cacheLocation:"localStorage"}});yield s.initialize(),i.msalService.instance=s,i.msalInstanceInitialized=!0,i.console.info("MSAL v3 initialized with Backend config")}catch(o){return void i.console.error("Failed to load config",o)}if(!e){const o=yield i.getAccessToken();if(o&&""!==o)return}let r;Office.context.platform!==Office.PlatformType.OfficeOnline?(i.console.info("IS CLIENT"),i.msalService.instance.loginRedirect(),i.msalService.instance.handleRedirectPromise().then(o=>{o&&i.msalService.instance.setActiveAccount(o.account),i.setLoginDisplay()},o=>{i.console.error("Error:",o)}),i.msalService.instance.handleRedirectPromise().then(o=>{i.console.info(o)},o=>i.console.error(o)),r=yield i.msalService.instance.loginRedirect(hk).catch(o=>{i.handleLoginError(o)})):(i.console.info("IS NOT CLIENT"),r=yield i.msalService.instance.loginPopup(hk).catch(o=>{i.handleLoginError(o)})),r&&(i.failedLoginAttempts=0,i.globals.actionsAllowed=!0,i.globals.graphLoaded=!0,i.authenticated=!0,i.user=yield i.getUser())})()}handleLoginError(e){this.globals.actionsAllowed=!1,this.console.error("Login error:",e);const i=JSON.stringify(e||{}).toLowerCase(),r=(e?.message||"").toLowerCase(),o=e?.errorCode||"";this.console.info("Error code:",o),this.console.info("Error message:",r);const s=r.match(/aadsts\d+/i)||i.match(/aadsts\d+/i);if(s)return this.console.error("AADSTS error found:",s[0]),void this.showGraphConfigWarning();const a=["invalid_client","unauthorized_client","application with identifier","was not found in the directory","client_id","tenant","endpoints_resolution_error"];for(const l of a)if(r.includes(l)||i.includes(l))return this.console.error("Config error pattern found:",l),void this.showGraphConfigWarning();if(["user_cancelled","interaction_in_progress","monitor_window_timeout","popup_window_error","empty_window_error"].includes(o))return this.console.info("Ignored error code:",o),this.failedLoginAttempts++,this.console.info("Failed login attempts:",this.failedLoginAttempts),void(this.failedLoginAttempts>=2&&"user_cancelled"===o&&(this.console.warn("Multiple cancelled attempts - showing config warning"),this.showGraphConfigWarning()));this.console.warn("Unknown error, showing warning"),this.showGraphConfigWarning()}showGraphConfigWarning(){this.messageService.showWarning(this.globals.languageConfLocal.incorrectGraphIds,void 0,6e3)}clientSignIn(){var e=this;return E(function*(){e.console.info("Client Login"),e.signIn()})()}signOut(){return new ie(e=>{this.msalService.instance.logout().then(()=>{this.globals.graphLoaded=!1,this.user=void 0,this.authenticated=!1,e.next("Logged out")})})}signOutPopup(){return new ie(e=>{this.msalService.instance.logoutPopup().then(()=>{this.user=void 0,this.authenticated=!1,e.next("Logged out")})})}getAccessToken(){var e=this;return E(function*(){const i=e.msalService.instance.getAllAccounts()[0],r=yield e.msalService.instance.acquireTokenSilent({account:i??void 0,scopes:hk.scopes}).catch(o=>{e.globals.actionsAllowed=!1,e.signIn(!0)});return r?(e.globals.graphLoaded=!0,e.globals.actionsAllowed=!0,r.accessToken):(e.authenticated=!1,"")})()}getUser(){var e=this;return E(function*(){if(!e.authenticated)return;const r=yield Dm.init({authProvider:(s=E(function*(a){const c=yield e.getAccessToken().catch(l=>{a(l,null)});c?a(null,c):a("Could not get an access token",null)}),function(c){return s.apply(this,arguments)})}).api("/me").select("displayName,mail,mailboxSettings,userPrincipalName").get(),o=new jde;var s;return o.displayName=r.displayName??"",o.email=r.mail??r.userPrincipalName??"",o.timeZone=r.mailboxSettings?.timeZone??"UTC",o.avatar="/assets/no-profile-photo.png",o})()}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(Bn),J(Lr),J(gu))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ks=(()=>{class n{constructor(e,i){this.globals=e,this.authService=i,this.console=new li("GraphHelper"),this.initGraph()}initGraph(){var i,e=this;this.graphClient=Dm.init({authProvider:(i=E(function*(r){const o=yield e.authService.getAccessToken().catch(s=>{r(s,null)});o?r(null,o):r("Could not get an access token",null)}),function(o){return i.apply(this,arguments)})})}getAttachments(e,i){return e=e.replaceAll("/","-"),new ie(r=>{if(i){if(i.itemClass?.includes("SMIME")&&(this.console.info("S/MIME mail detected, cancel the process!"),i.attachments&&i.attachments.length>0)){this.itemAttachment=i.attachments.some(s=>"item"===s.attachmentType);const o=i.attachments.some(s=>s.contentType.includes("multipart/signed"));if(!this.globals.deleteAttachments){if(this.itemAttachment)return void r.error("smimeAndItemAttachmentsError");if(!o)return void r.error("smimeMailError")}}void 0===i.getSharedPropertiesAsync||typeof i.getSharedPropertiesAsync>"u"?(this.doGetAttachments(`/me/messages/${e}/attachments`,e,r),this.path="/me/messages/",this.messageId=e):i.getSharedPropertiesAsync(o=>{this.doGetAttachments(`/users/${o.value.owner}/messages/${e}/attachments`,e,r),this.path=`/users/${o.value.owner}/messages/`,this.messageId=e})}})}doGetAttachments(e,i,r){this.graphClient.api(e).get().then(o=>{this.prepareAttachments(o).subscribe(s=>{r.next(s)})}).catch(o=>{r.error(o.code)})}getItemAttachmentContent(e,i){var r=this;return E(function*(){try{const o=r.path&&r.messageId?`${r.path}${r.messageId}`:`/me/messages/${e}`,s=yield r.graphClient.api(`${o}/attachments/${i}`).expand("microsoft.graph.itemAttachment/item").get();if("#microsoft.graph.itemAttachment"===s["@odata.type"]&&s.item)return s.item;throw new Error("No valid item content available in the attachment")}catch(o){throw r.console.error("Error fetching item attachment content:",o),o}})()}isAppointment(){return"appointment"===Office.context.mailbox.item?.itemType}saveExtendedData(e,i){let r=Office.context.mailbox.item;if(r){let o=void 0===r.getItemIdAsync||void 0===typeof r.getItemIdAsync;if(e&&null!=e){if(o)return this.performSaveExtendedData(i,r.itemId);r.getItemIdAsync(s=>this.performSaveExtendedData(i,s.value))}else if("function"==typeof r.saveAsync){let s=r;if(o)return this.globals.infoShower.currentItemId=s.itemId,this.performSaveExtendedData(i,this.globals.infoShower.currentItemId);r.saveAsync(a=>{s.getItemIdAsync(c=>(this.globals.infoShower.currentItemId=c.value,this.performSaveExtendedData(i,this.globals.infoShower.currentItemId)))})}else this.globals.infoShower.currentItemId=r.itemId,e=r.itemId}return this.performSaveExtendedData(i,e)}performSaveExtendedData(e,i){return new ie(r=>{if(i){i=i.replaceAll("/","-");const o={singleValueExtendedProperties:[{id:"String {00020329-0000-0000-C000-000000000046} Name BM4OAExPro",value:JSON.stringify(e)}]};let s="messages";this.isAppointment()&&(s="calendar/events");let a=Office.context.mailbox.item;a?void 0===a.getSharedPropertiesAsync||void 0===typeof a.getSharedPropertiesAsync?this.doSaveExtendedData(`/me/${s}/${i}`,o,e,r):a.getSharedPropertiesAsync(c=>{this.doSaveExtendedData(`/users/${c.value.owner}/${s}/${i}`,o,e,r)}):this.doSaveExtendedData(`/me/${s}/${i}`,o,e,r)}})}prepareAttachments(e,i,r){var o=this;let s=[],a=[];return new ie(c=>{E(function*(){for(const l of e.value)if(!i||-1!==i.indexOf(l.id)){if(!o.itemAttachment&&l&&l.contentType&&l.contentType.includes("multipart/signed")){o.console.info("smime attachment detected, skipping!");continue}if("#microsoft.graph.itemAttachment"===l["@odata.type"]){let d;o.console.info("Processing item attachment!",l);try{const u=r||o.messageId;d=yield o.getItemAttachmentContent(u,l.id)}catch(u){o.console.error("Error fetching item attachment content:",u);continue}if(o.console.info("Item attachment content:",d),"#microsoft.graph.message"!==d["@odata.type"]){console.warn("Item attachment is not a valid email message:",d);continue}try{const{images:h}=o.processHtmlContent(d.body.content),m="text"===d.body.contentType?"plain":d.body.contentType;a.push({"@odata.type":"#microsoft.graph.fileAttachment","@odata.mediaContentType":"text/"+m,id:l.id,lastModifiedDateTime:d.lastModifiedDateTime,name:`${d.subject||"email"}.${"plain"===m?"txt":m}`,contentType:"text/"+m,size:d.body.content.length,isInline:!1,contentId:l.id,contentBytes:o.utf8ToBase64(d.body.content)}),h.forEach((g,y)=>{a.push({"@odata.type":"#microsoft.graph.fileAttachment","@odata.mediaContentType":g.mimeType,id:`${o.generateUUID()}`,lastModifiedDateTime:d.lastModifiedDateTime,name:`image_${o.generateUUID()}_${y+1}.png`,contentType:g.mimeType,size:g.base64.length,isInline:!1,contentId:l.contentId,contentBytes:g.base64})})}catch(u){o.console.error("Error processing item attachment content:",u)}}else a.push(l)}o.console.info("Response after",e.value),o.console.info("All attachments:",a);for(let l of a||e.value)if(o.console.info("Processing after check: ",l),!i||-1!==i.indexOf(l.id)){if(!o.itemAttachment&&l&&l.contentType&&l.contentType.includes("multipart/signed")){o.console.info("smime attachment detected, skipping!");continue}if("#microsoft.graph.fileAttachment"===l["@odata.type"])if("gi"===o.globals.system)s.push({name:l.name,data:l.contentBytes,type:l.contentType,cid:l.contentId,inline:l.isInline});else{if(o.globals.deleteAttachments&&!l.isInline)continue;s.push({name:l.name,mimeType:l.contentType,contentID:l.contentId,data:l.contentBytes,isInline:l.isInline,inline:l.isInline})}}o.console.info("All E-Mail Attachments:",s),c.next(s)})()})}doSaveExtendedData(e,i,r,o){this.graphClient.api(e).update(i).then(s=>{this.console.info("Setting data:",s),this.console.info(r),o.next(s)}).catch(s=>{this.console.info("Error while setting data: "+s)})}getExtendedData(e){let i=Office.context.mailbox.item;if(i){let r=void 0===i.getItemIdAsync||void 0===typeof i.getItemIdAsync;if(e&&null!=e){if(r)return this.performGetExtendedData(i.itemId);i.getItemIdAsync(o=>this.performGetExtendedData(o.value))}else if("function"==typeof i.saveAsync){let o=i;if(r)return this.globals.infoShower.currentItemId=o.itemId,this.performGetExtendedData(this.globals.infoShower.currentItemId);i.saveAsync(s=>{o.getItemIdAsync(a=>(this.globals.infoShower.currentItemId=a.value,this.performGetExtendedData(a.value)))})}else this.globals.infoShower.currentItemId=i.itemId,e=i.itemId}return this.performGetExtendedData(e)}performGetExtendedData(e){return new ie(i=>{if(e){e=e.replaceAll("/","-");let r="messages";this.isAppointment()&&(r="calendar/events");let o=Office.context.mailbox.item;o?void 0===o.getSharedPropertiesAsync||void 0===typeof o.getSharedPropertiesAsync?this.doGetExtendedData(`/me/${r}/${e}`,i):o.getSharedPropertiesAsync(s=>{this.doGetExtendedData(`/users/${s.value.owner}/${r}/${e}`,i)}):this.doGetExtendedData(`/me/${r}/${e}`,i)}})}doGetExtendedData(e,i){var r=this;this.graphClient.api(e).responseType(Po.RAW).expand("singleValueExtendedProperties($filter=id eq 'String {00020329-0000-0000-C000-000000000046} Name BM4OAExPro')").get().then(function(){var o=E(function*(s){if(r.console.info("Getting extended data:",s),200===s.status){let a=yield s.json();if(a&&a.singleValueExtendedProperties&&a.singleValueExtendedProperties.length>0){let c=JSON.parse(a.singleValueExtendedProperties[0].value);""!==c.selEm&&""===c.documentTarget&&(c.documentTarget=c.selDest,r.console.warn("Missing data detection, setting correct values."));let l="",d=!1;try{const u=r.globals?.addressActivities?.documentsAsDestinations,h=Array.isArray(u)&&u.length>0&&(u[0]?.fdMe||u[0]?.pointer)||"",m=r.globals?.infoShower,g=String(m?.primaryPointer||m?.displayedDestination?.pointer||m?.initSelectedDoc||"").trim();l=h||g,d=!!h}catch{}!c.documentTarget&&l&&(c.documentTarget=l,d&&(c.otherDoc=!0));try{const u=Office.context.mailbox?.item;if(!(u&&"function"==typeof u?.getItemIdAsync||"doNotDocument"===c.selEm||""===c.selEm||""!==c.documentTarget||""!==c.selDest||l))return r.console.error("Data correction failed!"),void r.globals.infoShower.messageService.showError(r.globals.languageConf.documentationError,"",!0,0).onAction().subscribe(()=>{location.reload()})}catch{}r.console.info("Getting data:",c),i.next(c)}else i.next(new Na)}else i.next(new Na)});return function(s){return o.apply(this,arguments)}}()).catch(()=>{i.next(new Na)})}addCategoryToCurrentItem(e){var i=this;return new ie(r=>{const o=Office.context.mailbox?.item;this.console.info(`addCategoryToCurrentItem: trying to add category '${e}'`);const s=l=>{this.console.info("addCategoryToCurrentItem: waiting 500ms for Exchange sync before completing..."),setTimeout(()=>{try{r.next(l)}finally{try{r.complete()}catch{}}},500)},a=function(){var l=E(function*(d){try{const u="preset3",h=yield i.graphClient.api("/me/outlook/masterCategories").get(),m=Array.isArray(h?.value)?h.value.find(y=>String(y.displayName).toLowerCase()===d.toLowerCase()):void 0;if(!m)return yield i.graphClient.api("/me/outlook/masterCategories").post({displayName:d,color:u}),void i.console.info(`ensureCategoryExists: created master category '${d}' with color '${u}'`);String(m.color||"").toLowerCase()!==u.toLowerCase()&&(yield i.graphClient.api(`/me/outlook/masterCategories/${m.id}`).update({color:u}),i.console.info(`ensureCategoryExists: updated color of '${d}' to '${u}'`))}catch(u){i.console.warn("ensureCategoryExists: failed (will still try to mark item)",u)}});return function(u){return l.apply(this,arguments)}}(),c=function(){var l=E(function*(){try{let d;if(yield a(e),o&&"function"==typeof o.getItemIdAsync?yield new Promise(y=>o.getItemIdAsync(v=>{d=v?.value,y()})):d=o?.itemId,!d)return i.console.warn("addCategoryToCurrentItem: no item id to use with Graph"),void s(!1);const u=String(d).replaceAll("/","-");let h=`/me/messages/${u}`;o&&"function"==typeof o.getSharedPropertiesAsync&&(yield new Promise(y=>o.getSharedPropertiesAsync(v=>{v?.value?.owner&&(h=`/users/${v.value.owner}/messages/${u}`),y()})));const m=function(){var y=E(function*(){const v=yield i.graphClient.api(h).select("categories").get(),F=v?.["@odata.etag"],q=Array.isArray(v?.categories)?v.categories:[];return{etag:F,nextCats:q.includes(e)?q:[...q,e]}});return function(){return y.apply(this,arguments)}}(),g=function(){var y=E(function*(v,F){try{const q=i.graphClient.api(h);v&&q.header("If-Match",v);const Se={categories:F??[e]};return i.console.info("addCategoryToCurrentItem: PATCH",h,"If-Match:",v,"payload:",Se),yield q.update(Se),i.console.info("addCategoryToCurrentItem: Graph PATCH succeeded"),s(!0),!0}catch(q){return i.console.warn("addCategoryToCurrentItem: Graph PATCH failed",q?.statusCode||q?.status||q?.response?.status,q),!1}});return function(F,q){return y.apply(this,arguments)}}();try{const{etag:y,nextCats:v}=yield m();if(yield g(y,v))return;const{etag:F,nextCats:q}=yield m();if(yield g(F,q))return;yield i.graphClient.api(h).update({categories:q??[e]}),i.console.info("addCategoryToCurrentItem: PATCH without If-Match succeeded"),s(!0)}catch(y){i.console.error("addCategoryToCurrentItem: Graph fallback failed",y),s(!1)}}catch(d){i.console.error("addCategoryToCurrentItem: unexpected error in graphFallback",d),s(!1)}});return function(){return l.apply(this,arguments)}}();try{o&&o.categories&&"function"==typeof o.categories.addAsync?(this.console.info("addCategoryToCurrentItem: categories API available"),a(e).finally(()=>{o.categories.addAsync([e],l=>{this.console.info("addCategoryToCurrentItem: addAsync callback",l),l&&l.status===Office.AsyncResultStatus.Succeeded?(this.console.info("Category added via Office.js"),s(!0)):(this.console.warn("categories.addAsync failed; using Graph fallback"),c())})})):(this.console.info("Categories API not available; using Graph fallback"),c())}catch(l){this.console.error("addCategoryToCurrentItem: Office.js path error, falling back to Graph",l),c()}})}addCategoryToItemById(e,i){var r=this;return new ie(o=>{const s=String(e).replaceAll("/","-"),a=`/me/messages/${s}`,c=l=>{setTimeout(()=>{try{o.next(l)}finally{try{o.complete()}catch{}}},200)};E(function*(){try{const l="preset3",d=yield r.graphClient.api("/me/outlook/masterCategories").get();(Array.isArray(d?.value)?d.value.find(F=>String(F.displayName).toLowerCase()===i.toLowerCase()):void 0)||(yield r.graphClient.api("/me/outlook/masterCategories").post({displayName:i,color:l}));const h=yield r.graphClient.api(a).select("categories").get(),m=h?.["@odata.etag"],g=Array.isArray(h?.categories)?h.categories:[],y=g.includes(i)?g:[...g,i],v=r.graphClient.api(a);m&&v.header("If-Match",m),yield v.update({categories:y}),r.console.info(`addCategoryToItemById: marked ${s}`),c(!0)}catch(l){r.console.warn("addCategoryToItemById: failed",l),c(!1)}})()})}executePostDocActionOnCurrentItem(e,i){var r=this;return new ie(o=>{const s=Office.context.mailbox?.item;this.console.info(`executePostDocActionOnCurrentItem: action='${e}', folderId='${i}'`);const a=l=>{try{o.next(l)}finally{try{o.complete()}catch{}}};return"none"===e?(this.console.info("executePostDocActionOnCurrentItem: action is none, skipping"),void a(!0)):"move"!==e||i?void function(){var l=E(function*(){try{let d;if(s&&"function"==typeof s.getItemIdAsync?yield new Promise(m=>s.getItemIdAsync(g=>{d=g?.value,m()})):d=s?.itemId,!d)return r.console.warn("executePostDocActionOnCurrentItem: no message ID available"),void a(!1);const u=String(d).replaceAll("/","-");let h;if(r.console.info("executePostDocActionOnCurrentItem: resolved messageId",u),s&&"function"==typeof s.getSharedPropertiesAsync&&(yield new Promise(m=>s.getSharedPropertiesAsync(g=>{g?.value?.owner&&(h=g.value.owner),m()}))),"delete"===e){const m=h?`/users/${h}/messages/${u}/move`:`/me/messages/${u}/move`;r.console.info("executePostDocActionOnCurrentItem: moving to Deleted Items",m),yield r.graphClient.api(m).post({destinationId:"deleteditems"}),r.console.info("executePostDocActionOnCurrentItem: move to Deleted Items success"),a(!0)}else if("move"===e){r.console.info("executePostDocActionOnCurrentItem: preparing to move message",u,"to",i,"owner",h);let m=!1;try{m=yield new Promise(y=>{r.folderExists(i,h).subscribe(v=>y(!!v),()=>y(!1))})}catch{m=!1}if(r.console.info("executePostDocActionOnCurrentItem: target folder exists?",m),!m){r.console.warn("executePostDocActionOnCurrentItem: target folder does not exist anymore. Aborting move.");try{const y=r.globals?.languageConfLocal?.postDocNoTargetFolder||"Zielordner existiert nicht. Verschieben abgebrochen.";r.console.info("executePostDocActionOnCurrentItem: scheduling post-doc no-target-folder message in 2000ms"),setTimeout(()=>{try{r.globals&&r.globals.infoShower?.messageService?.showError?r.globals.infoShower.messageService.showError(y):r.globals?.infoShower?.showError?r.globals.infoShower.showError(y):r.globals?.infoShower?.messageService?.showError&&r.globals.infoShower.messageService.showError(y),r.console.info("executePostDocActionOnCurrentItem: displayed post-doc no-target-folder message")}catch(v){r.console.warn("executePostDocActionOnCurrentItem: failed to show scheduled UI error",v)}},2e3)}catch{}return void a(!1)}const g=h?`/users/${h}/messages/${u}/move`:`/me/messages/${u}/move`;r.console.info("executePostDocActionOnCurrentItem: MOVE",g,"to folder",i),yield r.graphClient.api(g).post({destinationId:i}),r.console.info("executePostDocActionOnCurrentItem: move success"),a(!0)}else r.console.warn("executePostDocActionOnCurrentItem: unknown action",e),a(!1)}catch(d){r.console.error("executePostDocActionOnCurrentItem: error",d),a(!1)}});return function(){return l.apply(this,arguments)}}()():(this.console.warn("executePostDocActionOnCurrentItem: move action but no folderId"),void a(!1))})}executePostDocActionOnItemById(e,i,r){return new ie(o=>{const s=a=>{try{o.next(a)}finally{try{o.complete()}catch{}}};if(i&&"none"!==i)return"move"!==i||r?(this.console.info(`executePostDocActionOnItemById: action='${i}', itemId='${e}', folderId='${r}'`),void("delete"===i?this.deleteMessage(e).subscribe({next:a=>s(a),error:()=>s(!1)}):"move"===i?this.moveMessage(e,r).subscribe({next:a=>s(a),error:()=>s(!1)}):(this.console.warn("executePostDocActionOnItemById: unknown action",i),s(!1)))):(this.console.warn("executePostDocActionOnItemById: move action but no folderId"),void s(!1));s(!0)})}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=Math.floor(16*Math.random());return("x"===e?i:3&i|8).toString(16)})}utf8ToBase64(e){return btoa(unescape(encodeURIComponent(e)))}processHtmlContent(e){const r=(new DOMParser).parseFromString(e,"text/html"),o=r.body.textContent||"",s=[];return r.querySelectorAll("img").forEach((c,l)=>{const d=c.getAttribute("src");if(d&&d.startsWith("data:")){const[u,h]=d.split(";base64,");s.push({base64:h,mimeType:u.replace("data:",""),cid:this.generateUUID()})}}),{plainText:o,images:s}}listMailFolders(e){var i=this;return new ie(r=>{const o=e?`/users/${e}/mailFolders`:"/me/mailFolders",s=[],a=l=>{if(l)return l.replace("https://graph.microsoft.com/v1.0","")},c=function(){var l=E(function*(d,u){let h=e?`/users/${e}/mailFolders/${d}/childFolders`:`/me/mailFolders/${d}/childFolders`;for(;h;)try{const m=yield i.graphClient.api(h).select("id,displayName,parentFolderId").top(50).get(),g=m?.value||[];for(const y of g)s.push({id:y.id,displayName:String(y.displayName),parentFolderId:y.parentFolderId,indent:u}),yield c(y.id,u+"\xa0\xa0\xa0\xa0\xa0");h=a(m?.["@odata.nextLink"])}catch(m){i.console.error("listMailFolders: fetchChildFolders error",m?.code??m),h=void 0}});return function(u,h){return l.apply(this,arguments)}}();E(function*(){try{let l;try{l=(yield i.graphClient.api(e?`/users/${e}/mailFolders/deleteditems`:"/me/mailFolders/deleteditems").select("id").get())?.id,i.console.info("listMailFolders: deletedItems id",l)}catch(g){i.console.info("listMailFolders: could not fetch deletedItems id, will skip deleted-items check",g?.code??g),l=void 0}let d=o;for(;d;){const g=yield i.graphClient.api(d).select("id,displayName,parentFolderId").top(50).get(),y=g?.value||[];for(const v of y)s.push({id:v.id,displayName:String(v.displayName),parentFolderId:v.parentFolderId,indent:""}),yield c(v.id,"\xa0\xa0\xa0\xa0\xa0");d=a(g?.["@odata.nextLink"])}const u=new Map;s.forEach(g=>u.set(g.id,g.parentFolderId));const h=g=>{if(!g)return!1;let y=g,v=0;for(;y;){if(l&&y===l)return!0;const F=u.get(y);if(!F||(y=F,v++,v>30))break}return!1},m=s.filter(g=>!h(g.id)&&g.id!==l).map(g=>({id:g.id,displayName:`${g.indent}${g.displayName}`}));i.console.info("listMailFolders: loaded",m.length,"folders (excluding Deleted Items)"),r.next(m),r.complete()}catch(l){i.console.error("listMailFolders: error",l?.code??l),r.next([]),r.complete()}})()})}folderExists(e,i){var r=this;return new ie(o=>{E(function*(){if(!e)return r.console.info("folderExists: no folderId provided -> false"),o.next(!1),void o.complete();const s=i?`/users/${i}/mailFolders/${e}`:`/me/mailFolders/${e}`;r.console.info("folderExists: checking folder",s);try{const a=yield r.graphClient.api(s).select("id,displayName,parentFolderId").get();if(!a||!a.id)return r.console.info("folderExists: folder GET returned no id",e),o.next(!1),void o.complete();const c=i?`/users/${i}/mailFolders/deleteditems`:"/me/mailFolders/deleteditems";let l;try{l=(yield r.graphClient.api(c).select("id").get())?.id,r.console.info("folderExists: deletedItems id for mailbox",l)}catch(h){r.console.info("folderExists: could not resolve deletedItems id, proceeding without deleted-items-check",h?.code??h),l=void 0}let d=a.parentFolderId,u=0;for(;d;){if(u++,l&&d===l)return r.console.info("folderExists: folder is located under Deleted Items -> treat as non-existent",e),o.next(!1),void o.complete();if(u>20)break;try{const h=yield r.graphClient.api(i?`/users/${i}/mailFolders/${d}`:`/me/mailFolders/${d}`).select("id,parentFolderId").get();if(!h)break;d=h.parentFolderId}catch(h){r.console.info("folderExists: could not fetch parent folder, assume exists",h?.code??h);break}}r.console.info("folderExists: folder exists and is valid target",e),o.next(!0),o.complete()}catch(a){r.console.info("folderExists: folder not found or error",e,a?.code??a),o.next(!1),o.complete()}})()})}moveMessage(e,i,r){return new ie(o=>{const s=e.replaceAll("/","-"),a=r?`/users/${r}/messages/${s}/move`:`/me/messages/${s}/move`;this.console.info("moveMessage: moving",s,"to folder",i),this.graphClient.api(a).post({destinationId:i}).then(()=>{this.console.info("moveMessage: success"),o.next(!0),o.complete()}).catch(c=>{this.console.error("moveMessage: error",c),o.next(!1),o.complete()})})}deleteMessage(e,i){return new ie(r=>{const o=e.replaceAll("/","-"),s=i?`/users/${i}/messages/${o}/move`:`/me/messages/${o}/move`;this.console.info("deleteMessage: moving to Deleted Items",o),this.graphClient.api(s).post({destinationId:"deleteditems"}).then(()=>{this.console.info("deleteMessage: success"),r.next(!0),r.complete()}).catch(a=>{this.console.error("deleteMessage: error",a),r.next(!1),r.complete()})})}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(Kk))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ys=(()=>{class n{constructor(){this.imgTag=/<img.+?>/g,this.srcAtt=/(?:\bsrc=)("?)([^>"]+)\1/,this.htmlRegEx=/<\/?[a-z][\s\S]*>/i}fixImgTags(e){return e.replace(this.imgTag,i=>(i=i.replace(this.srcAtt,"")).replace(/\boriginalsrc=/,"src="))}isHtml(e){return this.htmlRegEx.test(e)}parseHtmlEntities(e){return e&&e.replace(/&#([0-9]+);/gi,(i,r)=>String.fromCharCode(parseInt(r,10))).replace(/&#x([0-9a-f]+);/gi,(i,r)=>String.fromCharCode(parseInt(r,16))).replace(/&quot;/gi,'"').replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&apos;/gi,"'").replace(/&auml;/gi,"\xe4").replace(/&ouml;/gi,"\xf6").replace(/&uuml;/gi,"\xfc").replace(/&Auml;/gi,"\xc4").replace(/&Ouml;/gi,"\xd6").replace(/&Uuml;/gi,"\xdc").replace(/&szlig;/gi,"\xdf")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yk=(()=>{class n{constructor(e){this.waitList=e,this.isInit=!1}set initComplete(e){this.isInit=e,e&&this.informWaitList()}get initComplete(){return this.isInit}waitForInit(){return new ie(e=>{e.next(this.isInit),this.isInit?(e.complete(),this.informWaitList()):this.waitList.addToWaitList("init",e)})}informWaitList(){const e=this.waitList.accessWaitList("init");for(const i of e)i.next(this.initComplete),this.initComplete&&i.complete();this.waitList.clearWaitList("init")}static{this.\u0275fac=function(i){return new(i||n)(J(ki))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qk=(()=>{class n{constructor(e,i,r){this.init=e,this.messageService=i,this.globals=r,this.isInit=!1,this.initServiceInit=!1,this.init.waitForInit().subscribe(o=>{this.initServiceInit=o,this.deactivateLoader()}),this.forceOpen=!1,this.loaderTimeout=null,this.isActive=!1}deactivateLoaderAfterTimeout(){this.isActive&&(this.loaderTimeout=setTimeout(()=>{this.forceDeactivateLoader()},5e3))}activateLoader(e,i){this.globals.loginOpen||(this.clearTimeout(),this.deactivateLoaderAfterTimeout()),i&&(this.isActive=!0,this.forceOpen=i),this.isInit&&(this.isActive=!0,this.loaderCompSubscriber.next({activate:!0,modal:e}))}clearTimeout(){this.messageService.clearConnectionTimeout(),this.loaderTimeout&&(clearTimeout(this.loaderTimeout),this.loaderTimeout=null)}deactivateLoader(){this.isInit&&this.initServiceInit&&!this.forceOpen&&(this.isActive=!1,this.globals.loginOpen||this.clearTimeout(),this.messageService.clearConnectionTimeout(),this.loaderCompSubscriber.next({activate:!1}))}forceDeactivateLoader(){this.isActive=!1,this.globals.loginOpen||this.clearTimeout(),this.forceOpen=!1,this.loaderCompSubscriber.next({activate:!1})}connectToService(){return new ie(e=>{this.loaderCompSubscriber=e,this.isInit=!0})}static{this.\u0275fac=function(i){return new(i||n)(J(Yk),J(Bn),J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_me=(()=>{class n{constructor(e,i,r,o,s){this.translate=e,this.connection=i,this.globals=r,this.messageService=o,this.loaderService=s}invokeSoap(e,i,r){return new ie(o=>{if(null!==i&&"object"==typeof i)try{let s='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:urn="urn:DefaultNamespace"><soapenv:Header/><soapenv:Body><urn:'+e+">";for(const a in i)r?(s+="<"+a+' soapenc:arrayType="xsd:string[1]"><item><![CDATA['+i[a]+"]]></item></"+a+">",r=!1):s+="<"+a+"><![CDATA["+i[a]+"]]></"+a+">";s+="</urn:"+e+"></soapenv:Body></soapenv:Envelope>",this.connection.postSoap(this.globals.getSystemBaseUrl()+"/businessMailContacts",s).subscribe(a=>{a.then(c=>{200===c.status?c.text().then(l=>{const d=(new window.DOMParser).parseFromString(l,"text/xml"),u=d.getElementsByTagName(e+"Return")[0],h=[];let m;if(d.childNodes.length>0)for(let g=0;g<u.childNodes.length;g++)m=u.childNodes[g],h.push(m.textContent?m.textContent:"");else h.push(d.textContent?d.textContent:"");o.next(this.arrayToObj(h,"~#~"))}):o.error(new Error(""))})})}catch{this.translate.get("LC53488").subscribe(a=>{this.messageService.showError(a),this.loaderService.deactivateLoader(),o.error(Error(a))})}else this.translate.get("LC53487").subscribe(s=>{throw this.messageService.showError(s),Error(s)})})}arrayToObj(e,i){const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o].split(i);s.length>=2?r[s[0]]=s[1]:1===s.length&&(r[s[0]]="")}return r}static{this.\u0275fac=function(i){return new(i||n)(J(zn),J(Lr),J(Dt),J(Bn),J(Qk))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oV=(()=>{class n{constructor(){this.duplicateDetected$=new Oe,this.ticketCreated$=new Oe}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _o=navigator.language;let bme=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,m,g){this.connection=e,this.modalService=i,this.globals=r,this.globalsService=o,this.translate=s,this.messageService=a,this.dialogService=c,this.graph=l,this.htmlHelper=d,this.soapService=u,this.settings=h,this.ticketEvents=m,this.waitList=g,this.console=new li("GiService")}getContacts(){return E(function*(){})()}fetchDBs(e,i){return Vt(this.connection.getReqNoCache(e,i,void 0,!0))}fetchActivityTypes(e){return new ie(i=>{let r={};r.pointer=e,this.connection.getReqNoCache("activityTypes",this.connection.objectToHttpParams(r),void 0,!0).subscribe({next:o=>{let s=[];for(let a of o)s.push({name:a[0],alias:a[1]});i.next(s)},error:o=>{i.error(o)},complete:()=>{}})})}fetchActivities(e,i){return new ie(r=>{let o=new Yt;e&&(o=o.append("pointer",e.pointer),o=o.append("maxentries",i?i.toString():"32767"),void 0!==e.companyPointer&&(o=o.append("companypointer",e.companyPointer)),this.connection.getReqNoCache("activities",o,void 0,!0).subscribe({next:s=>{s.type="activities",s.hasMore=10===s.activities.length,r.next(s)},error:s=>{r.error(s)},complete:()=>{}})),this.connection.getReqNoCache("activityTypes",o,void 0,!0).subscribe({next:s=>{s.type="types",r.next(s)},error:s=>{r.error(s)},complete:()=>{}})})}getContactDBs(){return Vt(this.fetchDBs("dbConnections",null))}fetchSearch(e,i,r){let s=r;s||(s="*");const a={};return a.searchKey=s,i?a.pointer=i:a.database=e,Vt(this.connection.getReqNoCache("search",this.connection.objectToHttpParams(a),void 0,!0))}searchProjects(e,i,r){let s=r;s||(s="*");const a={};return a.searchKey=s,i&&(a.pointer=i),e&&(a.database=e),Vt(this.connection.getReqNoCache("projects",this.connection.objectToHttpParams(a),void 0,!0))}searchDocuments(e,i,r){this.console.info("database is before: ",e),this.console.info("searchResultType is before: ",e.type);let s=r;s||(s="*");const a={};return a.searchKey=s,i&&(a.pointer=i),e&&(a.database=e.alias),Array.isArray(e.type)?a.type=e.type.map(c=>"ProjectManagement"===c?"Projects":"Event"===c?"Events":"Office"===c?"Activities":c):("ProjectManagement"===e.type?e.type="Projects":"Event"===e.type?e.type="Events":"Office"===e.type&&(e.type="Activities"),a.type=e.type),this.console.info("searchResultType is after: ",a.type),this.console.info("Request parameters:",this.connection.objectToHttpParams(a)),Vt(this.connection.getReqNoCache("documents",this.connection.objectToHttpParams(a),void 0,!0))}handleSearchResult(e,i,r){let o=Array();if(i===Vs.Contact)this.console.info("ContactResult:",e),this.console.info("activeWindow is: ",this.globals.activeWindow),Array.isArray(e)&&(e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);c.value?(c.value.firstname||c.value.lastname?(a.lineOne=c.value.lastname+", "+c.value.firstname,a.lineTwo=c.value.company||c.display||"",a.lineThree=c.value.zipandcity+c.value.branchtype||""):(a.lineOne=c.value.company||"",a.lineTwo=c.value.zipandcity||"",a.lineThree=c.value.branchtype||""),a.image=c.value.viewicon||"",a.fdMe=s.value):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)}),"companyPage"===this.globals.activeWindow&&(o=o.filter(s=>s.fdMe.includes("|Company|")))),this.console.info("searchResultsArray: ",o);else if(i===Oa.contacts){if(this.console.info("Contact_Lead_Orga_Result:",e),null!=e.result&&Array.isArray(e.result)&&e.result.length>0){let s=e.result;for(let a=0;a<s.length;a++){let c=s[a];if(c.value.mail){let l=new Wr,d=c.value.fdCompanyRel;l.email=c.value.mail,l.fdMe=c.value.fdMe,"iraCEViewIconLead"===c.value.icon&&(c.value.icon="777"),l.image=c.value.icon,l.lineOne=c.display,l.lineTwo=d?c.value.company+" ("+d+")":c.value.company,l.lineThree=c.value.postal,o.push(l)}}}}else if(i===Oa.projects){if(this.console.info("ProjectResult:",e),Array.isArray(e.projects)){let s=e.projects;if(0!==e.assignedProjects.length&&r.participantProjects)if(e.assignedProjectsWithDisplay?.length>0)for(let a of e.assignedProjectsWithDisplay){let c=new Wr;c.fdMe=a.pointer,c.lineOne=a.name,c.image="025",c.lineTwo=this.globals.infoShower.displayedDestination.name,c.lineThree=a.projectNumber,o.push(c)}else for(let a of e.assignedProjects){let c=s.find(d=>d.pointer===a),l=new Wr;c&&(l.fdMe=c.pointer,l.image=c.icon,l.lineOne=c.name,l.lineTwo=c.owner,l.lineThree=c.number,o.push(l))}else if(!r.participantProjects)for(let a=0;a<s.length;a++){let c=s[a],l=new Wr;l.fdMe=c.pointer,l.image=c.icon,l.lineOne=c.name,l.lineTwo=c.owner,l.lineThree=c.number,o.push(l)}}}else i===Vs.Projects?(this.console.info("ProjectsResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.display,c.value?(a.lineTwo=c.value.projectnumber||"",a.lineThree=c.value.owner||"",a.fdMe=s.value,a.image=c.value.viewicon||""):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)})):i===Vs.Service?(this.console.info("ServiceResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.display,c.value?(a.lineOne=c.value.ticketnumber+" "+c.display,a.lineTwo=c.value.companyrel+" "+c.value.company+" "+c.value.contact||"",a.lineThree=c.value.category+" "+c.value.subcategory||"",a.fdMe=s.value,a.image=c.value.viewicon||""):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)})):i===Vs.Opportunity?(this.console.info("OpportunityResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.display,c.value?(a.lineTwo=c.value.opportunityno||"",a.lineThree="",a.image=c.value.viewicon||"",a.fdMe=s.value):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)})):i===Vs.Events?(this.console.info("EventsResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.display,c.value?(a.lineTwo=c.value.eventname||"",a.lineThree=c.value.startdate||"",a.image=c.value.viewicon||"",a.fdMe=s.value):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)})):i===Vs.Organization?(this.console.info("OrganizationResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.value.company||"",c.value?(a.lineTwo=c.value.lastname+c.value.firstname||"",a.lineThree=c.value.specialtext+c.value.zipandcity||"",a.image=c.value.viewicon||"",a.fdMe=s.value):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)})):i===Vs.Activities?(this.console.info("OfficeResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);a.lineOne=c.display||"",c.value?(a.lineTwo=c.value.company||"",a.lineThree=c.value.contact||"",a.image=c.value.viewicon?c.value.viewicon||"":"058",a.fdMe=s.value):(a.lineTwo="",a.lineThree="",a.fdMe="",a.image="058"),o.push(a)})):i===Vs.Leads&&(this.console.info("LeadsResult:",e),Array.isArray(e)&&e.forEach(s=>{let a=new Wr,c=JSON.parse(s.displayJSON);c.value?(c.value.firstname?(a.lineOne=c.value.lastname+", "+c.value.firstname||"",a.lineTwo=c.value.company+(c.value.zipandcity||"")||"",a.lineThree=c.value.leadinterest):c.value.company||c.value.branchtype?(a.lineOne=c.value.company||c.value.branchtype,a.lineTwo=c.value.zipandcity||"",a.lineThree=c.value.leadinterest):(a.lineOne=c.value.leadinterest||"",a.lineTwo="",a.lineThree=""),a.image=c.value.viewicon||"",a.fdMe=s.value):(a.lineOne=c.value.company||c.display||"",a.lineTwo="",a.lineThree="",a.fdMe="",a.image=""),o.push(a)}));return o}getImageSrc(e){if(e.includes("assets/images/vwicn"))return e;{let i=Number(e);return"assets/images/vwicn"+this.leadingZeros(i)+".svg"}}getBase64Image(e){return e}leadingZeros(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}retrieveDataForItem(e){return new ie(i=>{if(Office.context.mailbox.item){let r=Office.context.mailbox.item;const o=void 0===r.getItemIdAsync||void 0===typeof r.getItemIdAsync;this.console.info(r),r.body.getAsync(Office.CoercionType.Html,e,s=>{if(s.status!==Office.AsyncResultStatus.Failed){if("appointment"===r.itemType)throw new Error("Appointment direct sync not supported.");o?this.retrieveDataForEmailRead(r,s).subscribe({next:a=>{i.next(a)},error:a=>{i.error(a)}}):this.retrieveDataForEmailEdit(r,s).subscribe({next:a=>{i.next(a)},error:a=>{i.error(a)}})}})}else i.next(null)})}retrieveDataForAppointmentRead(e,i){return new ie(r=>{this.graph.getAttachments(e.itemId,e).subscribe(o=>{r.next({body:i.value,subject:e.subject,optionalAttendees:e.optionalAttendees,requiredAttendees:e.requiredAttendees,start:new Date(e.start).toISOString(),end:new Date(e.end).toISOString(),attachments:o})},o=>r.error(o))})}retrieveDataForAppointmentEdit(e,i){return new ie(r=>{e.subject.getAsync({},o=>{o.status!==Office.AsyncResultStatus.Failed&&e.optionalAttendees.getAsync(s=>{s.status!==Office.AsyncResultStatus.Failed&&e.requiredAttendees.getAsync(a=>{a.status!==Office.AsyncResultStatus.Failed&&e.start.getAsync(c=>{c.status!==Office.AsyncResultStatus.Failed&&e.end.getAsync(l=>{l.status!==Office.AsyncResultStatus.Failed&&this.graph.getAttachments(e.itemId,e).subscribe(d=>{r.next({body:i.value,subject:o.value,optionalAttendees:s.value,requiredAttendees:a.value,start:new Date(c.value).toISOString(),end:new Date(l.value).toISOString(),attachments:d})},d=>r.error(d))})})})})})})}retrieveDataForEmailRead(e,i){return new ie(r=>{this.graph.getAttachments(e.itemId,e).subscribe(o=>{r.next({to:e.to,from:e.from,cc:e.cc,bcc:e.bcc,subject:e.subject,sender:e.sender,contentType:"html",body:i.value,date:new Date(e.dateTimeCreated).getTime(),messageID:e.internetMessageId,preview:"",isIncoming:this.globals.incomingMail,attachments:o,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""})},o=>r.error(o))})}retrieveDataForEmailEdit(e,i){return new ie(r=>{e.saveAsync(o=>{o.status!==Office.AsyncResultStatus.Failed&&e.to.getAsync(s=>{s.status!==Office.AsyncResultStatus.Failed&&e.from.getAsync(a=>{a.status!==Office.AsyncResultStatus.Failed&&e.cc.getAsync(c=>{c.status!==Office.AsyncResultStatus.Failed&&e.bcc.getAsync(l=>{l.status!==Office.AsyncResultStatus.Failed&&e.subject.getAsync(d=>{d.status!==Office.AsyncResultStatus.Failed&&this.graph.getAttachments(o.value,e).subscribe(u=>{let h=[];u.forEach(m=>{m.inline&&!i.value.includes(m.cid)||h.push(m)}),r.next({to:s.value,from:a.value,cc:c.value,bcc:l.value||[],subject:d.value,sender:e.sender,contentType:"html",body:this.htmlHelper.fixImgTags(i.value),date:(new Date).getTime(),messageID:o.value,preview:"",isIncoming:!1,attachments:h,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""})},u=>r.error(u))})})})})})})})}retrieveDataForItemByGraph(e){return new ie(i=>{const r=e.replaceAll("/","-");this.graph.graphClient.api(`/me/messages/${r}`).select("id,subject,from,toRecipients,ccRecipients,bccRecipients,sender,body,internetMessageId,createdDateTime,receivedDateTime,internetMessageHeaders").get().then(o=>{const s=o.from?.emailAddress?{emailAddress:o.from.emailAddress.address,displayName:o.from.emailAddress.name||""}:{emailAddress:"",displayName:""},a=s,c=(o.toRecipients||[]).map(v=>({emailAddress:v.emailAddress?.address||"",displayName:v.emailAddress?.name||""})),l=(o.ccRecipients||[]).map(v=>({emailAddress:v.emailAddress?.address||"",displayName:v.emailAddress?.name||""})),d=(o.bccRecipients||[]).map(v=>({emailAddress:v.emailAddress?.address||"",displayName:v.emailAddress?.name||""})),u=o.subject||"",h=o.body?.content||"",m=o.receivedDateTime||o.createdDateTime||(new Date).toISOString(),g=o.internetMessageId||"";let y=this.globals.incomingMail;if(o.internetMessageHeaders){const v=o.internetMessageHeaders.find(F=>"X-MS-Exchange-Organization-MessageDirectionality"===F.name);v&&(y="Incoming"===v.value||"Originating"===v.value)}this.graph.graphClient.api(`/me/messages/${r}/attachments`).get().then(v=>{this.graph.prepareAttachments(v,void 0,r).subscribe(F=>{i.next({to:c,from:s,cc:l,bcc:d,subject:u,sender:a,contentType:"html",body:h,date:new Date(m).getTime(),messageID:g,preview:"",isIncoming:y,attachments:F,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""}),i.complete()})}).catch(v=>{i.next({to:c,from:s,cc:l,bcc:d,subject:u,sender:a,contentType:"html",body:h,date:new Date(m).getTime(),messageID:g,preview:"",isIncoming:y,attachments:[],officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""}),i.complete()})}).catch(o=>{this.console.error("retrieveDataForItemByGraph failed:",o),i.error(o.code||"graphFetchError")})})}documentSingleItemByGraph(e,i){return new ie(r=>{this.retrieveDataForItemByGraph(e).subscribe({next:o=>{if(!o)return void r.error("No data returned from Graph");i.replyTo&&(o.replyTo=i.replyTo);let s=new Yt;s=s.set("data",JSON.stringify(o)),s=s.set("isNewItem","true"),this.connection.postReq("convert",s,!1,{headers:{"content-type":"application/x-www-form-urlencoded"}},!0).subscribe({next:a=>{if(null==a||""===a)return void r.error("convert step 1 returned empty result");const c=a;let l="store";this.globals.deleteAttachments&&(l="storedelattach");let d=new Yt;if(d=d.set("unid",c),d=d.set("pointer",i.documentTarget),i.officeDB&&(d=d.set("office",i.officeDB)),d=d.set("command",l),d=d.set("origUnid",o.messageID),d=d.set("isNewItem","true"),i.selectedProjects)try{const u=JSON.parse(i.selectedProjects).filter(h=>null!==h);u.length>0&&(d=d.set("projects",u.map(h=>h.pointer).join(";")))}catch{}if(i.tags)try{const u=JSON.parse(i.tags);if(u&&u.length>0){const h=u.map(m=>m[0]).join("#~#");d=d.set("tags",h)}}catch{}d=d.set("allow-duplicate","true"),this.connection.postReq("convert",d,!1,void 0,!0).subscribe({next:u=>{r.next(u),r.complete()},error:u=>{u.status>=200&&u.status<300?(r.next(u),r.complete()):r.error(u)}})},error:a=>{r.error(a)}})},error:o=>{r.error(o)}})})}documentItemWithoutUI(e){var i=this;return new ie(r=>{"doNotDocument"!==this.globals.infoShower.selectedEmailAddress?this.retrieveDataForItem({}).subscribe({next:o=>{e.replyTo&&(o.replyTo=e.replyTo),this.console.info("Documenting new item:",o);let s=new Yt;var a;s=s.set("data",JSON.stringify(o)),s=s.set("isNewItem","true"),this.connection.postReq("convert",s,!1,{headers:{"content-type":"application/x-www-form-urlencoded"}},!0).subscribe({next:(a=E(function*(c){if(null!=c&&""!==c){const l=c;let d="store";i.globals.deleteAttachments&&(d="storedelattach");let u=new Yt;if(u=u.set("unid",l),u=u.set("pointer",e.documentTarget),e.officeDB&&(u=u.set("office",e.officeDB)),u=u.set("command",d),u=u.set("origUnid",o.messageID),u=u.set("isNewItem","true"),e.selectedProjects){let h=e.selectedProjects;if(h&&h.length>0){let m=JSON.parse(h),g=[];for(let y=0;y<m.length;y++)null!==m[y]&&(g.push(m[y]),i.console.info("Pointer:",m[y].pointer));u=u.set("projects",g.map(y=>y.pointer).join(";"))}}if(e.tags){let h=JSON.parse(e.tags);if(h&&h.length>0){let m=h.map(g=>g[0]).join("#~#");u=u.set("tags",m),i.console.info("GI Tags added to documentItemWithoutUI:",m)}}i.allowDuplicate&&(u=u.set("allow-duplicate","true"),i.allowDuplicate=!1),i.connection.postReq("convert",u,!1,void 0,!0).subscribe({next:h=>{r.next(!0)},error:h=>{i.globals.hideSpinner(),200!==h.status&&r.next(409===h.status?void 0:h),r.error(h)},complete:()=>{}})}}),function(l){return a.apply(this,arguments)}),error:a=>{r.next(a),this.globals.hideSpinner()},complete:()=>{}})},error:o=>{this.translate.get(o).subscribe(s=>{r.error(this.globals.languageConfLocal[o])})}}):r.next(void 0)})}documentItemWithUI(e){this.console.info("=== DOCUMENT ITEM WITH UI START ==="),this.console.info("description is in gi service",e),this.console.info("description.tags:",e.tags),this.globals.showSpinner(),this.retrieveDataForItem({}).subscribe({next:i=>{this.console.info("Documenting new item:",i);let o,s,r=e.selectedProjects;if(e.replyTo&&(i.replyTo=e.replyTo),r&&r.length>0){o=JSON.parse(r);let c=[];for(let l=0;l<o.length;l++)null!==o[l]&&(c.push(o[l]),this.console.info("Pointer:",o[l].pointer));o=c.map(l=>l.pointer).join(";")}if(e.tags){this.console.info("=== PROCESSING TAGS ==="),this.console.info("Raw tags from description:",e.tags);let c=JSON.parse(e.tags);this.console.info("Parsed tags:",c),c&&c.length>0&&(s=c.map(l=>l[0]).join("#~#"),this.console.info("GI Tags prepared for documentation:",s))}else this.console.info("=== NO TAGS FOUND ==="),this.console.info("description.tags is:",e.tags);let a="";e.officeDB&&(a=e.officeDB),this.console.info("=== CALLING DOCUMENT METHOD ==="),this.console.info("tagsData being passed:",s),this.document(i,e.documentTarget,a,"",o,s),this.console.info("itemData is in gi service",i)},error:i=>{this.translate.get(i).subscribe(r=>{this.globals.hideSpinner(),this.messageService.showError(this.globals.languageConfLocal[i],"",void 0,1e4)})}})}document(e,i,r,o,s,a){var l,c=this;this.console.info("=== GI DOCUMENTATION REQUEST ==="),this.console.info("documnent/retrieve Data: ",e),this.console.info("Tags for documentation: ",a),this.console.info("Projects for documentation: ",s),this.connection.postReq("convert","data="+encodeURIComponent(JSON.stringify(e)),!1,{headers:{"content-type":"application/x-www-form-urlencoded"}},!0).subscribe({next:(l=E(function*(d){if(null!=d&&""!==d){c.globals.showSpinner();const u=d;let h="store";c.globals.deleteAttachments&&(h="storedelattach");let m=new Yt;m=m.set("unid",u),m=m.set("pointer",i),m=m.set("office",r),m=m.set("command",h),m=m.set("origUnid",e.messageID),s&&(m=m.set("projects",s),c.console.info("Added projects to request:",s)),a&&(m=m.set("tags",a),c.console.info("=== FINAL REQUEST PARAMETERS ==="),c.console.info("Adding tags parameter to GI request:",a)),c.allowDuplicate&&(m=m.set("allow-duplicate","true"),c.allowDuplicate=!1),c.console.info("=== ALL REQUEST PARAMETERS ==="),c.console.info("Full parameter object:",{unid:m.get("unid"),pointer:m.get("pointer"),office:m.get("office"),command:m.get("command"),origUnid:m.get("origUnid"),projects:m.get("projects"),tags:m.get("tags"),"allow-duplicate":m.get("allow-duplicate")}),c.console.info("Request URL will be: convert?"+m.toString()),c.connection.postReq("convert",m,!1,void 0,!0).subscribe({next:g=>{c.translate.get("translationWait").subscribe(y=>{c.globals.hideSpinner(),c.messageService.showSuccess(c.globals.languageConfLocal.emailDocumented)}),c.globals.projectSelector.projects=[],c.globals.tagSelector.enums=[],c.globals.addressActivities.removeDocumentDestination(null),c.globals.openMail&&(m=new Yt,m.set("openDocument",g),window.open(c.globals.convertToLink(g),"_blank")),c.globals.addressActivities.refresh(),c.globals.hideSpinner(),c.graph.getExtendedData(c.globals.infoShower.currentItemId).subscribe(y=>{y.selectedProjects="",y.tags="",c.graph.saveExtendedData(c.globals.infoShower.currentItemId,y).subscribe(v=>{c.console.info("Tags cleared after GI documentation")})}),c.globals.projectSelector.projectPhaseResultArray=[],c.globals.projectSelector.projectPhases=[],c.globals.infoShower.documentDestinationCheckChanged()},error:g=>{if(c.globals.hideSpinner(),409===g.status){const y=new lb;y.disableClose=!0,y.autoFocus=!0,c.dialogService.createDialogWithType(Us.alreadyDocumented,y).subscribe(v=>{v.afterClosed().subscribe(F=>{c.console.info("Dialog result:",F),!0===F&&(c.globals.showSpinner(),c.allowDuplicate=!0,c.document(e,i,r,o,s,a))})})}else if(200!==g.status)return void(g.statusText.includes("CEGetMail")?(c.messageService.showInfo(c.globals.languageConfLocal.noUserAssignedTicket),setTimeout(()=>{c.globals.hideSpinner()},c.messageService.getTimeoutMS())):(c.translate.get("LC73235").subscribe(y=>{c.messageService.showError(y)}),c.messageService.showError(g.statusText),c.globals.hideSpinner()))},complete:()=>{}})}else c.translate.get("LC53488").subscribe(u=>{c.globals.hideSpinner(),c.messageService.showError(u)})}),function(u){return l.apply(this,arguments)}),error:l=>{this.messageService.showError(l.statusText),this.globals.hideSpinner()},complete:()=>{}})}resetAllowDuplicate(){this.allowDuplicate=!1}setCRMdata(e,i){return new ie(r=>{r.next(null)})}retrieveItemIdForItem(){return new ie(e=>{e.next("never called")})}getPhasesOfPointer(e){return new ie(i=>{this.connection.postReq("phases",e,!0).subscribe(r=>{let o=[];for(let s=0;s<r.length;s++){let a=r[s];for(let c of a.projectphases){let l=new Wr;l.lineOne=c.name,l.lineTwo=a.projectDisplay,l.fdMe=c.pointer,l.image="078",l.parentPointer=a.projectPointer,o.push(l)}}o=o.sort((s,a)=>s.lineTwo.localeCompare(a.lineTwo)||s.lineOne.localeCompare(a.lineOne)),i.next(o)})})}changeActivityListType(e){return new ie(i=>{this.connection.postReq("activityTypes","displaydocumentstype="+e,!1).subscribe(r=>{i.next(r)})})}addToRecentlyUsed(e){}getProductVersion(){return new ie(e=>{void 0!==this.globals.configJson.giVersionNumber&&this.globals.configJson.giVersionNumber?(this.globals.configJson.giVersionNumber.majorVersion>=8&&this.globals.configJson.giVersionNumber.maintenanceVersion>=16&&this.globals.configJson.giVersionNumber.serviceVersion>0?e.next(this.globals.configJson.giVersionNumber.majorVersion+"."+this.globals.configJson.giVersionNumber.maintenanceVersion+"."+this.globals.configJson.giVersionNumber.serviceVersion):this.globals.configJson.giVersionNumber.majorVersion>=8&&this.globals.configJson.giVersionNumber.maintenanceVersion>=16?e.next(this.globals.configJson.giVersionNumber.majorVersion+"."+this.globals.configJson.giVersionNumber.maintenanceVersion):15===this.globals.configJson.giVersionNumber.maintenanceVersion?e.next("8.15"):this.globals.configJson.giVersionNumber.maintenanceVersion<=14&&e.next("8.14"),e.complete()):(this.globals.configJson.webUrl&&""!==this.globals.configJson.webUrl||void 0!==this.globals.infoShower?this.globals.configJson.webUrl&&""!==this.globals.configJson.webUrl||void 0===this.globals.infoShower?this.globals.configJson.webUrl&&this.globals.configJson.webUrl.length>=5?e.next("8.15"):this.globals.configJson.webUrl&&(0===this.globals.configJson.webUrl.length||!this.globals.configJson.webUrl.length)&&e.next("8.14"):e.next("8.14"):e.next(this.globals.languageConfLocal.notConnected),e.complete())})}getDocumentsChips(e){return new ie(i=>{i.next([])})}readCRMDataForItem(e){return new ie(i=>{this.graph.getExtendedData(e).subscribe(r=>{i.next(r)})})}extractContactData(e){return new ie(i=>{try{this.soapService.invokeSoap("scanMailFooter",{mailContent:e}).subscribe(r=>{if(this.console.info("Soapresponse:",r),r){let o=new Zc;o.City=r.City,o.Company=r.Company,o.CompanyAddress=r.Address1,o.CompanyEmail="",o.Department=r.Department,o.Email=r.EMailAddress,o.Fax=r.Fax,o.FirstName=r.FirstName,o.LastName=r.LastName,o.MiddleName=r.MiddleName,o.Mobile=r.CellPhone,o.Phone=r.MainPhone,o.Street=r.Address2,o.Url=r.HomePage,o.Zip=r.ZipCode,o.ZipCity=r["ZipCode#City"],i.next(o)}else i.next(new Zc)})}catch{}})}quickCreateContact(e,i,r,o){return new ie(s=>{let a={Address1:e.CompanyAddress??"",Address2:e.Street??"",CellPhone:e.Mobile,City:e.City??"",Company:e.Company??"",Department:e.Department??"",EMailAddress:e.Email??"",Fax:e.Fax,FirstName:e.FirstName??"","FirstName#LastName":e.FirstName+"#"+e.LastName,HomePage:e.Url,LastName:e.LastName??"",MainPhone:e.Phone,MiddleName:e.MiddleName??"",State:"",Title:"",ZipCode:e.Zip??"","ZipCode#City":(e.Zip??"")+"#"+(e.City??"")};this.globals.showSpinner();let c="toCompany";"compExist"===r||"contNew"===i&&"compSelect"===r?(c="toCompany",this.create(a,o,c,e.CompanyPointer).subscribe(l=>{s.next(l)})):("contNo"===i?c="company":"contNew"===i&&"compNew"===r?c="toCompany":"contNew"===i&&"compNo"===r&&(c="person"),this.create(a,o,c).subscribe(l=>{s.next(l)}))})}create(e,i,r,o){return new ie(s=>{switch(r){case"company":this.handleCreateCompany(e,i).subscribe(a=>{s.next(a)});break;case"toCompany":o?this.handleCreateAddressToCompany(e,i,o).subscribe(a=>{s.next(a)}):this.handleCreateCompany(e,i).subscribe(a=>{s.next(a)});break;case"person":this.handleCreatePrivatePerson(e,i).subscribe(a=>{s.next(a)});break;default:this.translate.get("LC53496").subscribe(a=>{this.messageService.showError(a),s.error(a)})}})}replaceWithCompanyData(e,i){return new ie(r=>{this.soapService.invokeSoap("GetAddressByID",{fdme:i}).subscribe(o=>{if((o=Object.keys(o)).length>0){const s=o[0].split("~*~");null!=s&&(e.Company=s[29],e.Address1=s[10],e.Address2=s[30],e.ZipCode=s[12],e.City=s[11],e.State=s[14],e.CountryToo=s[13])}r.next(e)})})}handleCreateCompany(e,i){return new ie(r=>{if(null==e.Company||""===e.Company){let o=this.globals.languageConfLocal.CompanyNameRequired;this.messageService.showError(o),r.error(o)}else{let o="";for(const a in e)e.hasOwnProperty(a)&&(o+="~*~"+a+"~#~"+e[a]);o="~*~"+e.Company+o,o+="~*~fdCorreType~#~GeMain",o+="~*~fdIsNewDoc~#~0",o+="~*~AddressSynch~#~0";const s={};s.addressData=o,s.contactsPath="$"+i,s.targetCompanyId="",s.languageCode=Array.isArray(_o)&&_o.length>0?_o[0]:_o;try{this.soapService.invokeSoap("CreateAddresses",s,!0).subscribe(a=>{this.console.info(a),1===Object.keys(a).length?r.next(a):this.translate.get("LC53496").subscribe(l=>{this.messageService.showError(l)})})}catch(a){this.messageService.showError(a.message)}}})}handleCreateAddressToCompany(e,i,r){return new ie(o=>{r?this.replaceWithCompanyData(e,r).subscribe(s=>{if(e.Company=s.Company,e.Address1=s.Address1,e.Address2=s.Address2,e.ZipCode=s.ZipCode,e.City=s.City,e.State=s.State,e.CountryToo=s.CountryToo,(null==e.MainPhone||0===e.MainPhone.localeCompare(""))&&(e.MainPhone=s.MainPhone),(null==e.Fax||0===e.Fax.localeCompare(""))&&(e.Fax=s.Fax),null==e.LastName||0===e.LastName.localeCompare("")){let l=this.globals.languageConfLocal.LastNameRequired;l=l.replace("{FIELDNAME}",e.get("LastName")),this.messageService.showError(l)}let a="";for(const l in e)e.hasOwnProperty(l)&&(a+="~*~"+l+"~#~"+e[l]);a="~*~"+a,a+="~*~AddressSynch~#~1";const c={};c.addressData=a,c.contactsPath="$"+i,c.targetCompanyId=r,c.languageCode=Array.isArray(_o)&&_o.length>0?_o[0]:_o;try{this.soapService.invokeSoap("CreateAddresses",c,!0).subscribe(l=>{const d=Object.keys(l);1===d.length?(o.next(l),this.settings.OpenAfterCreate&&window.open(this.globals.convertToLink(d[0]),"_blank")):this.translate.get("LC53496").subscribe(u=>{this.messageService.showError(u)})})}catch(l){this.messageService.showError(l.message),o.error(l.message)}}):this.translate.get("LC53496").subscribe(s=>{this.messageService.showError(s),o.error(s)})})}handleCreatePrivatePerson(e,i){return new ie(r=>{if(delete e.Company,null==e.LastName||0===e.LastName.localeCompare("")){let o=this.globals.languageConfLocal.LastNameRequired;o=o.replace("{FIELDNAME}",e.get("LastName")),this.messageService.showError(o),r.error(o)}else{let o="~*~";for(const a in e)e.hasOwnProperty(a)&&(o+="~*~"+a+"~#~"+e[a]);o+="~*~fdCorreType~#~GeMain",o+="~*~fdIsNewDoc~#~0",o+="~*~AddressSynch~#~0";const s={};s.addressData=o,s.contactsPath="$"+i,s.targetCompanyId="",s.languageCode=Array.isArray(_o)&&_o.length>0?_o[0]:_o;try{this.soapService.invokeSoap("CreateAddresses",s,!0).subscribe(a=>{const c=Object.keys(a);1===c.length?(r.next(a),this.settings.OpenAfterCreate&&window.open(this.globals.convertToLink(c[0]),"_blank")):this.translate.get("LC53496").subscribe(l=>{this.messageService.showError(l)})})}catch(a){this.messageService.showError(a.message),r.error(a.message)}}})}validateDataInBackend(){return new ie(e=>{e.next({Validation:"PASS"})})}getEnumValues(){return new ie(e=>{e.next([])})}getDocumentDBs(){return new ie(e=>{this.fetchDBs("dbConnections",null).subscribe(i=>{const r=Object.values(i).filter(c=>c.alias);this.console.info("objectDBlist: ",r);const s=this.bubbleSort(r).filter(c=>Array.isArray(c.type)?!c.type.includes("Organization"):"Organization"!==c.type).map(c=>Array.isArray(c.type)?c.type.map(l=>({title:c.title,alias:c.alias,officeDBs:c.officeDBs,type:l})):[{title:c.title,alias:c.alias,officeDBs:c.officeDBs,type:c.type}]).reduce((c,l)=>c.concat(l),[]),a=this.bubbleSort(s);this.console.info("sortedExpandedDBlist: ",a),e.next(a),e.complete()})})}getCompanies(){return new ie(e=>{this.getDocumentDBs().subscribe(i=>{i=i.filter(r=>"Contact"===r.type),e.next(i),e.complete()})})}bubbleSort(e){const i={Contact:1,Leads:2,Service:3,Opportunity:4,Office:5,ProjectManagement:6,Event:7,Organization:8};let r;do{r=!1;for(let o=0;o<e.length-1;o++){const s=i[e[o].type]-i[e[o+1].type];if(s>0||0===s&&e[o].title.localeCompare(e[o+1].title)>0){const a=e[o];e[o]=e[o+1],e[o+1]=a,r=!0}}}while(r);return e}getDisplayedType(e){switch(e){case"Opportunity":return"Business";case"Office":return"Activities";case"ProjectManagement":return"Projects";case"Event":return"Events";default:return e}}createLink(e){return this.globalsService.configJson.webUrl+"?loadTabs=false&openDocument="+e}getConfig(){return new ie(e=>{this.connection.getReqNoCache("config",null).subscribe(i=>{const r={...i};r.giVersionNumber||(r.giVersionNumber={majorVersion:8,maintenanceVersion:14,serviceVersion:0},this.console.info("Fallback GI-Version 8.14 gesetzt (giVersionNumber).")),e.next(r),e.complete()},i=>{this.console.error("Fehler beim Laden der ConfigUrl",i),e.error(i)})})}initFeatures(){return new ie(e=>{let i=!1;const r=()=>{i||(i=!0,this.getProductVersion().subscribe({next:o=>{this.console.info("GI Version for feature check:",o);const s=Object.values(zs);let a=[];s.forEach(c=>{let l=c.toString().split("|").find(m=>m.startsWith("vGI"))?.substring(3).split("."),d="string"==typeof o&&o.includes(".")?o.split("."):[],u=0,h=0;l&&d.length===l.length&&(u=parseInt(l.join(""),10)||0,h=parseInt(d.join(""),10)||0),this.console.info(`Feature ${c} requires min version ${l?.join(".")} (as number: ${u}), current version is ${d.join(".")} (as number: ${h})`),a.push({key:c,value:h>=u})}),this.console.debug("Features for GI "+o+": "+JSON.stringify(a)),e.next(a),e.complete()},error:()=>{e.next([]),e.complete()}}))};this.globals?.configJson?.giVersionNumber?r():this.waitList.addToWaitList("giFeaturesReady",{next:()=>{this.globals?.configJson?.giVersionNumber&&r()},error:()=>{e.next([]),e.complete()},complete:()=>{}})})}hasOfficeDBs(){return new ie(e=>{this.fetchDBs("dbConnections",null).subscribe({next:i=>{const r=this.checkForOfficeDBs(i);e.next(r),this.console.info("hasOfficeDBs:",r),e.complete()},error:()=>{e.next(!1),e.complete()}})})}checkForOfficeDBs(e){for(const i in e)if(e[i].officeDBs&&e[i].officeDBs.length>0)return!0;return!1}getKeyword(){return new ie(e=>{const i=this.globals.infoShower?.selectedOfficeDB||"";this.console.info("=== GI TAGS REQUEST ==="),this.console.info("Using Office DB for tags request:",i);const r=this.connection.objectToHttpParams({db:i,keyword:"CommonCategories",module:"basics"});this.console.info("Full request parameters:",{db:i,keyword:"CommonCategories",module:"basics"}),this.console.info("Request URL will be: keyword?"+r.toString()),this.connection.getReqNoCache("keyword",r).subscribe(o=>{this.console.info("=== GI TAGS RESPONSE ==="),this.console.info("response in keyword request: ",o),e.next({test:o}),e.complete()},o=>{this.console.info("=== GI TAGS ERROR ==="),this.console.info("An error occurred while trying to load the keyword",o),e.error("keywordError")})})}openTicketModal(){this.modalService.changeType({newType:"createTicket"})}fetchTicketTypes(){return new ie(e=>{this.connection.getReq("ticket",new Yt).subscribe({next:i=>{const r=i.filter(o=>"giRecentSelection"!==o[0]).map(o=>({key:o[0],value:o[1]}));e.next(r),e.complete()},error:i=>{this.console.error("[GIService] Error fetching ticket types:",i),e.error(i)}})})}getTicketTemplates(){return new ie(e=>{this.connection.getReq("ticket",new Yt).subscribe({next:i=>{this.console.info("[GIService] Received ticket templates:",i);const r=i.filter(o=>"giRecentSelection"!==o[0]).map(o=>({key:o[0],value:o[1]}));e.next(r),e.complete()},error:i=>{this.console.error("[GIService] Error fetching ticket templates:",i),e.error(i)}})})}resolveTicketTarget(e){const i=this.globals?.infoShower,r=String(i?.selectedEmailAddress&&"doNotDocument"!==i.selectedEmailAddress?i.selectedEmailAddress:e?.from?.address||"").trim();let o="";try{if("function"==typeof i?.getSelectedDocumentPointer&&(o=String(i.getSelectedDocumentPointer()||"").trim()),!o){const c=this.globals?.addressActivities?.documentsAsDestinations;if(Array.isArray(c)&&c.length>0){const l=c[0];o=String(l.pointer||l.fdMe||l.fdme||"").trim()}}}catch{}const s=Array.isArray(i?.destinationsToDisplay)&&i.destinationsToDisplay.length>0&&!i?.noneSelected;let a="";return o?a=o:s&&(a=String(i?.primaryPointer||i?.displayedDestination?.pointer||i?.initSelectedDoc||"").trim()),{pointer:a,email:r}}validateTicket(e){return new ie(i=>{this.connection.postReq("convert","data="+encodeURIComponent(JSON.stringify(e.data)),!1,{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe({next:r=>{this.console.info("[GIService] Result of creation",r),e.mailunid="OWA:"+r;const o={...e.data,...e,itemId:e.graphMailID,data:""};let s=(new Yt).set("data",JSON.stringify(o));this.connection.postReq("convert",s,!1,{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe({next:a=>{this.console.info("[GIService] Secondary validation OK:",a),i.next(o),i.complete()},error:a=>{this.console.error("[GIService] Ticket validation failed:",a),i.error(409===a.status?{duplicate:!0,callback:()=>{}}:a)}})},error:r=>{this.console.error("[GIService] Ticket validation failed:",r),i.error(r)}})})}createTicket(e){if(null==e)return this.openTicketModal(),new ie(a=>{a.complete()});const i=this.globals.openMail;this.globals.openMail=!1;const r=()=>{this.globals.openMail=i};this.console.info("[GIService] Creating ticket with data:",e),this.globals.showSpinner();const o=setInterval(()=>this.globals.showSpinner(),150),s=()=>{clearInterval(o),this.globals.hideSpinner()};return new ie(a=>{const c=e.selectedType?.split("#");e.dbAlias=c?.[0],e.targetEMail=c?.[1];const{pointer:l,email:d}=this.resolveTicketTarget(e?.data);e.addrpointer&&""!==e.addrpointer.trim()&&"~#~"!==e.addrpointer?e.addrpointer.includes("~#~")||(e.addrpointer=`${e.addrpointer}~#~${d}`):e.addrpointer=l?`${l}~#~${d}`:`~#~${d}`,this.validateTicket(e).subscribe({next:u=>{this.console.info("[GIService] Preparing ticket data:",u),this.connection.postReq("ticket",this.connection.objectToHttpParams(u)).subscribe({next:h=>{this.console.info("[GIService] Ticket created successfully (raw):",h),a.next(h),a.complete(),this.messageService.showSuccess(this.globals.languageConf.successTicketCreation),s();const m=F=>/^https?:\/\//i.test(F);let g=null,y=null;if(h&&"object"==typeof h&&"string"==typeof h.result&&""!==h.result.trim())g=h.result.trim();else if("string"==typeof h)g=m(h)?null:h.trim(),y=m(h)?h.trim():null;else if("number"==typeof h)g=String(h);else if(h&&"object"==typeof h){const F=["oid","Oid","recordId","recordOid","pointer","ticketId","id","UNID","unid"];for(const q of F){const Se=h[q];if(null!=Se&&""!==String(Se).trim()){g=String(Se).trim();break}}if(!g){const q=["link","url","openUrl","openURL","openDocumentUrl","documentUrl"];for(const Se of q){const He=h[Se];if("string"==typeof He&&m(He)){y=He.trim();break}}}}const v=g?this.globals.convertToLink(g):y||null;this.console.info("[GIService] Final ticket link to open:",v),v?this.dialogService.createDialogWithType(Us.openTicket,{disableClose:!0,data:{title:this.globals.languageConfLocal?.emailWasConverted,message:this.globals.languageConfLocal?.openTicketQuestion},width:"380px"}).subscribe(F=>{F?F.afterClosed().subscribe(q=>{q&&window.open(v,"_blank"),r()}):r()}):(this.console.warn("[GIService] No ticket link/pointer returned; skipping open dialog."),r())},error:h=>{s(),r(),409===h.status||this.messageService.showError(this.globals.languageConf.errorTicketCreation),a.error(h)}})},error:u=>{this.console.error("[GIService] Ticket creation error:",u),s(),r(),u.duplicate?a.error({duplicate:!0,callback:()=>this.createTicket({...e,allowDuplicate:!0}).subscribe(a)}):(this.messageService.showError(this.globals.languageConf.errorTicketCreation),a.error(u))}})})}prepareAndCreateTicket(e,i=!1){try{const r=Office.context.mailbox.item;this.console.info("[GIService] Email item:",r),this.retrieveDataForItem({}).subscribe({next:o=>{this.console.info("[GIService] Retrieved data for item:",o),this.convertAndCreateTicket(o,e,i)},error:o=>{this.messageService.showError("Fehler beim Laden der Mail-Daten."),this.console.error("[GIService] Error retrieving item data:",o)}})}catch(r){this.console.error("[GIService] prepareAndCreateTicket failed:",r)}}convertAndCreateTicket(e,i,r){const{pointer:o,email:s}=this.resolveTicketTarget(e),a={mailunid:"TO_BE_SET",selectedType:i,addrpointer:o?`${o}~#~${s}`:`~#~${s}`,data:e,allowDuplicate:r};this.console.info("[GIService] Prepared ticket data:",a),this.createTicket(a).subscribe({next:()=>this.ticketEvents.ticketCreated$.next(),complete:()=>{this.console.info("[GIService] Ticket created successfully"),this.messageService.showSuccess(this.globals.languageConf.successTicketCreation),this.ticketEvents.ticketCreated$.complete()},error:c=>{c.duplicate?this.ticketEvents.duplicateDetected$.next({callback:()=>this.prepareAndCreateTicket(i,!0)}):this.messageService.showError(this.globals.languageConf.errorTicketCreation+(c?.message||""))}})}static{this.\u0275fac=function(i){return new(i||n)(J(Lr),J(pl),J(Dt),J(Dt),J(zn),J(Bn),J(NE),J(Ks),J(Ys),J(_me),J(ns),J(oV),J(ki))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xk=(()=>{class n{constructor(e,i,r,o,s){this.global=e,this.waitList=i,this.http=r,this.globals=o,this.connectionService=s,this.loaded=!1,"gi"===this.globals.system?(s.waitForLC().subscribe(()=>{this.loaded=!0,this.processLCWaitingList()}),this.setLCSLocal()):s.waitForLC().subscribe(()=>{this.setLCSLocal()})}waitForInit(){return new ie(e=>{this.loaded?(e.next(!0),e.complete(),this.processLCWaitingList()):this.waitList.addToWaitList("lc",e)})}getLCEntry(e,i,r){return this.replacePlaceholder(this.global.languageEntry("LC"+e),i,r)}passLCObj(){return this.global.languageConf}getLang(){return navigator.language.toLowerCase().startsWith("de")?"de":"en"}setLCSLocal(){this.http.get("assets/i18n/"+this.getLang()+".json").subscribe(e=>{this.globals.languageConfLocal=e,this.localLCReady()})}localLCReady(){for(const e of this.waitList.accessWaitList("localLC"))e.next(this.globals.languageConfLocal),e.complete();this.globals.languageConf=this.globals.languageConfLocal,this.loaded=!0,this.processLCWaitingList()}processLCWaitingList(){this.waitList.accessWaitList("lc").forEach(e=>{e.next(void 0),e.complete()})}replacePlaceholder(e,i,r){return i&&r&&(e=e.replace(i,r)),e}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(ki),J(rm),J(Dt),J(Lr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yme=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,m){this.connection=e,this.modalService=i,this.globals=r,this.lsm=o,this.graph=s,this.translate=a,this.messageService=c,this.dialogService=l,this.htmlHelper=d,this.converter=u,this.lang=h,this.settings=m,this.console=new li("BaService")}fetchDBs(e,i){return We(null)}fetchSearch(e,i,r){const s={};return s.searchTerm=r,i&&(s.pointer=i),Vt(this.connection.getReq("search",this.connection.objectToHttpParams(s),void 0,!0))}getDocumentDBs(){return We(null)}getCompanies(){return Vt(this.connection.getReq("searchCompanies",this.connection.objectToHttpParams({}),void 0,!0))}getSelDB(){return We(null)}createLink(e){return this.globals.getSystemBaseUrl()+"openrecord/"+e}getDisplayedType(){return We(null)}getConfig(){return new ie(e=>{this.console.info("BA-Service: getConfig() called"),this.getProductVersion().subscribe({next:i=>{this.console.info("BA-Version:",i);const[r,o]=i.split(".").map(Number);r>11||11===r&&o>=0?(this.console.info("Version >= 11: Trying API call"),this.connection.getReq("getConfiguration",this.connection.objectToHttpParams({}),void 0,!0).subscribe({next:c=>{if(this.console.info("API response received:",c),c&&c.Message&&c.Message.includes("No HTTP resource was found"))this.console.warn("API endpoint not found, using restrictive fallback (deny-by-default)"),e.next({createContact:!0,createCompany:!0,readContact:!0,readCompany:!0,createEmail:!0,readEmail:!0,allowProjectSelection:!0,createTicket:!0,readTicket:!0,allowFreeTags:!1,allowTagsFeature:!0});else{const l={...c,allowTagsFeature:!0};c.ticketTypes&&"string"==typeof c.ticketTypes&&(l.ticketTypes=JSON.parse(c.ticketTypes)),e.next(l)}e.complete()},error:c=>{this.console.warn("API failed, using restrictive fallback (deny-by-default):",c),e.next({createContact:!0,createCompany:!0,readContact:!0,readCompany:!0,createEmail:!0,readEmail:!0,allowProjectSelection:!0,createTicket:!0,readTicket:!0,allowFreeTags:!1,allowTagsFeature:!0}),e.complete()}})):(this.console.info("Version < 11 detected. Enabling all features for backward compatibility"),e.next({createContact:!0,createCompany:!0,readContact:!0,readCompany:!0,createEmail:!0,readEmail:!0,allowProjectSelection:!0,createTicket:!0,readTicket:!0,allowFreeTags:!1,allowTagsFeature:!0}),e.complete())},error:()=>{this.console.warn("Version detection failed, using restrictive fallback (deny-by-default)"),e.next({createContact:!0,createCompany:!0,readContact:!0,readCompany:!0,createEmail:!0,readEmail:!0,allowProjectSelection:!0,createTicket:!0,readTicket:!0,allowFreeTags:!1,allowTagsFeature:!0}),e.complete()}})})}fetchActivityTypes(e){const r={};return e&&(r.pointer=e),new ie(o=>{this.connection.getReq("activityTypes",this.connection.objectToHttpParams(r),void 0,!0).subscribe({next:s=>{s.type="types",o.next(s)},error:s=>{o.error(s)}})})}fetchActivities(e,i){return new ie(r=>{let o=new Yt;e&&(o=o.append("addressOid",e.pointer),o=o.append("maxCount",i||32767),o=o.append("activitiesType",this.globals.addressActivities.selectedType),this.connection.getReqNoCache("activities",o,void 0,!0).subscribe({next:s=>{try{this.converter.convertActivity(r,s,this.globals.addressActivities.selectedType,this)}catch{r.error(this.globals.languageConfLocal.cantLoadData)}},error:s=>{r.error(s)},complete:()=>{}})),this.converter.convertActivityTypes(r)})}searchDocuments(e,i,r){const s={};return s.searchTerm=r,s.searchIndexes=e,i&&(s.pointer=i),Vt(this.connection.getReq("searchDocuments",this.connection.objectToHttpParams(s),void 0,!0))}searchProjects(e,i,r){const s={};return s.searchTerm=r,i&&(s.pointer=i),Vt(this.connection.getReq("searchProjects",this.connection.objectToHttpParams(s),void 0,!0))}handleSearchResult(e,i){return e}getImageSrc(e){if(!e)return"assets/images/ba/default.svg";const i=e.toLowerCase();if(i.startsWith("assets/images/ba"))return e;if(i.startsWith("icon/get")){let r=e.substring(9);const o=r.indexOf("?");return o>=0&&(r=r.substring(0,o)),r=r.replace(/^\/+/,""),`assets/images/ba/${r}.svg`}if(i.startsWith("http")){if(/\.(png|svg|jpg|jpeg|gif|webp)(\?|#|$)/i.test(e))return e;try{const o=e.split("?")[0].split("#")[0].split("/").filter(Boolean),s=(o[o.length-1]||"").trim().toLowerCase();if(s)return`assets/images/ba/${s}.svg`}catch{}return"assets/images/ba/default.svg"}return`assets/images/ba/${e}.svg`}isBase64String(e){if(e.toLowerCase().startsWith("data:")||!/^[A-Za-z0-9+/]*={0,2}$/.test(e))return!1;const r=e.length;if(r<4)return!1;const o=(e.match(/=/g)||[]).length;return!(o>2||o>0&&!e.endsWith("=".repeat(o))||r%4!=0)}getBase64Image(e){return this.isBase64String(e)?"data:image/png;base64, "+e.trim():"assets/images/vwicn001.svg"}retrieveItemIdForItem(){return new ie(e=>{e.next("never called")})}retrieveDataForItem(e){return new ie(i=>{const r=Office.CoercionType.Html;if(Office.context.mailbox.item){let o=Office.context.mailbox.item;const s=void 0===o.getItemIdAsync||void 0===typeof o.getItemIdAsync;this.console.info(o),o.body.getAsync(Office.CoercionType.Html,e,a=>{if(a.status!==Office.AsyncResultStatus.Failed){if("appointment"===o.itemType)throw new Error("Appointment direct sync not supported.");s?this.retrieveDataForEmailRead(o,a,r).subscribe({next:c=>{i.next(c)},error:c=>{i.error(c)}}):this.retrieveDataForEmailEdit(o,a,r).subscribe({next:c=>{i.next(c)},error:c=>{i.error(c)}})}})}else i.next(null)})}retrieveDataForAppointmentRead(e,i){return new ie(r=>{this.graph.getAttachments(e.itemId,e).subscribe(o=>{r.next({body:i.value,subject:e.subject,optionalAttendees:e.optionalAttendees,requiredAttendees:e.requiredAttendees,start:new Date(e.start).toISOString(),end:new Date(e.end).toISOString(),attachments:o})},o=>r.error(o))})}retrieveDataForAppointmentEdit(e,i){return new ie(r=>{e.subject.getAsync({},o=>{o.status!==Office.AsyncResultStatus.Failed&&e.optionalAttendees.getAsync(s=>{s.status!==Office.AsyncResultStatus.Failed&&e.requiredAttendees.getAsync(a=>{a.status!==Office.AsyncResultStatus.Failed&&e.start.getAsync(c=>{c.status!==Office.AsyncResultStatus.Failed&&e.end.getAsync(l=>{l.status!==Office.AsyncResultStatus.Failed&&this.graph.getAttachments(e.itemId,e).subscribe(d=>{r.next({body:i.value,subject:o.value,optionalAttendees:s.value,requiredAttendees:a.value,start:new Date(c.value).toISOString(),end:new Date(l.value).toISOString(),attachments:d})},d=>r.error(d))})})})})})})}retrieveDataForEmailRead(e,i,r){return new ie(o=>{this.graph.getAttachments(e.itemId,e).subscribe(s=>{o.next({internetMessageId:e.internetMessageId.replaceAll("<","").replaceAll(">",""),fromMail:e.from.emailAddress,toMail:this.filterObjectEntryOfArr(e.to),ccMail:this.filterObjectEntryOfArr(e.cc),bccMail:this.filterObjectEntryOfArr(e.bcc),messageID:e.itemId,subject:e.subject?e.subject:this.globals.languageConfLocal.noSubject,body:{htmlBody:!!r.toString().toLowerCase().includes("html"),text:Buffer.from(i.value).toString("base64")},type:r.toString(),date:new Date(e.dateTimeCreated).toISOString(),creationDate:new Date(e.dateTimeCreated).toISOString(),changingDate:new Date(e.dateTimeCreated).toISOString(),attachments:s,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:"",mailType:this.globals.incomingMail?"Incoming":"Outgoing"})},s=>o.error(s))})}retrieveDataForEmailEdit(e,i,r){return new ie(o=>{e.saveAsync(s=>{e.to.getAsync(a=>{a.status!==Office.AsyncResultStatus.Failed&&e.from.getAsync(c=>{c.status!==Office.AsyncResultStatus.Failed&&e.cc.getAsync(l=>{l.status!==Office.AsyncResultStatus.Failed&&e.bcc.getAsync(d=>{d.status!==Office.AsyncResultStatus.Failed&&e.subject.getAsync(u=>{u.status!==Office.AsyncResultStatus.Failed&&this.graph.getAttachments(s.value,e).subscribe(h=>{o.next({internetMessageId:e.internetMessageId?.replaceAll("<","").replaceAll(">",""),toMail:a.value.map(m=>m.emailAddress),fromMail:c.value.emailAddress,ccMail:l.value.map(m=>m.emailAddress),bccMail:(d.value||[]).map(m=>m.emailAddress),subject:u.value,body:{htmlBody:!!r.toString().toLowerCase().includes("html"),text:Buffer.from(this.htmlHelper.fixImgTags(i.value)).toString("base64")},type:r.toString(),date:(new Date).toISOString(),creationDate:(new Date).toISOString(),changingDate:(new Date).toISOString(),messageID:s.value,mailType:"Outgoing",attachments:h,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""})},h=>o.error(h))})})})})})})})}retrieveDataForItemByGraph(e){return new ie(i=>{const r=e.replaceAll("/","-"),o=Office.CoercionType.Html;this.graph.graphClient.api(`/me/messages/${r}`).select("id,subject,from,toRecipients,ccRecipients,bccRecipients,body,internetMessageId,createdDateTime,receivedDateTime,internetMessageHeaders").get().then(s=>{const a=(s.internetMessageId||"").replace(/</g,"").replace(/>/g,""),c=s.from?.emailAddress?.address||"",l=(s.toRecipients||[]).map(v=>v.emailAddress?.address).filter(Boolean),d=(s.ccRecipients||[]).map(v=>v.emailAddress?.address).filter(Boolean),u=(s.bccRecipients||[]).map(v=>v.emailAddress?.address).filter(Boolean),h=s.subject||this.globals.languageConfLocal.noSubject,m=s.body?.content||"",g=s.receivedDateTime||s.createdDateTime||(new Date).toISOString();let y=this.globals.incomingMail;if(s.internetMessageHeaders){const v=s.internetMessageHeaders.find(F=>"X-MS-Exchange-Organization-MessageDirectionality"===F.name);v&&(y="Incoming"===v.value||"Originating"===v.value)}this.graph.graphClient.api(`/me/messages/${r}/attachments`).get().then(v=>{this.graph.prepareAttachments(v,void 0,r).subscribe(F=>{i.next({internetMessageId:a,fromMail:c,toMail:l,ccMail:d,bccMail:u,messageID:e,subject:h,body:{htmlBody:o.toString().toLowerCase().includes("html"),text:Buffer.from(m).toString("base64")},type:o.toString(),date:new Date(g).toISOString(),creationDate:new Date(g).toISOString(),changingDate:new Date(g).toISOString(),attachments:F,officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:"",mailType:y?"Incoming":"Outgoing"}),i.complete()})}).catch(v=>{i.next({internetMessageId:a,fromMail:c,toMail:l,ccMail:d,bccMail:u,messageID:e,subject:h,body:{htmlBody:o.toString().toLowerCase().includes("html"),text:Buffer.from(m).toString("base64")},type:o.toString(),date:new Date(g).toISOString(),creationDate:new Date(g).toISOString(),changingDate:new Date(g).toISOString(),attachments:[],officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:"",mailType:y?"Incoming":"Outgoing"}),i.complete()})}).catch(s=>{this.console.error("retrieveDataForItemByGraph failed:",s),i.error(s.code||"graphFetchError")})})}documentSingleItemByGraph(e,i){return new ie(r=>{this.retrieveDataForItemByGraph(e).subscribe({next:o=>{if(!o)return void r.error("No data returned from Graph");let s="?parentId="+i.documentTarget;s=this.processCRMData(i,s),this.connection.postReq("document",o,!0,void 0,void 0,s).subscribe({next:a=>{r.next(a),r.complete()},error:a=>{a.status>=200&&a.status<300?(r.next(a),r.complete()):r.error(a)}})},error:o=>{r.error(o)}})})}documentItemWithUI(e){this.globals.showSpinner(),this.retrieveDataForItem({}).subscribe({next:i=>{const o={};o.messageId=i.messageID,o.internetMessageId=i.internetMessageId?.replaceAll("<","").replaceAll(">",""),Vt(this.connection.getReq("emailAlreadyDocumented",this.connection.objectToHttpParams(o),void 0,!0)).subscribe(s=>{s?(this.globals.hideSpinner(),this.dialogService.createDialogWithType(Us.alreadyDocumented).subscribe(a=>{a.afterClosed().subscribe(c=>{!0===c&&(this.globals.showSpinner(),this.document(i,e))})})):this.document(i,e)})},error:i=>{this.translate.get(i).subscribe(r=>{this.globals.hideSpinner(),this.messageService.showError(r,"",void 0,1e4)})}})}document(e,i,r){var o=this;let s="?parentId="+i.documentTarget;var a;s=this.processCRMData(i,s),this.connection.postReq("document",e,!0,void 0,void 0,s).subscribe({next:(a=E(function*(c){o.baNextHandler(c),o.graph.getExtendedData(o.globals.infoShower.currentItemId).subscribe(l=>{l.selectedProjects="",l.tags="",o.graph.saveExtendedData(o.globals.infoShower.currentItemId,l).subscribe(d=>{r&&r(c)})})}),function(l){return a.apply(this,arguments)}),error:function(){var a=E(function*(c){if(c.status>=200&&c.status<300)o.baNextHandler(c);else{const l=yield c.json();let d="Aktion konnte nicht durchgef\xfchrt werden. Versuchen Sie es sp\xe4ter erneut.";l.hasOwnProperty("ExceptionMessage")?d=l.ExceptionMessage:l.hasOwnProperty("Message")&&(d=l.Message),o.modalService.closeAllModals(),o.messageService.showError(d,"Error")}});return function(l){return a.apply(this,arguments)}}(),complete:()=>{}})}baNextHandler(e){var i=this;return E(function*(){const r=e.oid;if(i.translate.get("translationWait").subscribe(o=>{i.messageService.showSuccess(i.globals.languageConfLocal.emailDocumented)}),r&&(i.globals.projectSelector.projects=[],i.globals.tagSelector.enums=[],i.globals.addressActivities.removeDocumentDestination(null)),i.globals.openMail){let o=i.connection.getPath("openRecord",!1)+"/"+r;window.open(o,"_blank")}i.globals.addressActivities.refresh(),i.globals.hideSpinner()})()}documentItemWithoutUI(e){return"appointment"===e.type?new ie(i=>{i.next(null)}):this.documentItem(e)}documentItem(e){var i=this;return new ie(r=>{this.retrieveDataForItem({}).subscribe({next:o=>{let s="?parentId="+e.documentTarget,a=this.lsm.getValue(Ht.documentedItemId);var c;a&&(s+="&existingEmailId="+a),this.lsm.setValue(Ht.documentedItemId,""),s=this.processCRMData(e,s),this.connection.postReq("document",o,!0,void 0,void 0,s).subscribe({next:(c=E(function*(l){l&&l.oid&&i.lsm.setValue(Ht.documentedItemId,l.oid),r.next(l)}),function(d){return c.apply(this,arguments)}),error:function(){var c=E(function*(l){r.error(l)});return function(d){return c.apply(this,arguments)}}(),complete:()=>{}})},error:o=>{this.translate.get(o).subscribe(s=>{r.error(s)})}})})}processCRMData(e,i){if(e.selectedProjects){let r=JSON.parse(e.selectedProjects);r&&r.length>0&&(i+="&projectIds="+r.map(o=>{if(null!=o)return o.pointer}).join(","))}if(e.tags){let r=JSON.parse(e.tags);r&&r.length>0&&(i+="&tags="+r.map(o=>o[0]).join(","))}return i}filterObjectEntryOfArr(e){const i=[];for(const r of e)i.push(r.emailAddress);return i}setCRMdata(e,i){return new ie(r=>{var s;this.connection.postReq("setCRMdata",e,!0,void 0,void 0,"?messageId="+i).subscribe({next:(s=E(function*(a){r.next(a)}),function(c){return s.apply(this,arguments)}),error:function(){var s=E(function*(a){r.error(a)});return function(c){return s.apply(this,arguments)}}(),complete:()=>{}})})}getPhasesOfPointer(e){return new ie(i=>{i.next([])})}changeActivityListType(e){return new ie(i=>{i.next(e)})}addToRecentlyUsed(e){this.connection.postReq("addRecentlyUsed","",!0,void 0,void 0,"?recordOid="+e).subscribe(r=>{})}getProductVersion(){return new ie(e=>{this.connection.getReq("baVersion",this.connection.objectToHttpParams({}),void 0,!0).subscribe({next:i=>{e.next(i)},error:i=>{e.next("7.0.0.")}})})}getDocumentsChips(e){return new ie(i=>{this.connection.getReq("getChips",this.connection.objectToHttpParams({oids:JSON.stringify(e)}),void 0,!0).subscribe({next:r=>{const o=[];for(const s of r)o.push({name:s.subject,image:s.imageName,fdMe:s.oid});i.next(o)},error:r=>{i.error(r)},complete:()=>{}})})}readCRMDataForItem(e){return new ie(i=>{this.graph.getExtendedData(e).subscribe(r=>{i.next(r)})})}extractContactData(e){return new ie(i=>{const r=Buffer.from(e).toString("base64"),o=()=>this.connection.getReq("extractContact",this.connection.objectToHttpParams({textBlock:r}),void 0,!0).subscribe({next:c=>{i.next(c||new Zc),i.complete()},error:c=>i.error(c)}),s=()=>this.connection.postReq("extractContact",{textBlock:r},!0,void 0,!0).subscribe({next:c=>{i.next(c||new Zc),i.complete()},error:c=>{const l=(c?.error?.Message||c?.error?.message||"").toString(),d=405===c?.status||501===c?.status||l.includes("No HTTP resource was found");parseInt((this.globals.backendVersion||"0").split(".")[0]||"0",10)>=11||!d?i.error(c):o()}}),a=c=>{parseInt((c||"0").split(".")[0]||"0",10)>=11?s():o()};this.globals.backendVersion?(a(this.globals.backendVersion),this.console.info("Using cached BA version "+this.globals.backendVersion)):this.getProductVersion().subscribe({next:c=>{this.globals.backendVersion=c,a(c)},error:()=>o()})})}getEnumValues(e){return new ie(i=>{let r="bm4oGetEnumValues",o="";parseInt(this.globals.backendVersion.substring(0,this.globals.backendVersion.indexOf(".")))<10||"10.0.0"==this.globals.backendVersion||"10.0.1"==this.globals.backendVersion||"10.0.2"==this.globals.backendVersion?(r="getEnumValues",o="rest/"):e="?master="+e,this.connection.getReq(r,null,!0,!0,o,e).subscribe({next:s=>{let a=[],c=this.lang.getLang();s.Values.forEach(l=>{a.push([l.Oid,l["Language_"+c]])}),i.next(a)},error:s=>{i.error(s)}})})}quickCreateContact(e,i,r){return this.postCompanyContactData(e,r,i,!1)}postCompanyContactData(e,i,r,o){var s=this;return new ie(a=>{let c="FE7EB8AE-71BE-4220-8DA5-DC04078E6B3C",l=new vme,d=new Cme,u=o?"/?validateOnly=true":"";e.MainEmailAddressType||(e.MainEmailAddressType="27AF1E88-6BAA-4ACA-AF2A-339E345CFB4D"),e.MainAddressType||(e.MainAddressType="EB7852EF-9BA5-47F6-AB68-82FB891A2943"),l.Name=e.Company,l.Phone=e.CompanyPhone,l.Fax=e.CompanyFax,e.Street&&(l.Addresses=[{Address:e.Street,AddressType:e.MainAddressType,City:e.City,PostalCode:e.Zip}]),e.CompanyEmail&&(l.EmailAddresses=[{EmailAddress:e.CompanyEmail,EmailAddressType:e.MainEmailAddressType}]),d.FirstName=e.FirstName,d.LastName=e.LastName,d.Department=e.Department,d.CellPhone=e.Mobile,d.Phone=e.Phone,d.Fax=e.Fax,d.EmailAddresses=[{EmailAddress:e.Email,EmailAddressType:e.MainEmailAddressType}];let h="bm4oCreateRecord",m="",g="";if(g="?ormType="+c+(u?"&validateOnly=true":""),(parseInt(this.globals.backendVersion.substring(0,this.globals.backendVersion.indexOf(".")))<10||"10.0.0"==this.globals.backendVersion||"10.0.1"==this.globals.backendVersion||"10.0.2"==this.globals.backendVersion)&&(h="createRecord",m="rest/",g=c+u),"compNew"===i)this.connection.postReq(h,JSON.stringify(l),!0,void 0,void 0,g,m).subscribe({next:(y=E(function*(v){if("contNew"===r)s.createContact(d,v.Oid,a,u,!0,!1);else{if(!u&&(s.addToRecentlyUsed(v.Oid),s.settings.OpenAfterCreate)){let F=s.connection.getPath("openRecord",!1)+"/"+v.Oid+"?openInEditMode=true";window.open(F,"_blank")}a.next(v)}}),function(F){return y.apply(this,arguments)}),error:function(){var y=E(function*(v){a.error(v)});return function(F){return y.apply(this,arguments)}}()});else if("compExist"===i||"compSelect"===i){let y=!1;if(this.globals.infoShower.selectedAddressDetails&&this.globals.infoShower.selectedAddressDetails.data){let v=this.globals.infoShower.selectedAddressDetails.data.filter(F=>F.pointer===e.CompanyPointer);v&&v.length>0&&v[0].isCompanyProfile&&(y=!0)}this.createContact(d,e.CompanyPointer,a,u,!1,y)}else this.createContact(d,null,a,u,!1,!1);var y})}createContact(e,i,r,o,s,a){var c=this;let l;a?(l="4b00f31c-e05d-42ef-9172-64608316c4c3",e.RelatedCompanyProfile=i):(l="44FCB6FB-9230-48CF-A406-8F1F8C4D0B8C",e.RelatedCompany=i);let d="bm4oCreateRecord",u="",h="";var m;h="?ormType="+l+(o?"&validateOnly=true":""),(parseInt(this.globals.backendVersion.substring(0,this.globals.backendVersion.indexOf(".")))<10||"10.0.0"==this.globals.backendVersion||"10.0.1"==this.globals.backendVersion||"10.0.2"==this.globals.backendVersion)&&(d="createRecord",u="rest/",h=l+o),this.connection.postReq(d,JSON.stringify(e),!0,void 0,void 0,h,u).subscribe({next:(m=E(function*(g){if(!o&&(c.addToRecentlyUsed(g.Oid),c.settings.OpenAfterCreate)){let y=c.connection.getPath("openRecord",!1)+"/"+g.Oid+"?openInEditMode=true";window.open(y,"_blank"),i&&s&&(y=c.connection.getPath("openRecord",!1)+"/"+i+"?openInEditMode=true",window.open(y,"_blank"))}r.next(g)}),function(y){return m.apply(this,arguments)}),error:function(){var m=E(function*(g){r.error(g)});return function(y){return m.apply(this,arguments)}}()})}validateDataInBackend(e,i,r){return this.postCompanyContactData(e,r,i,!0)}initFeatures(){return new ie(e=>{this.getProductVersion().subscribe({next:i=>{this.console.info("CXM Version for feature check:",i);const r=Object.values(zs);let o=[],s=i.split(".").map(Number);r.forEach(a=>{let c=a.toString().split("|").find(g=>g.startsWith("vBA"));if(!c)return void o.push({key:a,value:!1});let l=c.substring(3).split(".").map(Number),d=Math.max(s.length,l.length),u=[...s];for(;u.length<d;)u.push(0);let h=[...l];for(;h.length<d;)h.push(0);let m=!0;for(let g=0;g<d;g++){if(u[g]>h[g]){m=!0;break}if(u[g]<h[g]){m=!1;break}}this.console.info(`Checking feature ${a}: min version parts ${l}, current version parts ${s}, isAvailable: ${m}`),o.push({key:a,value:m})}),this.console.debug("Features for CXM "+i+": "+JSON.stringify(o)),e.next(o)},error:i=>{e.next([])}})})}hasOfficeDBs(){return new ie(e=>{e.next(!0),e.complete()})}getKeyword(){return new ie(e=>{e.next({test:null}),e.complete()})}prepareAndCreateTicket(e,i=!1){var r=this;const o=this.globals.openMail;this.globals.openMail=!1;const s=()=>{this.globals.openMail=o};this.globals.showSpinner(),this.graph.getExtendedData(this.globals.infoShower.currentItemId).subscribe(a=>{const c=this.globals.addressActivities?.documentsAsDestinations?.[0]?.fdMe||this.globals.addressActivities?.documentsAsDestinations?.[0]?.pointer||"",l=String(this.globals.infoShower?.primaryPointer||this.globals.infoShower?.displayedDestination?.pointer||this.globals.infoShower?.initSelectedDoc||"").trim(),d=String(c||l||a.documentTarget||"").trim();if(!d)return this.globals.hideSpinner(),this.messageService.showError(this.globals.languageConfLocal?.noDestinationSelected||"No destination selected"),void s();try{a.documentTarget=d,this.graph.saveExtendedData(this.globals.infoShower.currentItemId,a).subscribe({next:()=>{},error:()=>{}})}catch{}this.retrieveDataForItem({}).subscribe({next:u=>{const h=(v,F)=>{let q="?parentId="+d;q=this.processCRMData(a,q),this.connection.postReq("document",u,!0,void 0,void 0,q).subscribe({next:Se=>{v(Se)},error:Se=>{Se?.status>=200&&Se?.status<300?v(Se):F(Se)}})},m=v=>{const F=v?.oid;if(!F)return this.globals.hideSpinner(),this.messageService.showInfo(this.globals.languageConfLocal?.ticketCreationFailed||"Ticket creation failed"),void s();let Se="?recordId="+F+"&parentId="+d;var He;e&&(Se+="&ticketType="+e),this.connection.postReq("createTicket",{},!0,void 0,void 0,Se).subscribe({next:(He=E(function*(Ke){try{const Ue=yield new Promise((Tt,Wt)=>{r.graph.getExtendedData(r.globals.infoShower.currentItemId).subscribe({next:Tt,error:Wt})});try{Ue.selectedProjects="",Ue.tags="",r.graph.saveExtendedData(r.globals.infoShower.currentItemId,Ue).subscribe({next:()=>{},error:()=>{}})}catch{}}catch{}if(r.baNextHandler(v),!Ke)return r.globals.hideSpinner(),r.messageService.showInfo(r.globals.languageConfLocal?.ticketCreationFailed||"Ticket creation failed"),void s();r.globals.hideSpinner();const Ft_oid=Ke;r.messageService.showSuccess(r.globals.languageConfLocal.successTicketCreation),r.addToRecentlyUsed(Ke),r.dialogService.createDialogWithType(Us.openTicket,{disableClose:!0,data:{title:r.globals.languageConfLocal.emailWasConverted,message:r.globals.languageConfLocal.openTicketQuestion},width:"380px"}).subscribe(Ue=>{Ue.afterClosed().subscribe(Tt=>{if(Tt&&Ft_oid){const Wt=r.connection.getPath("openRecord",!1)+"/"+Ft_oid+"?openInEditMode=true";window.open(Wt,"_blank")}s()})})}),function(Ft){return He.apply(this,arguments)}),error:function(){var He=E(function*(Ke){r.baNextHandler(v),r.translate.get(Ke).subscribe(Ft=>{r.globals.hideSpinner(),r.messageService.showError(Ft,"",void 0,1e4),s()})});return function(Ft){return He.apply(this,arguments)}}()})},y={};y.messageId=u.messageID,y.internetMessageId=u.internetMessageId?.replaceAll("<","").replaceAll(">",""),Vt(this.connection.getReq("emailAlreadyDocumented",this.connection.objectToHttpParams(y),void 0,!0)).subscribe(v=>{v?(this.globals.hideSpinner(),this.dialogService.createDialogWithType(Us.alreadyDocumented).subscribe(F=>{F.afterClosed().subscribe(q=>{!0===q?(this.globals.showSpinner(),h(m,Se=>{this.globals.hideSpinner(),this.messageService.showError(this.globals.languageConfLocal.cantLoadData,"",void 0,1e4),s()})):(this.globals.hideSpinner(),this.messageService.showInfo(this.globals.languageConfLocal?.ticketCreationCanceled),s())})})):h(m,F=>{this.globals.hideSpinner(),this.messageService.showError(this.globals.languageConfLocal.cantLoadData,"",void 0,1e4),s()})})},error:u=>{this.translate.get(u).subscribe(h=>{this.globals.hideSpinner(),this.messageService.showError(h,"",void 0,1e4),s()})}})})}createTicket(e){return new ie(i=>{this.getConfig().subscribe({next:r=>{r?(null==r.ticketTypes||Array.isArray(r.ticketTypes)&&0==r.ticketTypes.length?this.prepareAndCreateTicket(""):Array.isArray(r.ticketTypes)&&1==r.ticketTypes.length?this.prepareAndCreateTicket(r.ticketTypes[0].value):this.modalService.changeType({newType:"createTicket"}),i.next([])):i.next([])}})})}fetchTicketTypes(){return new ie(e=>{this.getConfig().subscribe({next:i=>{i&&i.ticketTypes&&Array.isArray(i.ticketTypes)?e.next(i.ticketTypes):e.next([])}})})}static{this.\u0275fac=function(i){return new(i||n)(J(bH),J(pl),J(Dt),J(Qi),J(Ks),J(zn),J(Bn),J(NE),J(Ys),J(OE),J(Xk),J(ns))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class vme{}class Cme{}let nr=(()=>{class n{constructor(e,i,r,o,s){switch(this.gi=e,this.ba=i,this.lsm=r,this.globals=o,this.domSanitizer=s,this.dateSourceConfig={},this.console=new li("DataSourceService"),this.datasource=this.gi,this.globals.system){case"gi":this.datasource=this.gi;break;case"ba":this.datasource=this.ba;break;default:throw new Error("Not implemented")}}fetchDBs(e,i){return this.datasource.fetchDBs(e,i)}getDocumentDBs(){return this.datasource.getDocumentDBs()}getCompanies(){return this.datasource.getCompanies()}getDisplayedType(e){return this.datasource.getDisplayedType(e)}fetchSearch(e,i,r){return this.datasource.fetchSearch(e,i,r)}fetchActivityTypes(e){return this.datasource.fetchActivityTypes(e)}searchProjects(e,i,r){return this.datasource.searchProjects(e,i,r)}searchDocuments(e,i,r){return this.datasource.searchDocuments(e,i,r)}handleSearchResult(e,i,r=new pae){return this.datasource.handleSearchResult(e,i,r)}getImageSrc(e){return this.datasource.getImageSrc(e)}documentItemWithUI(e){return this.datasource.documentItemWithUI(e)}documentItemWithoutUI(e){return this.datasource.documentItemWithoutUI(e)}documentSingleItemByGraph(e,i){return"function"==typeof this.datasource.documentSingleItemByGraph?this.datasource.documentSingleItemByGraph(e,i):new ie(r=>{r.error("documentSingleItemByGraph not supported for system: "+this.globals.system)})}retrieveDataForItem(e){return this.datasource.retrieveDataForItem(e)}setCRMdata(e,i){return this.datasource.setCRMdata(e,i)}retrieveItemIdForItem(){return new ie(e=>{if(Office.context.mailbox.item){let i=Office.context.mailbox.item;void 0===i.getItemIdAsync||void 0===typeof i.getItemIdAsync?e.next(i.itemId):i.getItemIdAsync(o=>{e.next(o.value)})}else e.next("")})}IsTaskpaneActive(){let e=this.lsm.getValue(Ht.taskpaneActive);if(!e)return!1;{let i=new Date(e);if("Invalid Date"===i.toString())return!1;if(((new Date).getTime()-i.getTime())/1e3>20)return!1}return!0}doNotDocumentSelected(){return"doNotDocument"===this.lsm.getValue(Ht.selectedEmail)}getPhasesOfPointer(e){return new ie(i=>{this.datasource.getPhasesOfPointer(e).subscribe(r=>{i.next(r)})})}changeActivityListType(e){return this.datasource.changeActivityListType(e)}addToRecentlyUsed(e){this.datasource.addToRecentlyUsed(e)}getProductVersion(){return this.datasource.getProductVersion()}getDocumentsChips(e){return this.datasource.getDocumentsChips(e)}fetchActivities(e,i){return this.datasource.fetchActivities(e,i)}readCRMDataForItem(e){return this.datasource.readCRMDataForItem(e)}extractContactData(e){return this.datasource.extractContactData(e)}quickCreateContact(e,i,r,o=""){return this.datasource.quickCreateContact(e,i,r,o)}validateDataInBackend(e,i,r,o=""){return this.datasource.validateDataInBackend(e,i,r,o)}getEnumValues(e){return this.datasource.getEnumValues(e)}createLink(e){return this.datasource.createLink(e)}getBase64Image(e){return this.domSanitizer.bypassSecurityTrustUrl(this.datasource.getBase64Image(e))}createTicket(e){return this.datasource.createTicket(e)}prepareAndCreateTicket(e,i=!1){this.datasource.prepareAndCreateTicket(e,i)}addDocumentLinkToMail(e,i){const r=Office.context.mailbox.item;if(!r)return void console.error("Office.context.mailbox.item ist undefined.");let a,o=e.pointer||e.fdMe,s=e.name||e.subject||e.lineOne;r.body.getAsync("text",c=>{c.status===Office.AsyncResultStatus.Succeeded?r.getSelectedDataAsync("text",l=>{if(l.status===Office.AsyncResultStatus.Succeeded?a=l.value.data:console.error("Fehler beim Abrufen des markierten Textes: "+l.error.message),i)switch(i){case e.companyName:s=e.companyName,o=e.companyPointer;break;case e.additional.phone:case e.additional.cellphone:s=i}let d=s;""!==a&&(s=a);const u=this.createLink(o);r.body.setSelectedDataAsync(`<a href="${u}" target="_blank" title="${d}">${a===s?s:`${s}`}</a>`,{coercionType:Office.CoercionType.Html},g=>{g.status===Office.AsyncResultStatus.Failed?this.console.error("An error occurred while trying to add link",g.error.message):this.console.info("Link was successfully added:",u)})}):console.error("Fehler beim Abrufen des E-Mail-Body: "+c.error.message)})}getConfig(){return this.datasource.getConfig()}isFeatureAvailable(e){return new ie(i=>{let r=new Map;if(this.features&&this.features.length>0)return this.console.info("Using cached features:",this.features),e.forEach(o=>{let s=this.features.find(a=>a.key===o)?.value??!1;r.set(o,s),this.console.info(`Feature ${o} availability:`,s)}),void i.next(r);this.datasource.initFeatures().subscribe(o=>{this.console.info("Fetched features from datasource:",o),this.features=o,e.forEach(s=>{let a=this.features.find(c=>c.key===s)?.value??!1;r.set(s,a),this.console.info(`Feature ${s} availability:`,a)}),i.next(r)})})}hasOfficeDBs(){return this.datasource.hasOfficeDBs?this.datasource.hasOfficeDBs():new ie(e=>{e.next(!1),e.complete()})}getKeyword(){return this.datasource.getKeyword?this.datasource.getKeyword():new ie(e=>{e.next({test:null}),e.complete()})}fetchTicketTypes(){return this.datasource.fetchTicketTypes()}static{this.\u0275fac=function(i){return new(i||n)(J(bme),J(yme),J(Qi),J(Dt),J(Zm))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gv=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=Zi(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Zi(e)}_inset=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(Qe("aria-orientation",r.vertical?"vertical":"horizontal"),st("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0})}return n})(),wme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();class sV{_letterKeyStream=new Oe;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Oe;selectedItem=this._selectedItem;constructor(t,e){const i="number"==typeof e?.debounceInterval?e.debounceInterval:200;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){const e=t.keyCode;t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(wi(e=>this._pressedLetters.push(e)),gE(t),gn(()=>this._pressedLetters.length>0),It(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){const o=this._items[(this._selectedItemIndex+i)%this._items.length];if(!this._skipPredicateFn?.(o)&&0===o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)){this._selectedItem.next(o);break}}this._pressedLetters=[]})}}class aV{_items;_activeItemIndex=Pn(-1);_activeItem=Pn(null);_wrap=!1;_typeaheadSubscription=zt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Wl?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):md(t)&&(this._effectRef=ff(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new Oe;change=new Oe;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();const e=this._getItemsArray();return this._typeahead=new sV(e,{debounceInterval:"number"==typeof t?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Ti(t,"shiftKey"))&&this._typeahead?.handleKey(t))}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem.set(e[i]??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex()+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return md(this._items)?this._items():this._items instanceof Wl?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);const e=this._activeItem();if(e){const i=t.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}}class Zk extends aV{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}class mp{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Oe;constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}return t}}let cV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();const xme=["*"],Sme=["unscopedContent"],kme=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],Ame=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"];function Tme(n,t){1&n&&it(0,4)}function Ime(n,t){if(1&n&&(_(0,"div",11),ve(1,"input",12),_(2,"div",13),Go(),_(3,"svg",14),ve(4,"path",15),b(),cf(),ve(5,"div",16),b()()),2&n){const e=C();st("mdc-checkbox--disabled",e.disabled),f(),K("checked",e.selected)("disabled",e.disabled)}}function Mme(n,t){if(1&n&&(_(0,"div",17),ve(1,"input",18),_(2,"div",19),ve(3,"div",20)(4,"div",21),b()()),2&n){const e=C();st("mdc-radio--disabled",e.disabled),f(),K("checked",e.selected)("disabled",e.disabled)}}function Rme(n,t){}function Ome(n,t){if(1&n&&(_(0,"span",4),Vn(1,Rme,0,0,"ng-template",6),b()),2&n){C();const e=rn(3);f(),K("ngTemplateOutlet",e)}}function Pme(n,t){}function Nme(n,t){if(1&n&&(_(0,"span",5),Vn(1,Pme,0,0,"ng-template",6),b()),2&n){C();const e=rn(5);f(),K("ngTemplateOutlet",e)}}function Lme(n,t){}function Fme(n,t){1&n&&Vn(0,Lme,0,0,"ng-template",6),2&n&&(C(),K("ngTemplateOutlet",rn(1)))}function Bme(n,t){}function Hme(n,t){if(1&n&&(_(0,"span",9),Vn(1,Bme,0,0,"ng-template",6),b()),2&n){C();const e=rn(3);f(),K("ngTemplateOutlet",e)}}function jme(n,t){}function Ume(n,t){if(1&n&&(_(0,"span",9),Vn(1,jme,0,0,"ng-template",6),b()),2&n){C();const e=rn(5);f(),K("ngTemplateOutlet",e)}}function Vme(n,t){}function zme(n,t){1&n&&Vn(0,Vme,0,0,"ng-template",6),2&n&&(C(),K("ngTemplateOutlet",rn(1)))}const lV=new Z("ListOption");let qme=(()=>{class n{_elementRef=p(nt);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),$me=(()=>{class n{_elementRef=p(nt);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),dV=(()=>{class n{_listOption=p(lV,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,hostVars:4,hostBindings:function(i,r){2&i&&st("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),Gme=(()=>{class n extends dV{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Ge]})}return n})(),Wme=(()=>{class n extends dV{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Ge]})}return n})();const Kme=new Z("MAT_LIST_CONFIG");let Jk=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zi(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(Zi(e))}_disabled=Pn(!1);_defaultOptions=p(Kme,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,hostVars:1,hostBindings:function(i,r){2&i&&Qe("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),uV=(()=>{class n{_elementRef=p(nt);_ngZone=p($e);_listBase=p(Jk,{optional:!0});_platform=p(oi);_hostElement;_isButtonElement;_noopAnimations=Yn();_avatars;_icons;set lines(e){this._explicitLines=ka(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Zi(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(Zi(e))}_disabled=Pn(!1);_subscriptions=new zt;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){p(Ai).load(rs);const e=p(pb,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Fd(this,this._ngZone,this._hostElement,this._platform,p(kt)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(di(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,contentQueries:function(i,r,o){if(1&i&&Ei(o,Gme,4)(o,Wme,4),2&i){let s;_e(s=be())&&(r._avatars=s),_e(s=be())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(Qe("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),st("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();const hV=new Z("SelectionList");let mV=(()=>{class n extends uV{_selectionList=p(hV);_changeDetectorRef=p(qt);_lines;_titles;_unscopedContent;selectedChange=new ze;togglePosition="after";get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}_color;get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}_value;get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){const i=Zi(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}_selected=!1;_inputsInitialized=!1;ngOnInit(){const e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getTogglePosition()!==i&&("avatars"===e?0!==this._avatars.length:0!==this._icons.length)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}_hasBothLeadingAndTrailing(){const e=this._hasProjected("avatars","before")||this._hasProjected("icons","before")||this._hasCheckboxAt("before")||this._hasRadioAt("before"),i=this._hasProjected("icons","after")||this._hasProjected("avatars","after")||this._hasCheckboxAt("after")||this._hasRadioAt("after");return e&&i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275cmp=qe({type:n,selectors:[["mat-list-option"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,$me,5)(o,qme,5),2&i){let s;_e(s=be())&&(r._lines=s),_e(s=be())&&(r._titles=s)}},viewQuery:function(i,r){if(1&i&&Jt(Sme,5),2&i){let o;_e(o=be())&&(r._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:27,hostBindings:function(i,r){1&i&&ae("blur",function(){return r._handleBlur()})("click",function(){return r._toggleOnInteraction()}),2&i&&(Qe("aria-selected",r.selected),st("mdc-list-item--selected",r.selected&&!r._selectionList.multiple&&r._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",r._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",r._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",r._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",r._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",r._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",r._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",r._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",r._hasRadioAt("after"))("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("_mat-animation-noopable",r._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[Je([{provide:uV,useExisting:n},{provide:lV,useExisting:n}]),Ge],ngContentSelectors:Ame,decls:20,vars:4,consts:[["icons",""],["checkbox",""],["radio",""],["unscopedContent",""],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mdc-list-item__end"],[1,"mat-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"]],template:function(i,r){if(1&i){const o=Ne();ln(kme),Vn(0,Tme,1,0,"ng-template",null,0,ao)(2,Ime,6,4,"ng-template",null,1,ao)(4,Mme,5,4,"ng-template",null,2,ao),te(6,Ome,2,1,"span",4)(7,Nme,2,1,"span",5),te(8,Fme,1,1,null,6),_(9,"span",7),it(10),it(11,1),_(12,"span",8,3),ae("cdkObserveContent",function(){return Y(o),Q(r._updateItemLines(!0))}),it(14,2),b()(),te(15,Hme,2,1,"span",9)(16,Ume,2,1,"span",9),te(17,zme,1,1,null,6),it(18,3),ve(19,"div",10)}2&i&&(f(6),ne(r._hasCheckboxAt("before")?6:r._hasRadioAt("before")?7:-1),f(2),ne(r._hasIconsOrAvatarsAt("before")?8:-1),f(7),ne(r._hasCheckboxAt("after")?15:r._hasRadioAt("after")?16:-1),f(2),ne(r._hasIconsOrAvatarsAt("after")?17:-1))},dependencies:[Ed,ioe],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item,[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:0;padding-right:0}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px;width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mat-mdc-list-option .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:GrayText}}.mat-mdc-list-option .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:GrayText}}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-list-option .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}@media(forced-colors: active){.mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}}\n'],encapsulation:2,changeDetection:0})}return n})();const Yme={provide:Ki,useExisting:tn(()=>pV),multi:!0};class Qme{source;options;constructor(t,e){this.source=t,this.options=e}}let pV=(()=>{class n extends Jk{_element=p(nt);_ngZone=p($e);_renderer=p(ai);_initialized=!1;_keyManager;_listenerCleanups;_destroyed=new Oe;_isDestroyed;_onChange=e=>{};_items;selectionChange=new ze;color="accent";compareWith=(e,i)=>e===i;get multiple(){return this._multiple}set multiple(e){const i=Zi(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new mp(this._multiple,this.selectedOptions.selected))}_multiple=!0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Zi(e)}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;selectedOptions=new mp(this._multiple);_value;_onTouched=()=>{};_changeDetectorRef=p(qt);constructor(){super(),this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen(this._element.nativeElement,"focusin",this._handleFocusin),this._renderer.listen(this._element.nativeElement,"focusout",this._handleFocusout)]}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){const i=e.disabled,r=e.disableRipple,o=e.hideSingleSelectionIndicator;(r&&!r.firstChange||i&&!i.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._listenerCleanups?.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new Qme(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this._markOptionsForCheck()}get disabled(){return this._selectionListDisabled()}set disabled(e){this._selectionListDisabled.set(Zi(e)),this._selectionListDisabled()&&this._keyManager?.setActiveItem(-1)}_selectionListDisabled=Pn(!1);registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe($t(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){const r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){const i=this._keyManager.activeItem;if(13!==e.keyCode&&32!==e.keyCode||this._keyManager.isTyping()||!i||i.disabled)if(65===e.keyCode&&this.multiple&&!this._keyManager.isTyping()&&Ti(e,"ctrlKey","metaKey")){const r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e);else e.preventDefault(),i._toggleOnInteraction()}_handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})};_handleFocusin=e=>{if(this.disabled)return;const i=this._items.toArray().findIndex(r=>r._elementRef.nativeElement.contains(e.target));i>-1?this._setActiveOption(i):this._resetActiveOption()};_setupRovingTabindex(){this._keyManager=new Zk(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe($t(this._destroyed)).subscribe(()=>{const e=this._keyManager.activeItem;(!e||-1===this._items.toArray().indexOf(e))&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled)return void this._setActiveOption(-1);const e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){const e=hm();return e&&this._element.nativeElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-selection-list"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,mV,5),2&i){let s;_e(s=be())&&(r._items=s)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(i,r){1&i&&ae("keydown",function(s){return r._handleKeydown(s)}),2&i&&Qe("aria-multiselectable",r.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Je([Yme,{provide:Jk,useExisting:n},{provide:hV,useExisting:n}]),Ge,Wn],ngContentSelectors:xme,decls:1,vars:0,template:function(i,r){1&i&&(ln(),it(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}\n'],encapsulation:2,changeDetection:0})}return n})(),Xme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[bE,Xc,cV,wn,wme]})}return n})();const Zme=["crTicket"],Jme=["tiTypes"],epe=n=>({title:n}),tpe=(n,t,e,i)=>({confirm:n,cancel:t,confirmAction:e,cancelAction:i});function npe(n,t){if(1&n){const e=Ne();_(0,"mat-list-option",6),ae("click",function(){const r=Y(e).$implicit;return Q(C(2).onTypeClick(r))})("dblclick",function(){return Y(e),Q(C(2).confirmAction())}),H(1),b()}if(2&n){const e=t.$implicit,i=C(2);K("value",e.value)("selected",e.key===i.recent),f(),Xe(" ",e.key," ")}}function ipe(n,t){if(1&n&&(Kn(0,2),pr(1,"translate"),_(2,"div",3)(3,"mat-selection-list",4,1),hn(5,npe,2,3,"mat-list-option",5,kn),b()(),Kn(7,2),pr(8,"translate"),pr(9,"translate")),2&n){const e=C();K("ngTemplateOutlet",e.modalHeader)("ngTemplateOutletContext",CD(11,epe,Mr(1,5,"LC53522"))),f(3),K("multiple",!1),f(2),mn(e.ticketTypes),f(2),K("ngTemplateOutlet",e.modalFooter)("ngTemplateOutletContext",wD(13,tpe,Mr(8,7,"LC73135"),Mr(9,9,"LC73136"),e.confirmAction.bind(e),e.cancelAction.bind(e)))}}let rpe=(()=>{class n extends e3{set content(e){e&&(this.recent=e)}constructor(e,i,r,o,s){super(e),this.translate=e,this.messageService=i,this.globals=r,this.datasource=o,this.ticketService=s,this.console=new li("CreateTicketComponent"),this.ticketTypes=[],this.subscriptions=[]}ngOnInit(){super.ngOnInit(),this.fetchTypes(),this.setupDuplicateHandling()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onTypeClick(e){this.recent=e,this.console.info("Selected type:",this.recent)}confirmAction(){this.recent&&this.recent.value?(this.closeAll(),this.datasource.prepareAndCreateTicket(this.recent.value)):this.translate.get("LC73225").subscribe(e=>{this.messageService.showError(e)})}setupDuplicateHandling(){const e=this.ticketService.duplicateDetected$.subscribe(({callback:r})=>{this.handleDuplicate(r)});this.subscriptions.push(e);const i=this.ticketService.ticketCreated$.subscribe(()=>{this.closeAll()});this.subscriptions.push(i)}handleDuplicate(e){const i=this.openAnotherModal("duplicate");if(i){const r=i.afterClosed().subscribe(o=>{o&&e(),r.unsubscribe()})}}fetchTypes(){const e=this.datasource.fetchTicketTypes().subscribe({next:i=>{this.ticketTypes=i},error:i=>{console.error("Error fetching ticket types:",i),this.translate.get("LC73225").subscribe(r=>{this.messageService.showError(r)})}});this.subscriptions.push(e)}static{this.\u0275fac=function(i){return new(i||n)(R(zn),R(Bn),R(Dt),R(nr),R(oV))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-create-ticket"]],viewQuery:function(i,r){if(1&i&&Jt(Zme,7)(Jme,5),2&i){let o;_e(o=be())&&(r.modalTemp=o.first),_e(o=be())&&(r.content=o.first)}},standalone:!1,features:[Ge],decls:2,vars:0,consts:[["crTicket",""],["tiTypes",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"modalBody"],[3,"multiple"],["checkboxPosition","after",3,"value","selected"],["checkboxPosition","after",3,"click","dblclick","value","selected"]],template:function(i,r){1&i&&Vn(0,ipe,10,18,"ng-template",null,0,ao)},dependencies:[Ed,pV,mV,sm],encapsulation:2})}}return n})(),pl=(()=>{class n{constructor(e,i,r){this.waitList=e,this.globals=i,this.matDialog=r,this.modalTypeSource=new Oe,this.currentType=this.modalTypeSource.asObservable(),this.activeModals=[],this.activeModalTypes=[],this.modalClosedSource=new Oe}changeType(e){try{if(this.activeModalTypes&&this.activeModalTypes.indexOf(e.newType)>-1)return}catch{}this.modalTypeSource.next(e)}setModalHeader(e){this.modalHeader=e}setModalFooter(e){this.modalFooter=e,this.modalItems=this.getModalItems(),this.waitList.accessWaitList("modalDesign").forEach(i=>{i.next(this.modalItems),i.complete(),this.waitList.clearWaitList("modalDesign")})}waitForModalDesign(){return new ie(e=>{this.waitList.addToWaitList("modalDesign",e)})}getModalItems(){return this.modalItems?this.modalItems:{login:new $x(mae,this.initModalData()),createTicket:new $x(rpe,this.initModalData()),duplicate:new $x(PH,this.initModalData())}}addActiveModal(e,i){this.globals.modalCacheFlag=!0,this.activeModals.push(e),i&&this.activeModalTypes.push(i);try{e.afterClosed().subscribe(()=>{const r=this.activeModals.indexOf(e);let o;if(r>-1&&(this.activeModalTypes&&this.activeModalTypes.length>r&&(o=this.activeModalTypes[r]),this.activeModals.splice(r,1),this.activeModalTypes&&this.activeModalTypes.length>r&&this.activeModalTypes.splice(r,1)),o)try{this.modalClosedSource.next(o)}catch{}this.activeModals.length<1&&(this.globals.modalCacheFlag=!1,this.globals.clearModalTemps())})}catch{}}closeActiveModal(e){const i=this.activeModals.pop();this.activeModalTypes.pop(),i&&i.close(e),this.activeModals.length<1&&(this.globals.modalCacheFlag=!1,this.globals.clearModalTemps())}closeAllModals(){this.matDialog.closeAll()}get modalClosed(){return this.modalClosedSource.asObservable()}initWebIntModal(){return this.modalHeader}get modalItemsPub(){return this.modalItems}get newActive(){return this.activeModals[this.activeModals.length-1]}initModalData(e=null,i,r=this.modalHeader,o=this.modalFooter){const s={nextType:e,modalHeader:r,modalFooter:o,closeModal:this.closeActiveModal.bind(this),closeAllModal:this.closeAllModals.bind(this),modalItems:this.modalItems};if(i)for(const a of Object.keys(i))s[a]=i[a];return s}static{this.\u0275fac=function(i){return new(i||n)(J(ki),J(Dt),J(Oo))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fV=(()=>{class n{constructor(e){this.globals=e}waitForConnectorType(){return new ie(e=>{null!=this.globals.curConnectorType&&(e.next(this.globals.curConnectorType),e.complete())})}get preview(){return"preview"in this.postData?this.postData.preview:null}static{this.\u0275fac=function(i){return new(i||n)(J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _u=ue(3703);let ope=(()=>{class n extends fV{constructor(e,i,r){super(e),this.messageService=i,this.waitList=r,this.globals.curConnectorType="Owa",this.globals.graphRequired=!0,this.savedAttachments={},Office.context.platform!==Office.PlatformType.OfficeOnline&&(this.globals.isClient=!0),this.waitList.notifyWaitList("platform",!0),Office.context.mailbox.addHandlerAsync(Office.EventType.ItemChanged,this.itemChangeHandler.bind(this))}get isMailAlreadyDoc(){return!(!this.postData?.ticketAlreadyDoc&&!this.postData?.officeAlreadyDoc)}get curPostData(){return this.postData}get data(){return this.appData}set data(e){this.appData=e,this.initGlobalValues()}set alreadyDocumented(e){e.ticketAlreadyDoc&&(this.postData.ticketAlreadyDoc=e.ticketAlreadyDoc),e.officeAlreadyDoc&&(this.postData.officeAlreadyDoc=e.officeAlreadyDoc),this.setOpenExtension(this.postData.graphMailID,this.postData.ticketAlreadyDoc,this.postData.officeAlreadyDoc)}waitForCSS(){return new ie(e=>{e.complete()})}getData(){return this.initGlobalValues()}checkMailType(){throw new Error("Method not implemented.")}adjustAttachments(){this.setAttachments(this.globals.curOWAMessageID)}updateAddressInfo(e){this.updateViewFunc=e}getPostData(){var e=this;return E(function*(){if(e.globals.attachmentsReady=!1,Office.context.mailbox.item){const i=Office.CoercionType.Text;Office.context.mailbox.item&&Office.context.mailbox.item?.body.getAsync(i,function(){var r=E(function*(o){if(o.status===Office.AsyncResultStatus.Failed)e.messageService.showError(o.error.message,o.error.name,!0);else if("gi"===e.globals.system?yield e.setPostDataGI(o,i):yield e.setPostDataBA(o,i),e.globals.graphLoaded){const s=yield e.getMimeMessage();e.globals.curOWAMessageID=s.id,e.setAttachments(s.id)}else e.waitForGraph().subscribe(E(function*(){const s=yield e.getMimeMessage();e.globals.curOWAMessageID=s.id,e.setAttachments(s.id)}))});return function(o){return r.apply(this,arguments)}}())}return!0})()}adjustSnackPosition(){}filterObjectEntryOfArr(e){const i=[];for(const r of e)i.push(r.emailAddress);return i}setPostDataBA(e,i){var r=this;return E(function*(){""===r.appData.conversationId||(r.postData={fromMail:r.appData.from.emailAddress,toMail:r.filterObjectEntryOfArr(r.appData.to),ccMail:r.filterObjectEntryOfArr(r.appData.cc),bccMail:r.filterObjectEntryOfArr(r.appData.bcc),messageID:r.appData.internetMessageId,subject:r.appData.subject,body:{htmlBody:!!i.toString().toLowerCase().includes("html"),text:btoa(e.value)},type:i.toString(),date:new Date(r.appData.dateTimeModified).toISOString(),creationDate:new Date(r.appData.dateTimeModified).getTime(),changingDate:new Date(r.appData.dateTimeModified).getTime(),attachments:[],officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:"",mailType:"Incoming"})})()}setPostDataGI(e,i){var r=this;return E(function*(){r.postData={to:r.appData.to,from:r.appData.from,cc:r.appData.cc,subject:r.appData.subject,sender:r.appData.sender,contentType:i,body:e.value,date:new Date(r.appData.dateTimeModified).getTime(),messageID:r.appData.internetMessageId,preview:"",isIncoming:!0,attachments:[],officeAlreadyDoc:!1,ticketAlreadyDoc:!1,graphMailID:""}})()}itemChangeHandler(){var e=this;return E(function*(){e.globals.infoShower&&e.globals.infoShower.isMultiSelectDocumenting||window.location.reload()})()}checkDocumentedFlag(e){var i=this;return E(function*(){void 0!==e&&null!=e&&(yield i.graphClient.api(`/me/messages/${e}/extensions/GI8.BM`).responseType(Po.RAW).get().then(function(){var o=E(function*(s){404===s.status?i.setOpenExtension(e):200===s.status?(s=yield s.json(),i.postData.officeAlreadyDoc=s.officeAlreadyDoc,i.postData.ticketAlreadyDoc=s.ticketAlreadyDoc):(s=yield s.json(),i.messageService.showError(s.error.message+" "+i.globals.languageConfLocal.graphRelog,"GRAPH ERROR",!0))});return function(s){return o.apply(this,arguments)}}()))})()}setOpenExtension(e){return E(function*(i,r=!1,o=!1){}).apply(this,arguments)}getMimeMessage(){var e=this;return E(function*(){let i=null,r=yield e.graphClient.api("/me/messages").filter(`internetMessageId eq '${e.appData.internetMessageId}'`).get();r=r.value,i=Array.isArray(r)&&r.length>0&&r.length>=1?r[0]:r;try{e.checkDocumentedFlag(i.id),i.length>0&&("gi"===e.globals.system?yield e.setMimeMessageDataGI(i):yield e.setMimeMessageDataBA(i))}catch(o){console.error(o),i=""}return i})()}setMimeMessageDataGI(e){var i=this;return E(function*(){i.postData=i.postData,i.postData.graphMailID=e.id,i.postData.date=new Date(e.sentDateTime).getTime(),i.postData.body=e.body.content,i.postData.contentType=e.body.contentType,i.postData.preview=(0,_u.convert)(e.body.content,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^\xa0+/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),i.setIncomingOutgoing(e)})()}setMimeMessageDataBA(e){var i=this;return E(function*(){i.postData=i.postData,i.postData.graphMailID=e.id,i.postData.date=new Date(e.sentDateTime).toISOString(),i.postData.creationDate=new Date(e.createdDateTime).getTime(),i.postData.changingDate=new Date(e.lastModifiedDateTime).getTime(),i.postData.body={htmlBody:!!e.body.contentType.toLowerCase().includes("html"),text:Buffer.from(e.body.content).toString("base64")},i.postData.type=e.body.contentType,i.setIncomingOutgoing(e)})()}setIncomingOutgoing(e){var i=this;return E(function*(){const o=Office.context.mailbox.userProfile.emailAddress;e.sender.emailAddress.address.toLowerCase()===o.toLowerCase()?"gi"===i.globals.system?(i.postData=i.postData,i.postData.isIncoming=!1):(i.postData=i.postData,i.postData.mailType="Outgoing"):"gi"===i.globals.system?(i.postData=i.postData,i.postData.isIncoming=!0):(i.postData=i.postData,i.postData.mailType="Incoming")})()}setAttachments(e){var i=this;return E(function*(){i.globals.attachmentsReady=!0})()}waitForGraph(){return new ie(e=>{this.waitList.addToWaitList("graphLoaded",e)})}initGlobalValues(){this.appData=Office.context.mailbox.item}static{this.\u0275fac=function(i){return new(i||n)(J(Dt),J(Bn),J(ki))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gV=(()=>{class n extends fV{constructor(e,i,r,o){super(i),this.translate=e,this.globals=i,this.messageService=r,this.connection=o,this.adjustSnackPosition(),this.globals.curConnectorType="Verse",this.globals.curConnector=this}waitForCSS(){return new ie(e=>{e.next({main:{},overflowContainer:{}}),e.complete()})}getData(){throw new Error("Method not implemented.")}checkMailType(){throw new Error("Method not implemented.")}updateAddressInfo(e){throw new Error("Method not implemented.")}adjustAttachments(){throw new Error("Method not implemented.")}set data(e){this.appData=e,this.initGlobalValues()}get data(){return this.appData}set alreadyDocumented(e){}get isMailAlreadyDoc(){return!1}get curPostData(){return this.postData}adjustSnackPosition(){this.messageService.changeClass("snackbar-bottom-center-verse")}getPostData(){var e=this;return E(function*(){e.connection.getReq("user",null,!0).subscribe(i=>{const r=e.appData.context;let o="";return r.body&&(o=r.body),"com.ibm.verse.widget.action.mailRead"===e.appData.actionId?e.postData={to:r.recipientTo,from:r.sender,cc:r.recipientCC,subject:r.subject,sender:r.sender,contentType:"text/html",body:o,preview:(0,_u.convert)(o,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^\xa0+/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),date:new Date(r.timeSent).getTime(),messageID:r.unid,isIncoming:!(i.mail.toLowerCase()===r.sender.emailAddress.toLowerCase()||void 0!==r.sender.notesAddress&&i.mail.toLowerCase()===r.sender.notesAddress.toLowerCase())}:"com.ibm.verse.ext.person.action"===e.appData.actionId?e.postData={to:[null],from:r.profile.primaryEmail,cc:[null],subject:"",sender:r.profile.primaryEmail,contentType:"text/html",body:o,preview:(0,_u.convert)(o,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^\xa0+/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),date:Date.now(),messageID:"no-unid",isIncoming:!1}:"com.ibm.verse.widget.action.mailCompose"===e.appData.actionId&&(e.postData={to:r.recipientTo,from:r.sender,cc:r.recipientCC,subject:r.subject,sender:r.sender,contentType:"text/html",body:o,preview:(0,_u.convert)(o,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^\xa0+/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),date:Date.now(),messageID:"no-unid",isIncoming:!1}),!0})})()}initGlobalValues(){const e=this.appData.context;return"com.ibm.verse.widget.action.mailRead"===this.appData.actionId?(this.globals.actionsAllowed=!0,this.globals.curSubject=e.subject,this.globals.curMailUnid=e.unid,this.globals.curMailAddr=this.globals.ownMailAddr===e.sender.emailAddress?e.recipientTo[0]:e.sender.emailAddress,this.globals.curTo=e.recipientTo,this.globals.curFrom=e.sender,this.globals.curCC=e.recipientCC,this.globals.curMailAddrCount=e.recipientTo.length+e.recipientCC.length):"com.ibm.verse.ext.person.action"===this.appData.actionId?(this.globals.actionsAllowed=!1,this.globals.curSubject="",this.globals.curMailUnid="no-unid",this.globals.curMailAddr=e.profile.primaryEmail,this.globals.curTo=[],this.globals.curFrom={emailAddress:e.profile.primaryEmail},this.globals.curCC=[],this.globals.curMailAddrCount=0):"com.ibm.verse.widget.action.mailCompose"===this.appData.actionId&&(this.globals.actionsAllowed=!1,this.globals.createAllowed=!0,this.globals.curSubject=e.subject,this.globals.curMailUnid="no-unid",this.globals.curFrom=e.sender[0],this.composeFilterMails(e.recipientTo,e.recipientCC,e.sender[0])),this.getPostData()}composeFilterMails(e,i,r){const o=e.length,s=i.length,a=o+s;if(o<1&&a>0)this.translate.get("LC53485").subscribe(c=>{this.translate.get("to").subscribe(l=>{c=c.replace("{FIELD}",l),this.messageService.showError(c)})});else if(o<1)this.translate.get("LC53484").subscribe(c=>{this.messageService.showError(c)});else if(1===a&&e[0].emailAddress.includes("@"))this.globals.curMailAddr=e[0].emailAddress,this.globals.curTo=[],this.globals.curCC=[],this.globals.curMailAddrCount=0;else{let l,c=!1;const d=[];for(let h=0;h<o;h++)l=e[h],l.emailAddress.includes("@")?d.push(l):c=!0;this.globals.curTo=d;const u=[];for(let h=0;h<s;h++)l=i[h],l.emailAddress.includes("@")?u.push(l):c=!0;this.globals.curCC=u,this.globals.curMailAddr=d.length>0||u.length>0?e[0].emailAddress:r.emailAddress,this.globals.curMailAddrCount=d.length+u.length,c&&d.length+u.length===0&&this.translate.get("LC53486").subscribe(h=>{this.messageService.showError(h)})}}static{this.\u0275fac=function(i){return new(i||n)(J(zn),J(Dt),J(Bn),J(Lr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),spe=(()=>{class n{constructor(e,i,r,o,s){this.translate=e,this.globals=i,this.message=r,this.waitlist=o,this.connection=s}checkForApp(){var e=this;return new ie(i=>{try{Office.onReady(()=>{i.next(new ope(this.globals,this.message,this.waitlist)),i.complete()})}catch{if(null!=sessionStorage.getItem("verseAppData")){const o=new gV(this.translate,this.globals,this.message,this.connection);o.data=JSON.parse(sessionStorage.getItem("verseAppData")),sessionStorage.clear(),i.next(o),i.complete()}else window.addEventListener("message",function(){var o=E(function*(s){e.verseHandler(s,i)});return function(s){return o.apply(this,arguments)}}(),!1)}})}verseHandler(e,i){var r=this;return E(function*(){if(sessionStorage.clear(),"com.ibm.verse.ping.application.loaded"===e.data.verseApiType&&null!=e.source&&!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker)&&e.source.postMessage({verseApiType:"com.ibm.verse.application.loaded"},e.origin),"com.ibm.verse.action.clicked"===e.data.verseApiType){const o=new gV(r.translate,r.globals,r.message,r.connection);o.data=e.data.verseApiData,i.next(o),i.complete()}})()}static{this.\u0275fac=function(i){return new(i||n)(J(zn),J(Dt),J(Bn),J(ki),J(Lr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fs=(()=>{class n{constructor(e,i,r){this.overlay=e,this.ngZone=i,this.matDialog=r,this.thingToClose=new Map,this.windowBlurListenerAdded=!1,this.setupSmartBlurListener()}setupSmartBlurListener(){this.windowBlurListenerAdded||(this.windowBlurListenerAdded=!0,this.ngZone.runOutsideAngular(()=>{window.addEventListener("blur",()=>{setTimeout(()=>{this.isFocusInsideAddin()||this.ngZone.run(()=>{this.closeAllOverlays()})},150)})}))}isFocusInsideAddin(){const e=document.activeElement,i=document.body.contains(e)&&e!==document.body,o=!!document.querySelector(".cdk-overlay-container")?.contains(e);return i||o}addThingToClose(e,i){this.thingToClose.has(e)||this.thingToClose.set(e,i)}closeAll(e){this.thingToClose.forEach((i,r)=>{e&&e===r||i()})}closeAllOverlays(){this.closeAll(),this.closeAllDialogs(),this.closeCdkOverlays()}closeAllDialogs(){try{this.matDialog.openDialogs.filter(e=>!e.disableClose).forEach(e=>e.close())}catch{}}closeCdkOverlays(){try{document.querySelectorAll(".cdk-overlay-backdrop").forEach(o=>{o.click()}),document.querySelectorAll(".cdk-overlay-pane").forEach(o=>{const s=new KeyboardEvent("keydown",{key:"Escape",code:"Escape",keyCode:27,bubbles:!0});o.dispatchEvent(s)}),document.querySelectorAll(".mat-mdc-select").forEach(o=>{o.blur()})}catch{}}static{this.\u0275fac=function(i){return new(i||n)(J(D3),J($e),J(Oo))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pp=(()=>{class n{constructor(e){this.globals=e}get config(){return this.globals.configJson}isBA(){return"ba"===this.globals.system}isGI(){return"gi"===this.globals.system}hasMinimalRights(){if(this.isGI())return!0;const e=this.config||{};return!!(e.createEmail&&e.readEmail&&e.readContact&&e.readCompany)}canCreateContact(){return!!this.isGI()||!!this.config.createContact}canCreateCompany(){return!!this.isGI()||!!this.config.createCompany}canCreateContactAndCompany(){return!!this.isGI()||!!this.config.createContact&&!!this.config.createCompany}canSelectProjects(){return!!this.isGI()||!!this.config.allowProjectSelection}canCreateTicket(){return!(!this.globals.infoShower?.isReadMode||!this.isGI()&&!this.config.createTicket)}static{this.\u0275fac=function(i){return new(i||n)(J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ape(n,t){1&n&&(_(0,"div"),ve(1,"app-redirect"),b())}function cpe(n,t){1&n&&ve(0,"app-contact-selector")}function lpe(n,t){1&n&&ve(0,"app-info-shower")}function dpe(n,t){1&n&&ve(0,"app-project-selector")}function upe(n,t){1&n&&ve(0,"app-tags-selector")}function hpe(n,t){1&n&&ve(0,"app-address-activities")}function mpe(n,t){if(1&n&&(_(0,"div",8),H(1),b()),2&n){const e=C(4);f(),Xe(" ",e.globals.languageConfLocal.giLoginText," ")}}function ppe(n,t){if(1&n){const e=Ne();_(0,"div",7),H(1),te(2,mpe,2,1,"div",8),ve(3,"br"),_(4,"button",9),ae("click",function(){return Y(e),Q(C(3).crmLogin())}),H(5,"Login CRM"),b()()}if(2&n){const e=C(3);f(),Xe(" ",e.globals.languageConfLocal.pleaseLogIn," "),f(),ne("gi"===e.globals.system?2:-1)}}function fpe(n,t){if(1&n){const e=Ne();_(0,"div",7),H(1),ve(2,"br"),_(3,"button",9),ae("click",function(){return Y(e),Q(C(3).openGraphLogin())}),H(4,"Login Microsoft Graph"),b()()}if(2&n){const e=C(3);f(),Xe(" ",e.globals.languageConfLocal.noGraph," ")}}function gpe(n,t){if(1&n&&(_(0,"div",3),ve(1,"app-item-documentor")(2,"app-loader")(3,"app-site-actions"),te(4,cpe,1,0,"app-contact-selector"),te(5,lpe,1,0,"app-info-shower"),te(6,dpe,1,0,"app-project-selector"),te(7,upe,1,0,"app-tags-selector"),te(8,hpe,1,0,"app-address-activities"),te(9,ppe,6,2,"div",7),te(10,fpe,5,1,"div",7),ve(11,"app-modal")(12,"app-webint-input"),b()),2&n){const e=C(2);K("ngStyle",e.newCSS.main)("hidden","main"!==e.globals.activeWindow),f(4),ne(e.globals.loggedIn&&e.globals.graphLoaded?4:-1),f(),ne(e.globals.loggedIn&&e.globals.graphLoaded?5:-1),f(),ne(e.globals.loggedIn&&e.globals.graphLoaded?6:-1),f(),ne(e.globals.loggedIn&&e.globals.graphLoaded?7:-1),f(),ne(e.globals.loggedIn&&e.globals.graphLoaded?8:-1),f(),ne(e.globals.loggedIn?-1:9),f(),ne(!e.globals.graphLoaded&&e.waitedABit?10:-1)}}function _pe(n,t){1&n&&(_(0,"div",4),ve(1,"app-contact-creator"),b()),2&n&&K("hidden","contactCreation"!==C(2).globals.activeWindow)}function bpe(n,t){1&n&&(_(0,"div",4),ve(1,"app-about"),b()),2&n&&K("hidden","about"!==C(2).globals.activeWindow)}function ype(n,t){1&n&&(_(0,"div",4),ve(1,"app-license-information"),b()),2&n&&K("hidden","license"!==C(2).globals.activeWindow)}function vpe(n,t){1&n&&(_(0,"div",4),ve(1,"app-project-selector-page"),b()),2&n&&K("hidden","projectPage"!==C(2).globals.activeWindow)}function Cpe(n,t){1&n&&(_(0,"div",4),ve(1,"app-document-selector-page"),b()),2&n&&K("hidden","documentationTargetSelector"!==C(2).globals.activeWindow)}function wpe(n,t){1&n&&(_(0,"div",4),ve(1,"app-user-settings"),b()),2&n&&K("hidden","userSettings"!==C(2).globals.activeWindow)}function Dpe(n,t){1&n&&(_(0,"div",4),ve(1,"app-company-selector-page"),b()),2&n&&K("hidden","companyPage"!==C(2).globals.activeWindow)}function xpe(n,t){if(1&n&&(_(0,"div",7),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.globals.languageConfLocal.itemNotSupported," ")}}function Epe(n,t){if(1&n&&(_(0,"div"),ve(1,"input",1),_(2,"div",2),te(3,gpe,13,9,"div",3),te(4,_pe,2,1,"div",4),te(5,bpe,2,1,"div",4),te(6,ype,2,1,"div",4),te(7,vpe,2,1,"div",4),te(8,Cpe,2,1,"div",4),te(9,wpe,2,1,"div",4),te(10,Dpe,2,1,"div",4),_(11,"div",5),ve(12,"mat-progress-spinner",6),b(),te(13,xpe,2,1,"div",7),b()()),2&n){const e=C();st("inputs-blocked",e.blockAllInputs),f(2),K("ngStyle",e.newCSS.overflowContainer),f(),ne(e.globals.itemNotSupported?-1:3),f(),ne(e.globals.itemNotSupported?-1:4),f(),ne(e.globals.itemNotSupported?-1:5),f(),ne(e.globals.itemNotSupported?-1:6),f(),ne(e.globals.itemNotSupported?-1:7),f(),ne(e.globals.itemNotSupported?-1:8),f(),ne(e.globals.itemNotSupported?-1:9),f(),ne(e.globals.itemNotSupported?-1:10),f(2),K("diameter",30),f(),ne(e.globals.itemNotSupported?13:-1)}}let eA=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,m,g,y){this.modalService=e,this.initService=i,this.connectorFactory=r,this.graphAuthService=o,this.globals=s,this.lsm=a,this.connectionService=c,this.dps=l,this.datasource=d,this.permissionService=u,this.messageService=h,this.http=m,this.waitList=g,this.authService=y,this.title="Business Mail",this.waitedABit=!1,this.blockAllInputs=!1,this.autoGraphLoginTriggered=!1,this.newCSS={main:{},overflowContainer:{}},this.log=new li("AppComponent"),this.selectedItemsDebounceTimer=null,this.lastSelectedItemId="",this.isInit=!1}ngOnInit(){this.log.info("Welcome to Business Mail for Outlook!"),setTimeout(()=>{this.waitedABit=!0},1e3);let e=Office.context.mailbox.item;if(e?e.itemClass&&(e.itemClass.startsWith("IPM.Schedule.Meeting.Resp")||e.itemClass.startsWith("IPM.Schedule.Meeting.Canceled"))&&(this.globals.itemNotSupported=!0):Office.context.requirements.isSetSupported("Mailbox","1.13")||(this.globals.itemNotSupported=!0),!this.globals.isRedirectPage){this.connectorFactory.checkForApp().subscribe(i=>{this.connector=i,this.initConnectorData()}),Office.context.mailbox.addHandlerAsync(Office.EventType.ItemChanged,this.itemChangeHandler.bind(this));try{Office.context.requirements.isSetSupported("Mailbox","1.13")&&Office.context.mailbox.addHandlerAsync(Office.EventType.SelectedItemsChanged,this.selectedItemsChangeHandler.bind(this))}catch{}this.modalService.waitForModalDesign().subscribe(()=>{this.initModalItems()}),this.initService.waitForInit().subscribe(i=>{this.isInit=i}),window.addEventListener("keydown",this.ownReloadAndESC)}window.dps=this.dps,this.globals.activeWindow="main",window.innerHeight>0&&window.innerWidth>0&&setInterval(()=>{let i=(new Date).toString();this.lsm.setValue(Ht.taskpaneActive,i)},1e3)}ngAfterViewInit(){this.datasource.getConfig().subscribe(e=>{this.log.info("Config response received: ",e),this.globals.configJson=e||{createContact:!1,createCompany:!1,readContact:!1,readCompany:!1,createEmail:!1,readEmail:!1,allowProjectSelection:!1,createTicket:!1,readTicket:!1},this.log.info("configJson after assignment:",this.globals.configJson),this.waitList.notifyWaitList("giFeaturesReady",!0,!0),this.datasource.hasOfficeDBs().subscribe(i=>{this.log.info("Office DBs available:",i),i||(this.log.warn("No Office DBs available - adjusting UI accordingly"),this.messageService.showError(this.globals.languageConfLocal.noOfficeDbs,"",!1,1e4).afterDismissed().subscribe(()=>{this.connectionService.logout()}))}),this.permissionService.hasMinimalRights()||(this.blockAllInputs=!0,this.messageService.showError(this.globals.languageConfLocal.NotMinRightsAutoLogout,"",!1,2e4).afterDismissed().subscribe(()=>{this.connectionService.logout()})),null==this.globals.configJson.projectSelection&&(this.globals.configJson.projectSelection=!0),this.tryAutoGraphLoginOnce()})}tryAutoGraphLoginOnce(){this.autoGraphLoginTriggered||this.globals.isRedirectPage||this.globals.graphLoaded||(this.autoGraphLoginTriggered=!0,this.openGraphLogin())}itemChangeHandler(){var e=this;return E(function*(){e.globals.infoShower&&e.globals.infoShower.isMultiSelectDocumenting||window.location.reload()})()}selectedItemsChangeHandler(){this.globals.infoShower&&this.globals.infoShower.isMultiSelectDocumenting||(this.selectedItemsDebounceTimer&&clearTimeout(this.selectedItemsDebounceTimer),this.selectedItemsDebounceTimer=setTimeout(()=>{this.selectedItemsDebounceTimer=null;const e=Office.context.mailbox.item;if(e){const i=e.itemId||"";return void(i&&i!==this.lastSelectedItemId&&(this.lastSelectedItemId=i,window.location.reload()))}try{Office.context.mailbox.getSelectedItemsAsync(i=>{if(i.status!==Office.AsyncResultStatus.Succeeded||!i.value||0===i.value.length)return;const r=i.value[0].itemId||"";r!==this.lastSelectedItemId&&(this.lastSelectedItemId=r,this.globals.infoShower&&this.globals.infoShower.recognizeCurrentItem())})}catch(i){console.info("getSelectedItemsAsync not available",i)}},500))}initModalItems(){this.modalItems=this.modalService.getModalItems(),this.isInit=!0}initConnectorData(){this.connector.waitForCSS().subscribe(e=>{this.newCSS=e}),this.connector.getData()}ownReloadAndESC(e){if(116===(e.which||e.keyCode)){if("Owa"===this.globals.curConnectorType)window.location.reload();else if(sessionStorage.setItem("verseAppData",JSON.stringify(this.globals.curConnector.data)),!window.location.href.includes("index.html")){let i="index.html";window.location.href.endsWith("/")||(i="/"+i),window.location.href+=i}}else if(27===e.keyCode)return window.dps.closeAll(),setTimeout(()=>{document.getElementById("focusDiv")?.focus()},100),void(e.cancelBubble=!0)}get isInit(){return this.init}set isInit(e){this.init=e}get mItems(){return this.modalItems}openGraphLogin(){setTimeout(()=>{this.authService.signIn()},400)}crmLogin(){this.globals.getSystemBaseUrl()?this.connectionService.connect().subscribe(()=>{}):this.openWebIntModal()}openWebIntModal(){this.connectionService.waitForWebIntModal().subscribe(e=>{e()})}doAttachmentsRead(){let e=Office.context.mailbox.item;e?.getAttachmentContentAsync(e.attachments[0].id,i=>{})}doAttachmentsCompose(){let e=Office.context.mailbox.item;e?.getAttachmentsAsync(i=>{e?.getAttachmentContentAsync(i.value[0].id,r=>{})})}static{this.\u0275fac=function(i){return new(i||n)(R(pl),R(Yk),R(spe),R(gu),R(Dt),R(Qi),R(Lr),R(fs),R(nr),R(pp),R(Bn),R(rm),R(ki),R(Kk))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[3,"inputs-blocked"],["id","focusDiv",2,"position","absolute","width","0px","height","0px","overflow","hidden","opacity","0","filter","alpha(opacity=0)"],["id","overflowContainer",3,"ngStyle"],["id","main",3,"ngStyle","hidden"],[3,"hidden"],["id","loadingSpinner",2,"display","none","width","100%","height","100%","position","absolute","z-index","99999","top","0px","left","0px","background-color","rgba(255,255,255,0.5)"],["mode","indeterminate",2,"position","absolute","z-index","9999","top","calc(50vh - 15px)","left","calc(50vw - 15px)",3,"diameter"],[1,"notSupported"],[1,"notSupportedInner"],["mat-flat-button","",2,"width","100%","margin-top","1em","margin-bottom","1em","background-color","#0F6CBD","color","white","font-size","medium !important",3,"click"]],template:function(i,r){1&i&&te(0,ape,2,0,"div")(1,Epe,14,13,"div",0),2&i&&ne(r.globals.isRedirectPage?0:1)},styles:['.notSupportedInner[_ngcontent-%COMP%], .notSupported[_ngcontent-%COMP%]{margin:auto;padding-top:30px;font-size:21px;font-weight:100;font-family:Segoe UI,"Segoe UI Web (West European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}#overflowContainer[_ngcontent-%COMP%]{height:100%;overflow:hidden!important;overflow-x:hidden}#overflowContainer[_ngcontent-%COMP%] > #main[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 12px}.notSupported[_ngcontent-%COMP%]{width:90%;font-size:large!important}.notSupportedInner[_ngcontent-%COMP%]{width:100%;font-size:large!important}.inputs-blocked[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.7}.inputs-blocked[_ngcontent-%COMP%]   .mat-snack-bar-container[_ngcontent-%COMP%]{pointer-events:auto!important;opacity:1!important}']})}}return n})();const _V=[new class Spe{constructor(){this.model={name:"deleteAttachments",value:"",classAssignment:{"":"bmAttachInclude",1:"bmAttachExclude"},titleLC:{"":"LC73172",1:"LC73173"}}}},new class kpe{constructor(){this.model={name:"openMail",value:"",classAssignment:{"":"bmDocOFF",1:"bmDocON"},titleLC:{"":"LC73169",1:"LC73168"}}}},new class Ape{constructor(){this.model={name:"createAddress",value:"",classAssignment:{"":"bmPlus",1:"bmMinus"},titleLC:{"":"LC73197",1:"LC73197"}}}}];class Tpe{constructor(){this.items=[{name:"createAddressCompany",lc:"LC73000"},{name:"createAddressToCompany",lc:"LC73001"},{name:"createAddressPerson",lc:"LC73003"}]}addNewItem(t,e){this.items.push({name:t,lc:e})}}let bV=(()=>{class n{constructor(e){this.globals=e,this.configData=_V,this.subscribers=[],this.createInstance=new Tpe,this.open=!1}connect(){return new ie(e=>{this.subscribers.push(e),e.next(this.globals.isCreateBlockOpen)})}updateObservers(){const e=this.globals.isCreateBlockOpen;for(const i of this.subscribers)i.next(e)}toggleOpen(){this.open=!this.open,this.configData[2].model.value=this.isOpen?"1":"",this.globals.createAddressToggle(),this.updateObservers()}get items(){return this.createInstance.items}get isOpen(){return this.open}set config(e){this.configData=e}static{this.\u0275fac=function(i){return new(i||n)(J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ipe=["mat-menu-item",""],Mpe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Rpe=["mat-icon, [matMenuItemIcon]","*"];function Ope(n,t){1&n&&(Go(),_(0,"svg",2),ve(1,"polygon",3),b())}const Ppe=["*"];function Npe(n,t){if(1&n){const e=Ne();ji(0,"div",0),lD("click",function(){return Y(e),Q(C().closed.emit("click"))})("animationstart",function(r){return Y(e),Q(C()._onAnimationStart(r.animationName))})("animationend",function(r){return Y(e),Q(C()._onAnimationDone(r.animationName))})("animationcancel",function(r){return Y(e),Q(C()._onAnimationDone(r.animationName))}),ji(1,"div",1),it(2),hr()()}if(2&n){const e=C();Ir(e._classList),st("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation","void"===e._panelAnimationState)("mat-menu-panel-animating",e._isAnimating()),Ui("id",e.panelId),Qe("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const tA=new Z("MAT_MENU_PANEL");let bu=(()=>{class n{_elementRef=p(nt);_document=p(Ut);_focusMonitor=p(js);_parentMenu=p(tA,{optional:!0});_changeDetectorRef=p(qt);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Oe;_focused=new Oe;_highlighted=!1;_triggersSubmenu=!1;constructor(){p(Ai).load(rs),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&ae("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(Qe("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),st("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Re],disableRipple:[2,"disableRipple","disableRipple",Re]},exportAs:["matMenuItem"],attrs:Ipe,ngContentSelectors:Rpe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(ln(Mpe),it(0),_(1,"span",0),it(2,1),b(),ve(3,"div",1),te(4,Ope,2,0,":svg:svg",2)),2&i&&(f(3),K("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),f(),ne(r._triggersSubmenu?4:-1))},dependencies:[bm],encapsulation:2,changeDetection:0})}return n})();const Lpe=new Z("MatMenuContent"),Fpe=new Z("mat-menu-default-options",{providedIn:"root",factory:()=>({overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"})}),nA="_mat-menu-enter",_v="_mat-menu-exit";let yu=(()=>{class n{_elementRef=p(nt);_changeDetectorRef=p(qt);_injector=p(kt);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Yn();_allItems;_directDescendantItems=new Wl;_classList={};_panelAnimationState="void";_animationDone=new Oe;_isAnimating=Pn(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){const i=this._previousPanelClass,r={...this._classList};i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ze;close=this.closed;panelId=p(_n).getId("mat-menu-panel-");constructor(){const e=p(Fpe);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Zk(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ii(this._directDescendantItems),_i(e=>di(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Ii(this._directDescendantItems),_i(i=>di(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ti(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=pi(()=>{const i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===i,"mat-menu-below":"below"===i},this._changeDetectorRef.markForCheck()}_onAnimationDone(e){const i=e===_v;(i||e===nA)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(e){(e===nA||e===_v)&&this._isAnimating.set(!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(0===this._keyManager.activeItemIndex){const i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(_v),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?nA:_v)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Ii(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,Lpe,5)(o,bu,5)(o,bu,4),2&i){let s;_e(s=be())&&(r.lazyContent=s.first),_e(s=be())&&(r._allItems=s),_e(s=be())&&(r.items=s)}},viewQuery:function(i,r){if(1&i&&Jt(Ln,5),2&i){let o;_e(o=be())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){2&i&&Qe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Re],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:Re(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Je([{provide:tA,useExisting:n}])],ngContentSelectors:Ppe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(ln(),wg(0,Npe,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{border-top-color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,changeDetection:0})}return n})();const Bpe=new Z("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>Pd(n)}}),vu=new WeakMap;let bv,Hpe=(()=>{class n{_canHaveBackdrop;_element=p(nt);_viewContainerRef=p(Un);_menuItemInstance=p(bu,{optional:!0,self:!0});_dir=p(Nr,{optional:!0});_focusMonitor=p(js);_ngZone=p($e);_injector=p(kt);_scrollStrategy=p(Bpe);_changeDetectorRef=p(qt);_animationsDisabled=Yn();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=zt.EMPTY;_menuCloseSubscription=zt.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(e){this._canHaveBackdrop=e;const i=p(tA,{optional:!0});this._parentMaterialMenu=i instanceof yu?i:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&vu.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){const i=this._menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();const r=vu.get(i);vu.set(i,this),r&&r!==this&&r._closeMenu();const o=this._createOverlay(i),s=o.getConfig(),a=s.positionStrategy;this._setPosition(i,a),s.hasBackdrop=!!this._canHaveBackdrop&&(null==i.hasBackdrop?!this._triggersSubmenu():i.hasBackdrop),o.hasAttached()||(o.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),i.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,e&&i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof yu&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe($t(i.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}_destroyMenu(e){const i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof yu&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(On(1)).subscribe(()=>{i.detach(),vu.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&vu.delete(r),this.restoreFocus&&("keydown"===e||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=Kc(this._injector,i),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof yu&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new Nd({positionStrategy:mm(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{e.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[s,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[c,l]=[s,a],[d,u]=[r,o],h=0;if(this._triggersSubmenu()){if(u=r="before"===e.xPosition?"start":"end",o=d="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(c="top"===s?"bottom":"top",l="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:c,overlayX:d,overlayY:s,offsetY:h},{originX:o,originY:c,overlayX:u,overlayY:s,offsetY:h},{originX:r,originY:l,overlayX:d,overlayY:a,offsetY:-h},{originX:o,originY:l,overlayX:u,overlayY:a,offsetY:-h}])}_menuClosingActions(){const e=this._getOutsideClickStream(this._overlayRef),i=this._overlayRef.detachments();return di(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:We(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gn(s=>this._menuOpen&&s!==this._menuItemInstance)):We(),i)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Gc(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return vu.get(e)===this}static \u0275fac=function(i){!function j2(){throw new Error("invalid")}()};static \u0275dir=fe({type:n})}return n})(),yV=(()=>{class n extends Hpe{_cleanupTouchstart;_hoverSubscription=zt.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new ze;onMenuOpen=this.menuOpened;menuClosed=new ze;onMenuClose=this.menuClosed;constructor(){super(!0);const e=p(ai);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",i=>{ob(i)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){rb(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&"void"!==this._parentMaterialMenu?._panelAnimationState&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){1&i&&ae("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&Qe("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?null==r.menu?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[Ge]})}return n})(),jpe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Xc,Ma,wn,zc]})}return n})();function fp(n){return function Upe(){if(void 0===bv&&(bv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(bv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return bv}()?.createHTML(n)||n}function vV(n){return Error(`Unable to find icon with the name "${n}"`)}function CV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class fl{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let zpe=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new fl(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Fi.HTML,r);if(!s)throw wV(r);const a=fp(s);return this._addSvgIconConfig(e,i,new fl("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new fl(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Fi.HTML,i);if(!o)throw wV(i);const s=fp(o);return this._addSvgIconSetConfig(e,new fl("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Fi.RESOURCE_URL,e);if(!i)throw CV(e);const r=this._cachedIconsByUrl.get(i);return r?We(yv(r)):this._loadSvgIconFromConfig(new fl(e,null)).pipe(wi(o=>this._cachedIconsByUrl.set(i,o)),It(o=>yv(o)))}getNamedSvgIcon(e,i=""){const r=DV(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):tU(vV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?We(yv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(It(i=>yv(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?We(r):px(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(cl(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Fi.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),We(null)})))).pipe(It(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw vV(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(wi(i=>e.svgText=i),It(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?We(null):this._fetchIcon(e).pipe(wi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(fp("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(fp("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Vpe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Fi.RESOURCE_URL,i);if(!s)throw CV(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(It(l=>fp(l)),F_(()=>this._inProgressUrlFetches.delete(s)),WB());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(DV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return qpe(o)?new fl(o.url,null,o.options):new fl(o,null)}}static \u0275fac=function(i){return new(i||n)(J(rm,8),J(Zm),J(Ut,8),J(cc))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yv(n){return n.cloneNode(!0)}function DV(n,t){return n+":"+t}function qpe(n){return!(!n.url||!n.options)}const $pe=["*"],Gpe=new Z("MAT_ICON_DEFAULT_OPTIONS"),Wpe=new Z("mat-icon-location",{providedIn:"root",factory:()=>{const n=p(Ut),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),xV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Kpe=xV.map(n=>`[${n}]`).join(", "),Ype=/^url\(['"]?#(.*?)['"]?\)$/;let Qpe=(()=>{class n{_elementRef=p(nt);_iconRegistry=p(zpe);_location=p(Wpe);_errorHandler=p(cc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=zt.EMPTY;constructor(){const e=p(new Pc("aria-hidden"),{optional:!0}),i=p(Gpe,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Kpe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)xV.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Ype):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(On(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(Qe("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ir(r.color?"mat-"+r.color:""),st("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",Re],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:$pe,decls:1,vars:0,template:function(i,r){1&i&&(ln(),it(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return n})(),Xpe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();function Zpe(n,t){if(1&n){const e=Ne();_(0,"div",20),pr(1,"translate"),ae("click",function(){return Y(e),Q(C(2).toggleClass(2))}),b()}if(2&n){const e=C(2);Ir(e.iconConfigLocal[2].model.classAssignment[e.iconConfigLocal[2].model.value]),K("title",en(Mr(1,5,e.iconConfigLocal[2].model.titleLC[e.iconConfigLocal[2].model.value])))("ngStyle",e.configIcon)}}function Jpe(n,t){1&n&&(_(0,"span"),ve(1,"img",22),b())}function efe(n,t){1&n&&(_(0,"span"),ve(1,"img",23),b())}function tfe(n,t){if(1&n){const e=Ne();_(0,"div",21),pr(1,"translate"),ae("click",function(){return Y(e),Q(C(2).toggleClass(1))}),te(2,Jpe,2,0,"span"),te(3,efe,2,0,"span"),b()}if(2&n){const e=C(2);Ir(e.iconConfigLocal[1].model.classAssignment[e.iconConfigLocal[1].model.value]),K("title",en(Mr(1,6,e.iconConfigLocal[1].model.titleLC[e.iconConfigLocal[1].model.value]))),f(2),ne(e.globals.openMail?-1:2),f(),ne(e.globals.openMail?3:-1)}}function nfe(n,t){1&n&&(_(0,"span"),ve(1,"img",24),b())}function ife(n,t){1&n&&(_(0,"span"),ve(1,"img",25),b())}function rfe(n,t){1&n&&ve(0,"div",16)}function ofe(n,t){if(1&n){const e=Ne();_(0,"div",17)(1,"img",26),ae("click",function(r){return Y(e),Q(C(2).showDocumentSelector(r))}),b()()}if(2&n){const e=C(2);f(),K("title","ba"===e.globals.system?e.globals.languageConfLocal.selectFromAllDocumentsBA:e.globals.languageConfLocal.selectFromAllDocuments)}}function sfe(n,t){if(1&n){const e=Ne();_(0,"div",18)(1,"img",27),ae("click",function(){return Y(e),Q(C(2).createTicket())}),b()()}if(2&n){const e=C(2);f(),K("title",e.globals.languageConfLocal.LC53160)}}function afe(n,t){if(1&n){const e=Ne();_(0,"div",19)(1,"span")(2,"img",28),ae("click",function(){return Y(e),Q(C(2).globals.infoShower.quickCreate())}),b()()()}if(2&n){const e=C(2);f(2),K("title",e.globals.languageConfLocal.ContactQuickCreation)}}function cfe(n,t){if(1&n){const e=Ne();_(0,"div",4)(1,"div",11),ae("click",function(){return Y(e),Q(C().reload())}),_(2,"span"),ve(3,"img",12),b()(),te(4,Zpe,2,7,"div",13),te(5,tfe,4,8,"div",14),_(6,"div",15),pr(7,"translate"),ae("click",function(){return Y(e),Q(C().toggleClass(0))}),te(8,nfe,2,0,"span"),te(9,ife,2,0,"span"),b(),te(10,rfe,1,0,"div",16),te(11,ofe,2,1,"div",17),te(12,sfe,2,1,"div",18),te(13,afe,3,1,"div",19),b()}if(2&n){const e=C();f(),K("title",en(e.globals.languageConfLocal.reload)),f(3),ne("gi"===e.globals.system&&(e.globals.actionsAllowed&&!e.globals.actionsAllowed||e.globals.createAllowed)?4:-1),f(),ne(e.isReadMode&&!e.isMultiSelect?5:-1),f(),Ir(e.iconConfigLocal[0].model.classAssignment[e.iconConfigLocal[0].model.value]),K("title",en(Mr(7,14,e.iconConfigLocal[0].model.titleLC[e.iconConfigLocal[0].model.value]))),f(2),ne(e.globals.deleteAttachments?-1:8),f(),ne(e.globals.deleteAttachments?9:-1),f(),ne(e.isShowDocumentToAnything()||e.isShowCreateTicket()?10:-1),f(),ne(e.isShowDocumentToAnything()?11:-1),f(),ne(e.isShowCreateTicket()?12:-1),f(),ne(e.globals.infoShower&&e.globals.infoShower.displayedDestination&&e.globals.infoShower.displayedDestination.companyName&&e.globals.infoShower.displayedDestination.companyName.length>0&&e.globals.infoShower.displayedDestination.name&&e.globals.infoShower.displayedDestination.name.length>0?13:-1)}}function lfe(n,t){if(1&n){const e=Ne();_(0,"li",9),ae("click",function(){return Y(e),Q(C().connectionService.logout())}),H(1),b()}if(2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.logout," ")}}function dfe(n,t){if(1&n){const e=Ne();_(0,"li",9),ae("click",function(){return Y(e),Q(C().openGraphLogin())}),H(1," Login Microsoft Graph "),b()}}function ufe(n,t){if(1&n){const e=Ne();_(0,"li",9),ae("click",function(){return Y(e),Q(C().logoutGraph())}),H(1," Logout Microsoft Graph "),b()}}let hfe=(()=>{class n{constructor(e,i,r,o,s,a,c){this.globals=e,this.connectionService=i,this.createService=r,this.ren=o,this.datasource=s,this.authService=a,this.permissionService=c,this.enteredButton=!1,this.isMatMenuOpen=!1,this.isMatMenu2Open=!1,this.loggedIn=!1,this.console=new li("SiteActionsComponent"),this.iconConfigLocal=_V,this.path="config",this.userName="Login",this.reloadImg={background:"no-repeat url(assets/images/icon_refresh_no_background.png)"},this.configIcon={background:"transparent url(assets/images/icons_business_mail.png) no-repeat"},this.configRestObj={},this.createService.config=this.iconConfigLocal}ngOnInit(){this.waitForUserName(),this.globals.getSystemBaseUrl()||this.openWebIntModal();let e=Office.context.mailbox.item;this.console.info(e),this.isMultiSelect=!e,this.isReadMode=!e||void 0===e.getItemIdAsync||void 0===typeof e.getItemIdAsync,this.console.info(this.isReadMode),this.initConfig()}ngAfterViewInit(){this.datasource.isFeatureAvailable([zs.DocumentToAnything,zs.CreateTicket,zs.TicketAddressDependency]).subscribe(e=>{this.documentToAnythingAvailable=!!e.get(zs.DocumentToAnything),this.createTicketAvailable=!!e.get(zs.CreateTicket),this.ticketAddressDependency=!!e.get(zs.TicketAddressDependency)})}menuEnter(){this.isMatMenuOpen=!0,this.isMatMenu2Open&&(this.isMatMenu2Open=!1)}menuLeave(e,i){setTimeout(()=>{this.isMatMenu2Open||this.enteredButton?this.isMatMenuOpen=!1:(this.isMatMenuOpen=!1,e.closeMenu(),i&&(this.ren.removeClass(i._elementRef.nativeElement,"cdk-focused"),this.ren.removeClass(i._elementRef.nativeElement,"cdk-program-focused")))},80)}buttonEnter(e,i){setTimeout(()=>{this.prevButtonTrigger&&this.prevButtonTrigger!==e?(this.prevButtonTrigger.closeMenu(),this.prevButtonTrigger=e,this.isMatMenuOpen=!1,this.isMatMenu2Open=!1,e.openMenu()):this.isMatMenuOpen?(this.enteredButton=!0,this.prevButtonTrigger=e):(this.enteredButton=!0,this.prevButtonTrigger=e,e.openMenu(),i&&(this.ren.removeClass(i._elementRef.nativeElement,"cdk-focused"),this.ren.removeClass(i._elementRef.nativeElement,"cdk-program-focused")))})}buttonLeave(e){setTimeout(()=>{this.enteredButton&&!this.isMatMenuOpen&&e.closeMenu(),this.isMatMenuOpen?this.enteredButton=!1:e.closeMenu()},100)}reload(){this.connectionService.reload()}openWebIntModal(){this.connectionService.waitForWebIntModal().subscribe(e=>{e()})}openUserSettings(){this.globals.activeWindow="userSettings"}openConnectWindow(){"Login"===this.userName&&(this.globals.getSystemBaseUrl()?this.connectionService.connect().subscribe(()=>{}):this.openWebIntModal())}createTicket(){this.datasource.createTicket()?.subscribe(()=>{})}openGraphLogin(){this.authService.signIn()}logoutGraph(){this.authService.signOutPopup().subscribe(e=>{this.console.info(e)})}openLicenses(){this.globals.activeWindow="about"}toggleClass(e,i=!0){if(e<this.iconConfigLocal.length){let r=this.iconConfigLocal[e].model;const o=Object.keys(r.classAssignment);if(r=this.changeIcon(r,o),"gi"===this.globals.system)if(this.configData&&this.configData[r.name]&&this.configData[r.name].inRest){this.configRestObj[r.name]=r.value;let s=new Yt;for(const a of Object.keys(this.configRestObj))s=s.set(a,this.configRestObj[a]);1===e?this.globals.openMail=!!r.value:0===e&&(this.globals.deleteAttachments=!!r.value,"Owa"===this.globals.curConnectorType&&this.globals.curConnector&&this.globals.curConnector.adjustAttachments()),this.connectionService.postReq(this.path,s,!1,void 0,!0).subscribe({next:a=>{},error:a=>{},complete:()=>{}})}else this.configData&&this.configData.createAddress&&i&&this.createService.toggleOpen();else localStorage.setItem(r.name,r.value),("openMail"===r.name||"deleteAttachments"===r.name)&&(this.globals[r.name]=!!r.value,"deleteAttachments"===r.name&&"Owa"===this.globals.curConnectorType&&this.globals.curConnector&&this.globals.curConnector.adjustAttachments())}}waitForUserName(){this.connectionService.processPath().subscribe(()=>{this.connectionService.getUserName().subscribe(e=>{"gi"===this.globals.system?(this.globals.ownMailAddr=e.mail,this.userName=e.name):this.userName=e,this.loggedIn=!0,this.globals.loggedIn=!0})})}changeIcon(e,i){return e.value=i[(i.indexOf(e.value)+1)%i.length],e}initConfig(){"gi"===this.globals.system?this.connectionService.getReqNoCache(this.path,null).subscribe({next:e=>{this.initConfigClasses(e)},error:e=>{this.connectionService.processPath().subscribe(()=>{})},complete:()=>{}}):this.initConfigClasses(null)}initConfigClasses(e){this.configRestObj=e;const i={};let r=0;for(const o of this.iconConfigLocal){const s=o.model.name;if("gi"===this.globals.system){let a;a=a?this.configData[s]:{inRest:!1,index:0},(e[s]||""===e[s])&&(o.model.value=e[s],a.inRest=!0,("deleteAttachments"===s||"openMail"===s)&&(this.globals[s]=!!e[s])),i[s]=a,a.index=r,r++}else if("deleteAttachments"===s||"openMail"===s){let a=localStorage.getItem(s);null==a?(a="",localStorage.setItem(s,a)):(this.globals[s]=!!a,o.model.value="1"===a||""===a?a:"")}}this.configData=i}showDocumentSelector(e){this.globals.showSelectedDocuments=!0,this.globals.activeWindow="documentationTargetSelector"}isShowCreateTicket(){return this.createTicketAvailable&&typeof this.globals.infoShower<"u"&&!this.globals.infoShower.isAppointment&&!!Office.context.mailbox.item&&"doNotDocument"!==this.globals.infoShower.selectedEmailAddress&&this.permissionService.canCreateTicket()&&(!1!==this.ticketAddressDependency||this.globals.infoShower.destinationsToDisplay&&this.globals.infoShower.destinationsToDisplay.length>0)}isShowDocumentToAnything(){return this.documentToAnythingAvailable&&typeof this.globals.infoShower<"u"&&!this.globals.infoShower.isAppointment&&"doNotDocument"!==this.globals.infoShower.selectedEmailAddress}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Lr),R(bV),R(ai),R(nr),R(Kk),R(pp))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-site-actions"]],standalone:!1,decls:22,vars:7,consts:[["button","","userMenuTrigger","matMenuTrigger"],["userMenu","matMenu"],["id","actionsHeader"],["id","actionButtons"],[1,"clearfix"],["id","userMenu"],["id","userName",1,"actionHeaderComponent",3,"click"],["id","userMenuIcon","mat-button","",1,"actionHeaderComponent","right","material-symbols-rounded",3,"matMenuTriggerFor"],["direction","down","yPosition","below","xPosition","before","hasBackdrop","true"],["mat-menu-item","",1,"",3,"click"],["mat-menu-item","",1,""],["id","reload",1,"widgetReload",3,"click","title"],["src","./assets/images/vwicn216.svg","alt","refresh"],["id","openCreate",3,"class","title","ngStyle"],["id","openMail",3,"class","title"],["id","deleteAttachments",3,"click","title"],[1,"actions-separator"],["id","addAllDocsListButton"],["id","createTicket"],["id","createAddress"],["id","openCreate",3,"click","title","ngStyle"],["id","openMail",3,"click","title"],["src","./assets/images/vwicn217.svg","alt","noMail"],["src","./assets/images/vwicn218.svg","alt","openMail"],["src","./assets/images/vwicn219.svg","alt","attachFile"],["src","./assets/images/vwicn220.svg","alt","attachFileOff"],["src","./assets/images/vwicn213.svg","alt","icon",3,"click","title"],["src","./assets/images/ba/user_telephone.svg","alt","icon",3,"click","title"],["src","./assets/images/ba/gi_user_add_grey.svg","alt","icon",3,"click","title"]],template:function(i,r){if(1&i){const o=Ne();_(0,"div",2)(1,"div",3),te(2,cfe,14,16,"div",4),b(),_(3,"div",5)(4,"div",6),ae("click",function(){return Y(o),Q(r.openConnectWindow())}),H(5),b(),_(6,"mat-icon")(7,"span",7,0),H(10,"keyboard_arrow_down"),b()()(),_(11,"mat-menu",8,1)(13,"span")(14,"li",9),ae("click",function(){return Y(o),Q(r.openUserSettings())}),H(15),b(),ve(16,"mat-divider"),te(17,lfe,2,1,"li",10),te(18,dfe,2,0,"li",10),te(19,ufe,2,0,"li",10),_(20,"li",9),ae("click",function(){return Y(o),Q(r.openLicenses())}),H(21," Info "),b()()()()}if(2&i){const o=rn(12);f(2),ne(r.globals.loggedIn&&r.globals.graphLoaded?2:-1),f(3),Xe(" ",r.userName," "),f(2),K("matMenuTriggerFor",o),f(8),Xe(" ",r.globals.languageConfLocal.userSettings," "),f(2),ne(r.loggedIn?17:-1),f(),ne(r.globals.graphRequired&&!r.globals.graphLoaded?18:-1),f(),ne(r.globals.graphRequired&&r.globals.graphLoaded?19:-1)}},dependencies:[qh,gv,yu,bu,yV,Qpe,sm],styles:['@charset "UTF-8";.widgetReload[_ngcontent-%COMP%]{background-position:1px 2px!important;float:left;margin-right:2px}.widgetReload[_ngcontent-%COMP%], .widgetOptions[_ngcontent-%COMP%], .widgetLogin[_ngcontent-%COMP%]{display:inline-block;width:24px;height:22px;text-decoration:none;color:#4d4d4d;cursor:pointer}.actionHeaderComponent[_ngcontent-%COMP%]{display:inline-block}.mat-menu-item[_ngcontent-%COMP%]{font:400 12px/20px Arial,Verdana,Helvetica,sans-serif;height:100%;padding-top:10px;padding-bottom:10px}#userMenu[_ngcontent-%COMP%]{height:22px;display:flex;align-items:center}#userMenuIcon[_ngcontent-%COMP%]{margin-top:2px;margin-left:4px;cursor:pointer}#actionsHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:2px 4px;background-color:#f28e001a}.bmPlus[_ngcontent-%COMP%], .bmMinus[_ngcontent-%COMP%], .bmDocOFF[_ngcontent-%COMP%], .bmDocON[_ngcontent-%COMP%], .bmAttachInclude[_ngcontent-%COMP%], .bmAttachExclude[_ngcontent-%COMP%]{float:left;width:24px;height:22px;margin-right:2px;cursor:pointer}.bmDocOFF[_ngcontent-%COMP%]{background-position:-88px 0px!important}.bmDocON[_ngcontent-%COMP%]{background-position:-110px 0px!important}.bmMinus[_ngcontent-%COMP%]{background-position:-66px -21px!important}.bmPlus[_ngcontent-%COMP%]{background-position:-44px -21px!important}.bmAttachInclude[_ngcontent-%COMP%]{background-position:-22px -21px!important}.bmAttachExclude[_ngcontent-%COMP%]{background-position:0px -21px!important}.clearfix[_ngcontent-%COMP%], #actionButtons[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}#addAllDocsListButton[_ngcontent-%COMP%], #createTicket[_ngcontent-%COMP%], #createAddress[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:22px;margin-right:2px}#createAddress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:22px;object-fit:contain;display:block}.mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:2px}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 0,"opsz" 24}#deleteAttachments[_ngcontent-%COMP%]{margin-right:0}.actions-separator[_ngcontent-%COMP%]{width:0;height:18px;margin:0 6px;border-left:1px solid rgba(0,0,0,.3)}']})}}return n})();function mfe(n,t){1&n&&ve(0,"div",1)}function pfe(n,t){if(1&n&&(_(0,"div",0),te(1,mfe,1,0,"div",1),_(2,"div",2),ve(3,"div",3),_(4,"div",4),ve(5,"div",5)(6,"div",6),b(),_(7,"div",7),ve(8,"div",8)(9,"div",9),b()()()),2&n){const e=C();f(),ne(e.isModal?-1:1)}}let ffe=(()=>{class n{constructor(e){this.loader=e,this.loaderActive=!1,this.isModal=!1}ngOnInit(){this.loader.connectToService().subscribe(e=>{this.changeState(e.activate,e.modal)})}changeState(e,i=this.isModal){setTimeout(()=>{this.loaderActive=e,this.isModal=i},1)}static{this.\u0275fac=function(i){return new(i||n)(R(Qk))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-loader"]],standalone:!1,decls:1,vars:1,consts:[[1,"loadingContainer"],[1,"blank-background"],[1,"shadow-messagebox"],["id","loadingFiller"],[1,"loaderContainerLeft"],[1,"loader-left"],[1,"loader-bottom"],[1,"loaderContainerRight"],[1,"loader-right"],[1,"loader-top"]],template:function(i,r){1&i&&te(0,pfe,10,1,"div",0),2&i&&ne(r.loaderActive?0:-1)},styles:['.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:99;background-color:#eee;opacity:.5;filter:alpha(opacity=50);color:#111;font-size:20px;font-weight:700;font-style:normal;text-align:center}.shadow-transparent[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:99;background-color:#fff;opacity:0;filter:alpha(opacity=0);color:#fff;font-size:20px;font-weight:700;font-style:normal;text-align:center}.shadow-messagebox[_ngcontent-%COMP%], .blank-background[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0}.shadow-messagebox[_ngcontent-%COMP%]{z-index:9999;background-color:#000;opacity:.4;filter:alpha(opacity=50);color:#111;font-size:20px;font-weight:700;font-style:normal;text-align:center}.blank-background[_ngcontent-%COMP%]{z-index:9900;background-color:#fff}.loader-left[_ngcontent-%COMP%]{position:relative;top:0;left:0;height:41px;width:11px;box-shadow:inset 0 41px gray;animation:_ngcontent-%COMP%_fillAnimationLeft 3s linear infinite normal}.loader-right[_ngcontent-%COMP%]{position:absolute;top:0;left:17px;height:41px;width:11px;box-shadow:inset 0 -41px gray;animation:_ngcontent-%COMP%_fillAnimationRight 3s linear infinite normal}.loader-bottom[_ngcontent-%COMP%]{position:relative;top:-11px;left:0;height:11px;width:28px;box-shadow:inset 28px 0 gray;animation:_ngcontent-%COMP%_fillAnimationBottom 3s linear infinite normal}.loader-top[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:11px;width:28px;content:"";box-shadow:inset -28px 0 gray;animation:_ngcontent-%COMP%_fillAnimationTop 3s linear infinite normal}.loaderContainerLeft[_ngcontent-%COMP%], .loaderContainerRight[_ngcontent-%COMP%]{height:41px;width:28px;overflow:hidden;position:absolute;display:inline-block}.loaderContainerLeft[_ngcontent-%COMP%]{left:calc(50% - 7px)}.loaderContainerRight[_ngcontent-%COMP%]{left:calc(50% + 7px)}#loadingFiller[_ngcontent-%COMP%]{height:calc(50% - 20.5px)}#shadowBox[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_fillAnimationLeft{0%{box-shadow:inset 0 0 gray;top:0}20%{box-shadow:inset 0 41px gray;top:0}40%{box-shadow:inset 0 41px gray;top:0}60%{box-shadow:inset 0 28px gray;top:41px}80%{box-shadow:inset 0 28px gray;top:41px}to{box-shadow:inset 0 28px gray;top:41px}}@keyframes _ngcontent-%COMP%_fillAnimationRight{0%{box-shadow:inset 0 0 gray;top:0}20%{box-shadow:inset 0 -41px gray;top:0}40%{box-shadow:inset 0 -41px gray;top:0}60%{box-shadow:inset 0 -28px gray;top:-41px}80%{box-shadow:inset 0 -28px gray;top:-41px}to{box-shadow:inset 0 -28px gray;top:-41px}}@keyframes _ngcontent-%COMP%_fillAnimationBottom{0%{box-shadow:inset 0 0 gray;left:0}20%{box-shadow:inset 0 0 gray;left:11px}40%{box-shadow:inset 28px 0 gray;left:11px}41%{box-shadow:inset 28px 0 gray;left:0}59%{box-shadow:inset 28px 0 gray;left:0}75%{box-shadow:inset 28px 0 gray;left:28px}to{box-shadow:inset 28px 0 gray;left:28px}}@keyframes _ngcontent-%COMP%_fillAnimationTop{0%{box-shadow:inset 0 0 gray;left:0}20%{box-shadow:inset 0 0 gray;left:-11px}40%{box-shadow:inset -28px 0 gray;left:-11px}41%{box-shadow:inset -28px 0 gray;left:0}59%{box-shadow:inset -28px 0 gray;left:0}75%{box-shadow:inset -28px 0 gray;left:-28px}to{box-shadow:inset -28px 0 gray;left:-28px}}']})}}return n})();var xt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(xt||{});const Qs="*";function EV(n){return{type:xt.Style,styles:n,offset:null}}class gp{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SV{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function kV(n){return new re(3e3,!1)}function Sfe(n){return new re(3002,!1)}function qa(n){switch(n.length){case 0:return new gp;case 1:return n[0];default:return new SV(n)}}function AV(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((h,m)=>{let g=m,y=h;if("offset"!==m)switch(g=n.normalizePropertyName(g,r),y){case"!":y=e.get(m);break;case Qs:y=i.get(m);break;default:y=n.normalizeStyleValue(m,g,y,r)}u.set(g,y)}),d||o.push(u),a=u,s=l}),r.length)throw function Ffe(){return new re(3502,!1)}();return o}function rA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&oA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&oA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&oA(e,"destroy",n)))}}function oA(n,t,e){const o=sA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function sA(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Zr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function TV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Yfe=typeof document>"u"?null:document.documentElement;function aA(n){const t=n.parentNode||n.host||null;return t===Yfe?null:t}let gl=null,IV=!1;function MV(n,t){for(;t;){if(t===n)return!0;t=aA(t)}return!1}function RV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}const PV="ng-enter",cA="ng-leave",vv="ng-trigger",Cv=".ng-trigger",NV="ng-animating",lA=".ng-animating";function Xs(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dA(parseFloat(t[1]),t[2])}function dA(n,t){return"s"===t?1e3*n:n}function wv(n,t,e){return n.hasOwnProperty("duration")?n:function nge(n,t,e){let i,r=0,o="";if("string"==typeof n){const s=n.match(tge);if(null===s)return t.push(kV()),{duration:0,delay:0,easing:""};i=dA(parseFloat(s[1]),s[2]);const a=s[3];null!=a&&(r=dA(parseFloat(a),s[4]));const c=s[5];c&&(o=c)}else i=n;if(!e){let s=!1,a=t.length;i<0&&(t.push(function _fe(){return new re(3100,!1)}()),s=!0),r<0&&(t.push(function bfe(){return new re(3101,!1)}()),s=!0),s&&t.splice(a,0,kV())}return{duration:i,delay:r,easing:o}}(n,t,e)}const tge=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function gs(n,t,e){t.forEach((i,r)=>{const o=hA(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function _l(n,t){t.forEach((e,i)=>{const r=hA(i);n.style[r]=""})}function _p(n){return Array.isArray(n)?1==n.length?n[0]:function gfe(n,t=null){return{type:xt.Sequence,steps:n,options:t}}(n):n}const uA=new RegExp("{{\\s*(.+?)\\s*}}","g");function LV(n){let t=[];if("string"==typeof n){let e;for(;e=uA.exec(n);)t.push(e[1]);uA.lastIndex=0}return t}function bp(n,t,e){const i=`${n}`,r=i.replace(uA,(o,s)=>{let a=t[s];return null==a&&(e.push(function vfe(){return new re(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const oge=/-+([a-z0-9])/g;function hA(n){return n.replace(oge,(...t)=>t[1].toUpperCase())}function Jr(n,t,e){switch(t.type){case xt.Trigger:return n.visitTrigger(t,e);case xt.State:return n.visitState(t,e);case xt.Transition:return n.visitTransition(t,e);case xt.Sequence:return n.visitSequence(t,e);case xt.Group:return n.visitGroup(t,e);case xt.Animate:return n.visitAnimate(t,e);case xt.Keyframes:return n.visitKeyframes(t,e);case xt.Style:return n.visitStyle(t,e);case xt.Reference:return n.visitReference(t,e);case xt.AnimateChild:return n.visitAnimateChild(t,e);case xt.AnimateRef:return n.visitAnimateRef(t,e);case xt.Query:return n.visitQuery(t,e);case xt.Stagger:return n.visitStagger(t,e);default:throw function Cfe(){return new re(3004,!1)}()}}function mA(n,t){return window.getComputedStyle(n)[t]}let pA=(()=>{class n{validateStyleProperty(e){return function Xfe(n){gl||(gl=function Zfe(){return typeof document<"u"?document.body:null}()||{},IV=!!gl.style&&"WebkitAppearance"in gl.style);let t=!0;return gl.style&&!function Qfe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gl.style,!t&&IV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gl.style)),t}(e)}containsElement(e,i){return MV(e,i)}getParentElement(e){return aA(e)}query(e,i,r){return RV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new gp(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class fA{static NOOP=new pA}class gA{}const lge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class FV extends gA{normalizePropertyName(t,e){return hA(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(lge.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function wfe(){return new re(3005,!1)}())}return s+o}}const xv=new Set(["true","1"]),Ev=new Set(["false","0"]);function BV(n,t){const e=xv.has(n)||Ev.has(n),i=xv.has(t)||Ev.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?xv.has(n):Ev.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?xv.has(t):Ev.has(t)),s&&a}}const mge=new RegExp("s*:selfs*,?","g");function bA(n,t,e,i){return new pge(n).build(t,e,i)}class pge{_driver;constructor(t){this._driver=t}build(t,e,i){const r=new _ge(e);return this._resetContextStyleTimingState(r),Jr(this,_p(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Dfe(){return new re(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==xt.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(a.type==xt.Transition){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function xfe(){return new re(3007,!1)}())}),{type:xt.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{LV(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&e.errors.push(function Efe(){return new re(3008,!1)}(0,o.values()))}return{type:xt.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Jr(this,_p(t.animation),e),r=function dge(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function uge(n,t,e){if(":"==n[0]){const c=function hge(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Nfe(){return new re(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Pfe(){return new re(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(BV(r,s)),"<"==o[0]&&("*"!=r||"*"!=s)&&t.push(BV(s,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:xt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:bl(t.options)}}visitSequence(t,e){return{type:xt.Sequence,steps:t.steps.map(i=>Jr(this,i,e)),options:bl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Jr(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:xt.Group,steps:o,options:bl(t.options)}}visitAnimate(t,e){const i=function yge(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yA(wv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yA(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=wv(e,t);return yA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:EV({});if(o.type==xt.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=EV(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:xt.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Qs?i.push(a):e.errors.push(Sfe()):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:xt.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function kfe(){return new re(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),e.options&&function rge(n,t,e){const i=t.params||{},r=LV(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function yfe(){return new re(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:xt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Afe(){return new re(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(F=>{const q=this._makeStyleAst(F,e);let Se=null!=q.offset?q.offset:function bge(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(q.styles),He=0;return null!=Se&&(o++,He=q.offset=Se),c=c||He<0||He>1,a=a||He<l,l=He,s.push(He),q});c&&e.errors.push(function Tfe(){return new re(3012,!1)}()),a&&e.errors.push(function Ife(){return new re(3200,!1)}());const u=t.steps.length;let h=0;o>0&&o<u?e.errors.push(function Mfe(){return new re(3202,!1)}()):0==o&&(h=1/(u-1));const m=u-1,g=e.currentTime,y=e.currentAnimateTimings,v=y.duration;return d.forEach((F,q)=>{const Se=h>0?q==m?1:h*q:s[q],He=Se*v;e.currentTime=g+y.delay+He,y.duration=He,this._validateStyleAst(F,e),F.offset=Se,i.styles.push(F)}),i}visitReference(t,e){return{type:xt.Reference,animation:Jr(this,_p(t.animation),e),options:bl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:xt.AnimateChild,options:bl(t.options)}}visitAnimateRef(t,e){return{type:xt.AnimateRef,animation:this.visitReference(t.animation,e),options:bl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function fge(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(mge,"")),n=n.replace(/@\*/g,Cv).replace(/@\w+/g,e=>Cv+"-"+e.slice(1)).replace(/:animating/g,lA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Zr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Jr(this,_p(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:xt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:bl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Rfe(){return new re(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:wv(t.timings,e.errors,!0);return{type:xt.Stagger,animation:Jr(this,_p(t.animation),e),timings:i,options:null}}}class _ge{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}}function bl(n){return n?(n={...n}).params&&(n.params=function gge(n){return n?{...n}:null}(n.params)):n={},n}function yA(n,t,e){return{duration:n,delay:t,easing:e}}function vA(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Sv{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wge=new RegExp(":enter","g"),xge=new RegExp(":leave","g");function CA(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new Ege).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class Ege{buildKeyframes(t,e,i,r,o,s,a,c,l,d=[]){l=l||new Sv;const u=new wA(t,e,l,r,o,d,[]);u.options=c;const h=c.delay?Xs(c.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,c),Jr(this,i,u);const m=u.timelines.filter(g=>g.containsAnimation());if(m.length&&a.size){let g;for(let y=m.length-1;y>=0;y--){const v=m[y];if(v.element===e){g=v;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,u.errors,c)}return m.length?m.map(g=>g.buildKeyframes()):[vA(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Xs(bp(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Xs(i.duration):null,a=null!=i.delay?Xs(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Jr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==xt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kv);const s=Xs(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Jr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xs(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Jr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return wv(e.params?bp(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;o.type==xt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xs(r.delay):0;o&&(e.previousNode.type===xt.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kv);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,l);o&&u.delayNextStep(o),l===e.element&&(c=u.currentTimeline),Jr(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;Jr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const kv={};class wA{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=kv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Av(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xs(i.duration)),null!=i.delay&&(r.delay=Xs(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=bp(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new wA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=kv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Sge(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(wge,"."+this._enterClassName)).replace(xge,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function Ofe(){return new re(3014,!1)}()),a}}class Av{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Av(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Qs),this._currentKeyframe.set(e,Qs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function kge(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let o of i)e.set(o,Qs)}else for(let[o,s]of r)e.set(o,s)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=bp(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Qs),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((d,u)=>{"!"===d?t.add(u):d===Qs&&e.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...t.values()],s=[...e.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return vA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Sge extends Av{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);const l=new Map(t[0]);l.set("offset",UV(a)),o.push(l);const d=t.length-1;for(let u=1;u<=d;u++){let h=new Map(t[u]);const m=h.get("offset");h.set("offset",UV((e+m*i)/s)),o.push(h)}i=s,e=0,r="",t=o}return vA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function UV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function VV(n,t,e,i,r,o,s,a,c,l,d,u,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:h}}const DA={};class zV{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Age(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,d){const u=[],h=this.ast.options&&this.ast.options.params||DA,g=this.buildStyles(i,a&&a.params||DA,u),y=c&&c.params||DA,v=this.buildStyles(r,y,u),F=new Set,q=new Map,Se=new Map,He="void"===r,Ke={params:qV(y,h),delay:this.ast.options?.delay},Ft=d?[]:CA(t,e,this.ast.animation,o,s,g,v,Ke,l,u);let Ue=0;return Ft.forEach(Tt=>{Ue=Math.max(Tt.duration+Tt.delay,Ue)}),u.length?VV(e,this._triggerName,i,r,He,g,v,[],[],q,Se,Ue,u):(Ft.forEach(Tt=>{const Wt=Tt.element,Zn=Zr(q,Wt,new Set);Tt.preStyleProps.forEach(bs=>Zn.add(bs));const Fr=Zr(Se,Wt,new Set);Tt.postStyleProps.forEach(bs=>Fr.add(bs)),Wt!==e&&F.add(Wt)}),VV(e,this._triggerName,i,r,He,g,v,Ft,[...F.values()],q,Se,Ue))}}function qV(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Tge{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=qV(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=bp(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class Mge{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{this.states.set(r.name,new Tge(r.style,r.options&&r.options.params||{},i))}),$V(this.states,"true","1"),$V(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zV(t,r,this.states))}),this.fallbackTransition=function Rge(n,t){return new zV(n,{type:xt.Transition,animation:{type:xt.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $V(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Oge=new Sv;class Pge{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){const i=[],o=bA(this._driver,e,i,[]);if(i.length)throw function Bfe(){return new re(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=AV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=CA(this._driver,e,o,PV,cA,new Map,new Map,i,Oge,r),s.forEach(d=>{const u=Zr(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function Hfe(){return new re(3300,!1)}()),s=[]),r.length)throw function jfe(){return new re(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,m)=>{d.set(m,this._driver.computeStyle(u,m,Qs))})});const l=qa(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ufe(){return new re(3301,!1)}();return e}listen(t,e,i,r){const o=sA(e,"","","");return rA(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const GV="ng-animate-queued",xA="ng-animate-disabled",Hge=[],WV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class EA{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function qge(n){return n??null}(i?t.value:t),i){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const yp="void",SA=new EA(yp);class Uge{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,bo(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Vfe(){return new re(3302,!1)}();if(null==i||0==i.length)throw function zfe(){return new re(3303,!1)}();if(!function $ge(n){return"start"==n||"done"==n}(i))throw function qfe(){return new re(3400,!1)}();const o=Zr(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Zr(this._engine.statesByElement,t,new Map);return a.has(e)||(bo(t,vv),bo(t,vv+"-"+e),a.set(e,SA)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $fe(){return new re(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new kA(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(bo(t,vv),bo(t,vv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new EA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=SA),l.value!==yp&&c.value===l.value){if(!function Kge(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const y=[],v=o.matchStyles(c.value,c.params,y),F=o.matchStyles(l.value,l.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{_l(t,v),gs(t,F)})}return}const h=Zr(this._engine.playersByElement,t,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==e&&y.queued&&y.destroy()});let m=o.matchTransition(c.value,l.value,t,l.params),g=!1;if(!m){if(!r)return;m=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(bo(t,GV),s.onStart(()=>{Cu(t,GV)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);const v=this._engine.playersByElement.get(t);if(v){let F=v.indexOf(s);F>=0&&v.splice(F,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Cv,!0);i.forEach(r=>{if(r[Uo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,yp,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&qa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||SA,d=new EA(yp),u=new kA(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Uo];(!o||o===WV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){bo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=sA(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,rA(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Vge{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Uge(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Tv(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Tv(e))return;const o=e[Uo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bo(t,xA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Cu(t,xA))}removeNode(t,e,i){if(Tv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Uo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Tv(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Cv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Uo];if(e&&e.setForRemoval){if(t[Uo]=WV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Gfe(){return new re(3402,!1)}()}_flushAnimations(t,e){const i=new Sv,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(rt=>{d.add(rt);const dt=this.driver.query(rt,".ng-animate-queued",!0);for(let yt=0;yt<dt.length;yt++)d.add(dt[yt])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=QV(h,this.collectedEnterElements),g=new Map;let y=0;m.forEach((rt,dt)=>{const yt=PV+y++;g.set(dt,yt),rt.forEach(on=>bo(on,yt))});const v=[],F=new Set,q=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const dt=this.collectedLeaveElements[rt],yt=dt[Uo];yt&&yt.setForRemoval&&(v.push(dt),F.add(dt),yt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(on=>F.add(on)):q.add(dt))}const Se=new Map,He=QV(h,Array.from(F));He.forEach((rt,dt)=>{const yt=cA+y++;Se.set(dt,yt),rt.forEach(on=>bo(on,yt))}),t.push(()=>{m.forEach((rt,dt)=>{const yt=g.get(dt);rt.forEach(on=>Cu(on,yt))}),He.forEach((rt,dt)=>{const yt=Se.get(dt);rt.forEach(on=>Cu(on,yt))}),v.forEach(rt=>{this.processLeaveNode(rt)})});const Ke=[],Ft=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(yt=>{const on=yt.player,Pi=yt.element;if(Ke.push(on),this.collectedEnterElements.length){const or=Pi[Uo];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(yt.triggerName)){const xl=or.previousTriggersValues.get(yt.triggerName),wo=this.statesByElement.get(yt.element);if(wo&&wo.has(yt.triggerName)){const Kv=wo.get(yt.triggerName);Kv.value=xl,wo.set(yt.triggerName,Kv)}}return void on.destroy()}}const ys=!u||!this.driver.containsElement(u,Pi),to=Se.get(Pi),Wa=g.get(Pi),Jn=this._buildInstruction(yt,i,Wa,to,ys);if(Jn.errors&&Jn.errors.length)return void Ft.push(Jn);if(ys)return on.onStart(()=>_l(Pi,Jn.fromStyles)),on.onDestroy(()=>gs(Pi,Jn.toStyles)),void r.push(on);if(yt.isFallbackTransition)return on.onStart(()=>_l(Pi,Jn.fromStyles)),on.onDestroy(()=>gs(Pi,Jn.toStyles)),void r.push(on);const B4=[];Jn.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||B4.push(or)}),Jn.timelines=B4,i.append(Pi,Jn.timelines),s.push({instruction:Jn,player:on,element:Pi}),Jn.queriedElements.forEach(or=>Zr(a,or,[]).push(on)),Jn.preStyleProps.forEach((or,xl)=>{if(or.size){let wo=c.get(xl);wo||c.set(xl,wo=new Set),or.forEach((Kv,hT)=>wo.add(hT))}}),Jn.postStyleProps.forEach((or,xl)=>{let wo=l.get(xl);wo||l.set(xl,wo=new Set),or.forEach((Kv,hT)=>wo.add(hT))})});if(Ft.length){const rt=[];Ft.forEach(dt=>{rt.push(function Wfe(){return new re(3505,!1)}())}),Ke.forEach(dt=>dt.destroy()),this.reportError(rt)}const Ue=new Map,Tt=new Map;s.forEach(rt=>{const dt=rt.element;i.has(dt)&&(Tt.set(dt,dt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Ue))}),r.forEach(rt=>{const dt=rt.element;this._getPreviousPlayers(dt,!1,rt.namespaceId,rt.triggerName,null).forEach(on=>{Zr(Ue,dt,[]).push(on),on.destroy()})});const Wt=v.filter(rt=>ZV(rt,c,l)),Zn=new Map;YV(Zn,this.driver,q,l,Qs).forEach(rt=>{ZV(rt,c,l)&&Wt.push(rt)});const bs=new Map;m.forEach((rt,dt)=>{YV(bs,this.driver,new Set(rt),c,"!")}),Wt.forEach(rt=>{const dt=Zn.get(rt),yt=bs.get(rt);Zn.set(rt,new Map([...dt?.entries()??[],...yt?.entries()??[]]))});const rr=[],Wv=[],Dl={};s.forEach(rt=>{const{element:dt,player:yt,instruction:on}=rt;if(i.has(dt)){if(d.has(dt))return yt.onDestroy(()=>gs(dt,on.toStyles)),yt.disabled=!0,yt.overrideTotalTime(on.totalTime),void r.push(yt);let Pi=Dl;if(Tt.size>1){let to=dt;const Wa=[];for(;to=to.parentNode;){const Jn=Tt.get(to);if(Jn){Pi=Jn;break}Wa.push(to)}Wa.forEach(Jn=>Tt.set(Jn,Pi))}const ys=this._buildAnimation(yt.namespaceId,on,Ue,o,bs,Zn);if(yt.setRealPlayer(ys),Pi===Dl)rr.push(yt);else{const to=this.playersByElement.get(Pi);to&&to.length&&(yt.parentPlayer=qa(to)),r.push(yt)}}else _l(dt,on.fromStyles),yt.onDestroy(()=>gs(dt,on.toStyles)),Wv.push(yt),d.has(dt)&&r.push(yt)}),Wv.forEach(rt=>{const dt=o.get(rt.element);if(dt&&dt.length){const yt=qa(dt);rt.setRealPlayer(yt)}}),r.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<v.length;rt++){const dt=v[rt],yt=dt[Uo];if(Cu(dt,cA),yt&&yt.hasAnimation)continue;let on=[];if(a.size){let ys=a.get(dt);ys&&ys.length&&on.push(...ys);let to=this.driver.query(dt,lA,!0);for(let Wa=0;Wa<to.length;Wa++){let Jn=a.get(to[Wa]);Jn&&Jn.length&&on.push(...Jn)}}const Pi=on.filter(ys=>!ys.destroyed);Pi.length?Gge(this,dt,Pi):this.processLeaveNode(dt)}return v.length=0,rr.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const dt=this.players.indexOf(rt);this.players.splice(dt,1)}),rt.play()}),rr}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==yp;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,u=Zr(i,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(m=>{const g=m.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),m.destroy(),u.push(m)})}_l(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,u=new Set,h=e.timelines.map(g=>{const y=g.element;d.add(y);const v=y[Uo];if(v&&v.removedBeforeQueried)return new gp(g.duration,g.delay);const F=y!==c,q=function Wge(n){const t=[];return XV(n,t),t}((i.get(y)||Hge).map(Ue=>Ue.getRealPlayer())).filter(Ue=>!!Ue.element&&Ue.element===y),Se=o.get(y),He=s.get(y),Ke=AV(this._normalizer,g.keyframes,Se,He),Ft=this._buildPlayer(g,Ke,q);if(g.subTimeline&&r&&u.add(y),F){const Ue=new kA(t,a,y);Ue.setRealPlayer(Ft),l.push(Ue)}return Ft});l.forEach(g=>{Zr(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function zge(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>bo(g,NV));const m=qa(h);return m.onDestroy(()=>{d.forEach(g=>Cu(g,NV)),gs(c,e.toStyles)}),u.forEach(g=>{Zr(r,g,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new gp(t.duration,t.delay)}}class kA{namespaceId;triggerName;element;_player=new gp;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>rA(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Tv(n){return n&&1===n.nodeType}function KV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function YV(n,t,e,i,r){const o=[];e.forEach(c=>o.push(KV(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const h=t.computeStyle(l,u,r);d.set(u,h),(!h||0==h.length)&&(l[Uo]=jge,s.push(l))}),n.set(l,d)});let a=0;return e.forEach(c=>KV(c,o[a++])),s}function QV(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function bo(n,t){n.classList?.add(t)}function Cu(n,t){n.classList?.remove(t)}function Gge(n,t,e){qa(e).onDone(()=>n.processLeaveNode(t))}function XV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof SV?XV(i.players,t):t.push(i)}}function ZV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class vp{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Vge(t.body,e,i),this._timelineEngine=new Pge(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=bA(this._driver,o,c,[]);if(c.length)throw function Lfe(){return new re(3404,!1)}();a=function Ige(n,t,e){return new Mge(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=TV(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=TV(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Qge=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&gs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gs(this._element,this._initialStyles),this._endStyles&&(gs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_l(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_l(this._element,this._endStyles),this._endStyles=null),gs(this._element,this._initialStyles),this._state=3)}}return n})();function AA(n){let t=null;return n.forEach((e,i)=>{(function Xge(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class JV{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;const i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){const r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){const t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:mA(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class e5{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return MV(t,e)}getParentElement(t){return aA(t)}query(t,e,i){return RV(t,e,i)}computeStyle(t,e,i){return mA(t,e)}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(m=>m instanceof JV);(function sge(n,t){return 0===n||0===t})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((g,y)=>l.set(y,g))});let u=function ige(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(m=>new Map(m));u=function age(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,mA(n,a)))}}return t}(t,u,l);const h=function Yge(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=AA(t[0]),t.length>1&&(i=AA(t[t.length-1]))):t instanceof Map&&(e=AA(t)),e||i?new Qge(n,e,i):null}(t,u);return new JV(t,u,c,h)}}const t5="@.disabled";class n5{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){r?this.delegate.removeChild(t,e,i,r):this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==t5?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Zge extends n5{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==t5?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if("@"==e.charAt(0)){const o=function Jge(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function e_e(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i,r)}}class t_e{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new n5("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return e.data.animation.forEach(a),new Zge(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}}let n_e=(()=>{class n extends vp{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(J(Ut),J(fA),J(gA))};static \u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const i5=[{provide:gA,useFactory:function i_e(){return new FV}},{provide:vp,useClass:n_e},{provide:Sr,useFactory:function r_e(){return new t_e(p(ix),p(vp),p($e))}}],r5=[{provide:fA,useClass:pA},{provide:Af,useValue:"NoopAnimations"},...i5],TA=[{provide:fA,useFactory:()=>new e5},{provide:Af,useFactory:()=>"BrowserAnimations"},...i5];let o_e=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?r5:TA}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:TA,imports:[nF]})}return n})(),o5=(()=>{class n{constructor(e){this.viewContainerRef=e}static{this.\u0275fac=function(i){return new(i||n)(R(Un))}}static{this.\u0275dir=fe({type:n,selectors:[["","appModal",""]],standalone:!1})}}return n})();const s_e=["modal"],a_e=["modalHeader"],c_e=["modalFooter"],l_e=["dbs"];function d_e(n,t){if(1&n){const e=Ne();_(0,"div",4)(1,"div",5)(2,"h1"),H(3),b()(),_(4,"div",6),ae("click",function(){return Y(e),Q(C().closeModal())}),ve(5,"div",7),b()()}if(2&n){const e=t.title,i=C();f(3),Ae(e),f(2),K("ngStyle",i.modCloseImage)}}function u_e(n,t){if(1&n){const e=Ne();_(0,"div",8)(1,"button",9),ae("click",function(){return Q((0,Y(e).cancelAction)())}),H(2),b(),_(3,"button",10),ae("click",function(){return Q((0,Y(e).confirmAction)())}),H(4),b()()}if(2&n){const e=t.confirm,i=t.cancel;f(2),Xe(" ",i," "),f(2),Xe(" ",e," ")}}function h_e(n,t){}function m_e(n,t){}let p_e=(()=>{class n{constructor(e,i,r,o){this.modal=e,this.modalService=i,this.app=r,this.globals=o,this.headerText="",this.modCloseImage={background:"no-repeat url(assets/images/widget_settings.png)"}}ngAfterViewInit(){}ngOnInit(){this.modalService.currentType.subscribe(e=>{this.modalService.setModalHeader(this.modalHeader),this.modalService.setModalFooter(this.modalFooter),this.chosenType=e.newType,this.loadComponent(this.chosenType,e.data)})}open(e){return this.modal.open(e,{panelClass:"modalOverlay",autoFocus:!1,disableClose:!0,maxHeight:"Owa"===this.globals.curConnectorType?"90%":"80%"})}loadComponent(e,i){this.modalItems=this.app.mItems;const r=this.modalItems[e],o=this.appModal.viewContainerRef;o.clear();const s=o.createComponent(r.component);return this.modalService.addActiveModal(this.open(s.instance.getTemplate()),this.chosenType),s.instance.data=r.data,s.instance.modalMain=this,s.instance.data&&(s.instance.data.modalItems=this.modalService.modalItemsPub,i&&(s.instance.data.passedData=i)),this.modalService.newActive}closeModal(){this.modalService.closeAllModals()}static{this.\u0275fac=function(i){return new(i||n)(R(Oo),R(pl),R(eA),R(Dt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-modal"]],viewQuery:function(i,r){if(1&i&&Jt(s_e,7)(a_e,7)(c_e,7)(o5,7)(l_e,5),2&i){let o;_e(o=be())&&(r.modalTempl=o.first),_e(o=be())&&(r.modalHeader=o.first),_e(o=be())&&(r.modalFooter=o.first),_e(o=be())&&(r.appModal=o.first),_e(o=be())&&(r.selection=o.first)}},standalone:!1,decls:7,vars:0,consts:[["modalHeader",""],["modalFooter",""],["modal",""],["appModal",""],[1,"modalHeader"],[1,"modalHeaderText"],["ngbAutoFocus","",1,"modalHeaderClose",3,"click"],[1,"modalCloseIcon",3,"ngStyle"],[1,"modalFooter"],[1,"button-secondary","right",3,"click"],[1,"button-primary","right",3,"click"]],template:function(i,r){1&i&&Vn(0,d_e,6,2,"ng-template",null,0,ao)(2,u_e,5,2,"ng-template",null,1,ao)(4,h_e,0,0,"ng-template",3)(5,m_e,0,0,"ng-template",null,2,ao)},dependencies:[qh,o5],encapsulation:2})}}return n})(),f_e=(()=>{class n{constructor(e){this.language=e}getTranslation(e){return new ie(i=>{this.language.waitForInit().subscribe(()=>{i.next(this.language.passLCObj()),i.complete()})})}static{this.\u0275fac=function(i){return new(i||n)(J(Xk))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const g_e=["determinateSpinner"];function __e(n,t){if(1&n&&(Go(),_(0,"svg",11),ve(1,"circle",12),b()),2&n){const e=C();Qe("viewBox",e._viewBox()),f(),Zo("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Qe("r",e._circleRadius())}}const b_e=new Z("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:s5})}),s5=100;let v_e=(()=>{class n{_elementRef=p(nt);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){const e=p(b_e),i=U3(),r=this._elementRef.nativeElement;this._noopAnimations="di-disabled"===i&&!!e&&!e._forceAnimations,this.mode="mat-spinner"===r.nodeName.toLowerCase()?"indeterminate":"determinate",!this._noopAnimations&&"reduced-motion"===i&&r.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=s5;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&Jt(g_e,5),2&i){let o;_e(o=be())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){2&i&&(Qe("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Ir("mat-"+r.color),Zo("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),st("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Rr],diameter:[2,"diameter","diameter",Rr],strokeWidth:[2,"strokeWidth","strokeWidth",Rr]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(Vn(0,__e,2,8,"ng-template",null,0,ao),_(2,"div",2,1),Go(),_(4,"svg",3),ve(5,"circle",4),b()(),cf(),_(6,"div",5)(7,"div",6)(8,"div",7),Kn(9,8),b(),_(10,"div",9),Kn(11,8),b(),_(12,"div",10),Kn(13,8),b()()()),2&i){const o=rn(1);f(4),Qe("viewBox",r._viewBox()),f(),Zo("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Qe("r",r._circleRadius()),f(4),K("ngTemplateOutlet",o),f(2),K("ngTemplateOutlet",o),f(2),K("ngTemplateOutlet",o)}},dependencies:[Ed],styles:[".mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return n})(),C_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})(),w_e=(()=>{class n{_animationsDisabled=Yn();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&st("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}\n'],encapsulation:2,changeDetection:0})}return n})();const D_e=["*",[["mat-option"],["ng-container"]]],x_e=["*","mat-option, ng-container"],E_e=["text"],S_e=[[["mat-icon"]],"*"],k_e=["mat-icon","*"];function A_e(n,t){if(1&n&&ve(0,"mat-pseudo-checkbox",1),2&n){const e=C();K("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function T_e(n,t){1&n&&ve(0,"mat-pseudo-checkbox",3),2&n&&K("disabled",C().disabled)}function I_e(n,t){if(1&n&&(_(0,"span",4),H(1),b()),2&n){const e=C();f(),Xe("(",e.group.label,")")}}const Mv=new Z("MAT_OPTION_PARENT_COMPONENT"),Rv=new Z("MatOptgroup");let M_e=(()=>{class n{label;disabled=!1;_labelId=p(_n).getId("mat-optgroup-label-");_inert;constructor(){const e=p(Mv,{optional:!0});this._inert=e?.inertGroups??!1}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(i,r){2&i&&Qe("role",r._inert?null:"group")("aria-disabled",r._inert?null:r.disabled.toString())("aria-labelledby",r._inert?null:r._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",Re]},exportAs:["matOptgroup"],features:[Je([{provide:Rv,useExisting:n}])],ngContentSelectors:x_e,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(i,r){1&i&&(ln(D_e),ji(0,"span",0)(1,"span",1),H(2),it(3),hr()(),it(4,1)),2&i&&(st("mdc-list-item--disabled",r.disabled),Ui("id",r._labelId),f(2),Xe("",r.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-sys-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-sys-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal;color:inherit}\n"],encapsulation:2,changeDetection:0})}return n})();class a5{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}}let eo=(()=>{class n{_element=p(nt);_changeDetectorRef=p(qt);_parent=p(Mv,{optional:!0});group=p(Rv,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=p(_n).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=Pn(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ze;_text;_stateChanges=new Oe;constructor(){const e=p(Ai);e.load(rs),e.load(pm),this._signalDisableRipple=!!this._parent&&md(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ti(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new a5(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&Jt(E_e,7),2&i){let o;_e(o=be())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&ae("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Ui("id",r.id),Qe("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),st("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Re]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:k_e,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(ln(S_e),te(0,A_e,1,2,"mat-pseudo-checkbox",1),it(1),_(2,"span",2,0),it(4,1),b(),te(5,T_e,1,1,"mat-pseudo-checkbox",3),te(6,I_e,2,1,"span",4),ve(7,"div",5)),2&i&&(ne(r.multiple?0:-1),f(5),ne(r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),f(),ne(r.group&&r.group._inert?6:-1),f(),K("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[w_e,bm],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}\n'],encapsulation:2,changeDetection:0})}return n})();function c5(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function l5(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}class d5 extends aV{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function Ov(n,t,e){const i=Pv(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(" ")))}function wu(n,t,e){const i=Pv(n,t);e=e.trim();const r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function Pv(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}const m5="cdk-describedby-message",Nv="cdk-describedby-host";let IA=0,p5=(()=>{class n{_platform=p(oi);_document=p(Ut);_messageRegistry=new Map;_messagesContainer=null;_id=""+IA++;constructor(){p(Ai).load(pm),this._id=p(ua)+"-"+IA++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=MA(i,r);"string"!=typeof i?(f5(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=MA(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Nv}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Nv);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");f5(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(MA(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Pv(e,"aria-describedby").filter(r=>0!=r.indexOf(m5));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);Ov(e,"aria-describedby",r.messageElement.id),e.setAttribute(Nv,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,wu(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Nv)}_isElementDescribedByMessage(e,i){const r=Pv(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MA(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function f5(n,t){n.id||(n.id=`${m5}-${t}-${IA++}`)}function g5(n,t){return t?e=>Uc(t.pipe(On(1),function N_e(){return Gn((n,t)=>{n.subscribe(Nn(t,Lp))})}()),e.pipe(g5(n))):uo((e,i)=>gr(n(e,i)).pipe(On(1),function L_e(n){return It(()=>n)}(e)))}let Lv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Xc,cV,eo,wn]})}return n})();const B_e=["panel"],H_e=["*"];function j_e(n,t){if(1&n&&(ji(0,"div",1,0),it(2),hr()),2&n){const e=t.id,i=C();Ir(i._classList),st("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-autocomplete-panel-animations-enabled",!i._animationsDisabled)("mat-primary","primary"===i._color)("mat-accent","accent"===i._color)("mat-warn","warn"===i._color),Ui("id",i.id),Qe("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}class U_e{source;option;constructor(t,e){this.source=t,this.option=e}}const _5=new Z("mat-autocomplete-default-options",{providedIn:"root",factory:()=>({autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1})});let b5=(()=>{class n{_changeDetectorRef=p(qt);_elementRef=p(nt);_defaults=p(_5);_animationsDisabled=Yn();_activeOptionChanges=zt.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new ze;opened=new ze;closed=new ze;optionActivated=new ze;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}id=p(_n).getId("mat-autocomplete-");inertGroups;constructor(){const e=p(oi);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new d5(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new U_e(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,eo,5)(o,Rv,5),2&i){let s;_e(s=be())&&(r.options=s),_e(s=be())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&Jt(Ln,7)(B_e,5),2&i){let o;_e(o=be())&&(r.template=o.first),_e(o=be())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Re],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Re],requireSelection:[2,"requireSelection","requireSelection",Re],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Re],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Re]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[Je([{provide:Mv,useExisting:n}])],ngContentSelectors:H_e,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){1&i&&(ln(),wg(0,j_e,3,17,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden,.cdk-overlay-pane:has(>.mat-mdc-autocomplete-hidden){visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0})}return n})();const V_e={provide:Ki,useExisting:tn(()=>yo),multi:!0},z_e=new Z("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>Pd(n)}});let yo=(()=>{class n{_environmentInjector=p(hi);_element=p(nt);_injector=p(kt);_viewContainerRef=p(Un);_zone=p($e);_changeDetectorRef=p(qt);_dir=p(Nr,{optional:!0});_formField=p(ym,{optional:!0,host:!0});_viewportRuler=p(Aa);_scrollStrategy=p(z_e);_renderer=p(ai);_animationsDisabled=Yn();_defaults=p(_5,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new Oe;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=zt.EMPTY;_breakpointObserver=p(_E);_handsetLandscapeSubscription=zt.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new Oe;_overlayPanelClass=Td(this._defaults?.overlayPanelClass||[]);_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&wu(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return di(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(gn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(gn(()=>this._overlayAttached)):We()).pipe(It(e=>e instanceof a5?e:null))}optionSelections=Bs(()=>{const e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(Ii(e),_i(()=>di(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(_i(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new ie(e=>{const i=o=>{const s=Xi(o),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,c=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&!this._hasFocus()&&(!a||!a.contains(s))&&(!c||!c.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&e.next(o)},r=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{r.forEach(o=>o())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e,r=i.keyCode,o=Ti(i);if(27===r&&!o&&i.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===r&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,a=38===r||40===r;9===r||a&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(i):a&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(a||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;if("number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const o=this.autocomplete.options?.find(s=>s.selected);o&&r!==this._getDisplayValue(o.value)&&o.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._hasFocus()){const o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return hm()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=new ie(r=>{pi(()=>{r.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options?.changes.pipe(wi(()=>this._positionStrategy.reapplyLastPosition()),function F_e(n,t=lm){const e=oE(n,t);return g5(()=>e)}(0))??We();return di(e,i).pipe(_i(()=>this._zone.run(()=>{const r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),On(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){const i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){const i=this._getDisplayValue(e);null==e&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const i=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){this._attachOverlay(e),this._floatLabel(),this._trackedModal&&Ov(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(e){let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Gc(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=Kc(this._injector,this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe("(max-width: 959.98px) and (orientation: landscape)").subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(27===e.keyCode&&!Ti(e)||38===e.keyCode&&Ti(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Nd({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this._overlayPanelClass,disableAnimations:this._animationsDisabled})}_getOverlayPosition(){const e=mm(this._injector,this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPopoverLocation("inline");return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){const i=this.autocomplete,r=c5(e,i.options,i.optionGroups);if(0===e&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[e];if(o){const s=o._getHostElement(),a=l5(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){const e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=this.autocomplete.id;this._trackedModal&&wu(this._trackedModal,"aria-owns",i),Ov(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(wu(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){1&i&&ae("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),2&i&&Qe("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Re]},exportAs:["matAutocompleteTrigger"],features:[Je([V_e]),Wn]})}return n})(),q_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Ma,Lv,zc,Lv,wn]})}return n})();const $_e=["mat-internal-form-field",""],G_e=["*"];let RA=(()=>{class n{labelPosition;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&st("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},attrs:$_e,ngContentSelectors:G_e,decls:1,vars:0,template:function(i,r){1&i&&(ln(),it(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}\n"],encapsulation:2,changeDetection:0})}return n})();const W_e=["switch"],K_e=["*"];function Y_e(n,t){1&n&&(_(0,"span",11),Go(),_(1,"svg",13),ve(2,"path",14),b(),_(3,"svg",15),ve(4,"path",16),b()())}const Q_e=new Z("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})});class y5{source;checked;constructor(t,e){this.source=t,this.checked=e}}let X_e=(()=>{class n{_elementRef=p(nt);_focusMonitor=p(js);_changeDetectorRef=p(qt);defaults=p(Q_e);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new y5(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=Yn();_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new ze;toggleChange=new ze;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){p(Ai).load(rs);const e=p(new Pc("tabindex"),{optional:!0}),i=this.defaults;this.tabIndex=null==e?0:parseInt(e)||0,this.color=i.color||"accent",this.id=this._uniqueId=p(_n).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new y5(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&Jt(W_e,5),2&i){let o;_e(o=be())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(Ui("id",r.id),Qe("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ir(r.color?"mat-"+r.color:""),st("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Re],color:"color",disabled:[2,"disabled","disabled",Re],disableRipple:[2,"disableRipple","disableRipple",Re],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Rr(e)],checked:[2,"checked","checked",Re],hideIcon:[2,"hideIcon","hideIcon",Re],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Je([{provide:Ki,useExisting:tn(()=>n),multi:!0},{provide:Si,useExisting:n,multi:!0}]),Wn],ngContentSelectors:K_e,decls:14,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mat-mdc-slide-toggle-touch-target"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const o=Ne();ln(),_(0,"div",1)(1,"button",2,0),ae("click",function(){return Y(o),Q(r._handleClick())}),ve(3,"div",3)(4,"span",4),_(5,"span",5)(6,"span",6)(7,"span",7),ve(8,"span",8),b(),_(9,"span",9),ve(10,"span",10),b(),te(11,Y_e,5,0,"span",11),b()()(),_(12,"label",12),ae("click",function(a){return Y(o),Q(a.stopPropagation())}),it(13),b()()}if(2&i){const o=rn(2);K("labelPosition",r.labelPosition),f(),st("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),K("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Qe("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),f(9),K("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),f(),ne(r.hideIcon?-1:11),f(),K("for",r.buttonId),Qe("id",r._labelId)}},dependencies:[bm,RA],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-slide-toggle-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-slide-toggle-touch-target-size, 48px);width:100%;transform:translate(-50%, -50%);display:var(--mat-slide-toggle-touch-target-display, block)}[dir=rtl] .mat-mdc-slide-toggle-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}\n'],encapsulation:2,changeDetection:0})}return n})(),Z_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[X_e,wn]})}return n})(),OA=(()=>{class n{_listeners=[];notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const v5=new Z("CdkAccordion");let J_e=(()=>{class n{accordion=p(v5,{optional:!0,skipSelf:!0});_changeDetectorRef=p(qt);_expansionDispatcher=p(OA);_openCloseAllSubscription=zt.EMPTY;closed=new ze;opened=new ze;destroyed=new ze;expandedChange=new ze;id=p(_n).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=Pn(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Re],disabled:[2,"disabled","disabled",Re]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Je([{provide:v5,useValue:void 0}])]})}return n})(),ebe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({})}return n})();const tbe=["body"],nbe=["bodyWrapper"],ibe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],rbe=["mat-expansion-panel-header","*","mat-action-row"];function obe(n,t){}const sbe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],abe=["mat-panel-title","mat-panel-description","*"];function cbe(n,t){1&n&&(ji(0,"span",1),Go(),ji(1,"svg",2),Ps(2,"path",3),hr()())}const C5=new Z("MAT_ACCORDION"),w5=new Z("MAT_EXPANSION_PANEL");let lbe=(()=>{class n{_template=p(Ln);_expansionPanel=p(w5,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})();const D5=new Z("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let PA=(()=>{class n extends J_e{_viewContainerRef=p(Un);_animationsDisabled=Yn();_document=p(Ut);_ngZone=p($e);_elementRef=p(nt);_renderer=p(ai);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new ze;afterCollapse=new ze;_inputChanges=new Oe;accordion=p(C5,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=p(_n).getId("mat-expansion-panel-header-");constructor(){super();const e=p(D5,{optional:!0});this._expansionDispatcher=p(OA),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ii(null),gn(()=>this.expanded&&!this._portal),On(1)).subscribe(()=>{this._portal=new Gc(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&"grid-template-rows"===i&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{const e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,lbe,5),2&i){let s;_e(s=be())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&Jt(tbe,5)(nbe,5),2&i){let o;_e(o=be())&&(r._body=o.first),_e(o=be())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,r){2&i&&st("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Re],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Je([{provide:C5,useValue:void 0},{provide:w5,useExisting:n}]),Ge,Wn],ngContentSelectors:rbe,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(ln(ibe),it(0),_(1,"div",2,0)(3,"div",3,1)(5,"div",4),it(6,1),Vn(7,obe,0,0,"ng-template",5),b(),it(8,2),b()()),2&i&&(f(),Qe("inert",r.expanded?null:""),f(2),K("id",r.id),Qe("aria-labelledby",r._headerId),f(4),K("cdkPortalOutlet",r._portal))},dependencies:[Md],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,changeDetection:0})}return n})(),x5=(()=>{class n{panel=p(PA,{host:!0});_element=p(nt);_focusMonitor=p(js);_changeDetectorRef=p(qt);_parentChangeSubscription=zt.EMPTY;constructor(){p(Ai).load(rs);const e=this.panel,i=p(D5,{optional:!0}),r=p(new Pc("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(gn(s=>!(!s.hideToggle&&!s.togglePosition))):Pr;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=di(e.opened,e.closed,o,e._inputChanges.pipe(gn(s=>!!(s.hideToggle||s.disabled||s.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(gn(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ti(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,r){1&i&&ae("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(Qe("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Zo("height",r._getHeaderHeight()),st("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Rr(e)]},ngContentSelectors:abe,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&(ln(sbe),ji(0,"span",0),it(1),it(2,1),it(3,2),hr(),te(4,cbe,3,0,"span",1)),2&i&&(st("mat-content-hide-toggle",!r._showToggle()),f(4),ne(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}\n'],encapsulation:2,changeDetection:0})}return n})(),E5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),dbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[ebe,Rd,wn]})}return n})();const ube=["*"],pbe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fbe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],gbe=new Z("MAT_CARD_CONFIG");let Du=(()=>{class n{appearance;constructor(){const e=p(gbe,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,r){2&i&&st("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)("mat-mdc-card-filled","filled"===r.appearance)("mdc-card--filled","filled"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ube,decls:1,vars:0,template:function(i,r){1&i&&(ln(),it(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\n'],encapsulation:2,changeDetection:0})}return n})(),xu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),Eu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),S5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:fbe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(ln(pbe),it(0),ji(1,"div",0),it(2,1),hr(),it(3,2))},encapsulation:2,changeDetection:0})}return n})(),Cp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),vbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();const k5="mat-badge-content";let Cbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}\n"],encapsulation:2,changeDetection:0})}return n})(),wbe=(()=>{class n{_ngZone=p($e);_elementRef=p(nt);_ariaDescriber=p(p5);_renderer=p(ai);_animationsDisabled=Yn();_idGenerator=p(_n);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=p(yE);_document=p(Ut);constructor(){const e=p(Ai);e.load(Cbe),e.load(pm)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(k5),this._animationsDisabled&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"!=typeof requestAnimationFrame||this._animationsDisabled?e.classList.add(i):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${k5}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&st("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",Re],disabled:[2,"matBadgeDisabled","disabled",Re],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",Re]}})}return n})(),Dbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[CE,wn]})}return n})();const xbe=["input"],Ebe=["label"],Sbe=["*"],NA={color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1},kbe=new Z("mat-checkbox-default-options",{providedIn:"root",factory:()=>NA});var ir=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(ir||{});class A5{source;checked}let Fv=(()=>{class n{_elementRef=p(nt);_changeDetectorRef=p(qt);_ngZone=p($e);_animationsDisabled=Yn();_options=p(kbe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new A5;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new ze;indeterminateChange=new ze;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=ir.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){p(Ai).load(rs);const e=p(new Pc("tabindex"),{optional:!0});this._options=this._options||NA,this.color=this._options.color||NA.color,this.tabIndex=null==e?0:parseInt(e)||0,this.id=this._uniqueId=p(_n).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(e){const i=e!=this._indeterminate();this._indeterminate.set(e),i&&(this._transitionCheckState(e?ir.Indeterminate:this.checked?ir.Checked:ir.Unchecked),this.indeterminateChange.emit(e)),this._syncIndeterminate(e)}_indeterminate=Pn(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===e)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ir.Checked:ir.Unchecked),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationsDisabled)return"";switch(e){case ir.Init:if(i===ir.Checked)return this._animationClasses.uncheckedToChecked;if(i==ir.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ir.Unchecked:return i===ir.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ir.Checked:return i===ir.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ir.Indeterminate:return i===ir.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&Jt(xbe,5)(Ebe,5),2&i){let o;_e(o=be())&&(r._inputElement=o.first),_e(o=be())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){2&i&&(Ui("id",r.id),Qe("tabindex",null)("aria-label",null)("aria-labelledby",null),Ir(r.color?"mat-"+r.color:"mat-accent"),st("_mat-animation-noopable",r._animationsDisabled)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Re],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Re],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Re],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:Rr(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re],checked:[2,"checked","checked",Re],disabled:[2,"disabled","disabled",Re],indeterminate:[2,"indeterminate","indeterminate",Re]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Je([{provide:Ki,useExisting:tn(()=>n),multi:!0},{provide:Si,useExisting:n,multi:!0}]),Wn],ngContentSelectors:Sbe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=Ne();ln(),_(0,"div",3),ae("click",function(a){return Y(o),Q(r._preventBubblingFromLabel(a))}),_(1,"div",4,0)(3,"div",5),ae("click",function(){return Y(o),Q(r._onTouchTargetClick())}),b(),_(4,"input",6,1),ae("blur",function(){return Y(o),Q(r._onBlur())})("click",function(){return Y(o),Q(r._onInputClick())})("change",function(a){return Y(o),Q(r._onInteractionEvent(a))}),b(),ve(6,"div",7),_(7,"div",8),Go(),_(8,"svg",9),ve(9,"path",10),b(),cf(),ve(10,"div",11),b(),ve(11,"div",12),b(),_(12,"label",13,2),it(14),b()()}if(2&i){const o=rn(2);K("labelPosition",r.labelPosition),f(4),st("mdc-checkbox--selected",r.checked),K("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Qe("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",!(!r.disabled||!r.disabledInteractive)||null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),f(7),K("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),f(),K("for",r.inputId)}},dependencies:[bm,RA],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}@media(forced-colors: active){.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:GrayText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:GrayText}}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{color:GrayText}}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-checkbox-touch-target-size, 48px);width:var(--mat-checkbox-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}\n'],encapsulation:2,changeDetection:0})}return n})(),Abe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Fv,wn]})}return n})();const Tbe=["trigger"],Ibe=["panel"],Mbe=[[["mat-select-trigger"]],"*"],Rbe=["mat-select-trigger","*"];function Obe(n,t){if(1&n&&(_(0,"span",4),H(1),b()),2&n){const e=C();f(),Ae(e.placeholder)}}function Pbe(n,t){1&n&&it(0)}function Nbe(n,t){if(1&n&&(_(0,"span",11),H(1),b()),2&n){const e=C(2);f(),Ae(e.triggerValue)}}function Lbe(n,t){if(1&n&&(_(0,"span",5),te(1,Pbe,1,0)(2,Nbe,2,1,"span",11),b()),2&n){const e=C();f(),ne(e.customTrigger?1:2)}}function Fbe(n,t){if(1&n){const e=Ne();_(0,"div",12,1),ae("keydown",function(r){return Y(e),Q(C()._handleKeydown(r))}),it(2,1),b()}if(2&n){const e=C();Ir(function zP(n,t,e=""){return SP(Ee(),n,t,e)}("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),st("mat-select-panel-animations-enabled",!e._animationsDisabled),K("ngClass",e.panelClass),Qe("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Bbe=new Z("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>Pd(n)}}),Hbe=new Z("MAT_SELECT_CONFIG"),T5=new Z("MatSelectTrigger");class I5{source;value;constructor(t,e){this.source=t,this.value=e}}let $a=(()=>{class n{_viewportRuler=p(Aa);_changeDetectorRef=p(qt);_elementRef=p(nt);_dir=p(Nr,{optional:!0});_idGenerator=p(_n);_renderer=p(ai);_parentFormField=p(ym,{optional:!0});ngControl=p(Mo,{self:!0,optional:!0});_liveAnnouncer=p(P3);_defaultOptions=p(Hbe,{optional:!0});_animationsDisabled=Yn();_initialized=new Oe;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=c5(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:l5(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new I5(this,e)}_scrollStrategyFactory=p(Bbe);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Oe;_errorStateTracker;stateChanges=new Oe;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=Pn(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(_x.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Bs(()=>{const e=this.options;return e?e.changes.pipe(Ii(e),_i(()=>di(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(_i(()=>this.optionSelectionChanges))});openedChange=new ze;_openedStream=this.openedChange.pipe(gn(e=>e),It(()=>{}));_closedStream=this.openedChange.pipe(gn(e=>!e),It(()=>{}));selectionChange=new ze;valueChange=new ze;constructor(){const e=p(yb),i=p(Fc,{optional:!0}),r=p(Jh,{optional:!0}),o=p(new Pc("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),null!=this._defaultOptions?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new PE(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=null==o?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new mp(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe($t(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe($t(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ii(null),$t(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(On(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&wu(this._trackedModal,"aria-owns",i),Ov(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(wu(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel)return void this._detachOverlay();this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};const e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",o=>{"_mat-select-exit"===o.animationName&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Ti(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Ti(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_handleOverlayKeydown(e){27===e.keyCode&&!Ti(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(null!=r.value||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate=e=>!this.panelOpen&&e.disabled;_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof ib?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new d5(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=di(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($t(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),di(...this.options.map(i=>i._stateChanges)).pipe($t(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);this.canSelectNullableOptions||null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId()||null;return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){const i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(e){const i=Xi(e),r=this._overlayDir.overlayRef?.hostElement;(!i||!r||!r.contains(i))&&(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,T5,5)(o,eo,5)(o,Rv,5),2&i){let s;_e(s=be())&&(r.customTrigger=s.first),_e(s=be())&&(r.options=s),_e(s=be())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&Jt(Tbe,5)(Ibe,5)(x3,5),2&i){let o;_e(o=be())&&(r.trigger=o.first),_e(o=be())&&(r.panel=o.first),_e(o=be())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(i,r){1&i&&ae("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Qe("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),st("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Re],disableRipple:[2,"disableRipple","disableRipple",Re],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Rr(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Re],placeholder:"placeholder",required:[2,"required","required",Re],multiple:[2,"multiple","multiple",Re],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Re],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Rr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Re]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Je([{provide:bb,useExisting:n},{provide:Mv,useExisting:n}]),Wn],ngContentSelectors:Rbe,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const o=Ne();ln(Mbe),_(0,"div",2,0),ae("click",function(){return Y(o),Q(r.open())}),_(3,"div",3),te(4,Obe,2,1,"span",4)(5,Lbe,3,1,"span",5),b(),_(6,"div",6)(7,"div",7),Go(),_(8,"svg",8),ve(9,"path",9),b()()()(),Vn(10,Fbe,3,10,"ng-template",10),ae("detach",function(){return Y(o),Q(r.close())})("backdropClick",function(){return Y(o),Q(r.close())})("overlayKeydown",function(a){return Y(o),Q(r._handleOverlayKeydown(a))})}if(2&i){const o=rn(1);f(3),Qe("id",r._valueId),f(),ne(r.empty?4:5),f(6),K("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[ib,x3,zh],styles:['@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}\n'],encapsulation:2,changeDetection:0})}return n})(),M5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["mat-select-trigger"]],features:[Je([{provide:T5,useExisting:n}])]})}return n})(),jbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Ma,Lv,wn,zc,vb,Lv]})}return n})(),eye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[aE]})}return n})(),hye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[eye,wn]})}return n})(),_ye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[wn]})}return n})();const q5=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],$5=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function bye(n,t){1&n&&(_(0,"span",3),it(1,1),b())}function yye(n,t){1&n&&(_(0,"span",6),it(1,2),b())}const wye=[[["","matChipEdit",""]],[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Dye=["[matChipEdit]","mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function xye(n,t){1&n&&ve(0,"span",0)}function Eye(n,t){1&n&&(_(0,"span",1),it(1),b())}function Sye(n,t){1&n&&(_(0,"span",3),it(1,1),b())}function kye(n,t){1&n&&it(0,2)}function Aye(n,t){1&n&&ve(0,"span",7)}function Tye(n,t){1&n&&te(0,kye,1,0)(1,Aye,1,0,"span",7),2&n&&ne(C().contentEditInput?0:1)}function Iye(n,t){1&n&&it(0,3)}function Mye(n,t){1&n&&(_(0,"span",6),it(1,4),b())}const YA=["*"],zv=new Z("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),QA=new Z("MatChipAvatar"),XA=new Z("MatChipTrailingIcon"),ZA=new Z("MatChipEdit"),JA=new Z("MatChipRemove"),qv=new Z("MatChip");let eT=(()=>{class n{_elementRef=p(nt);_parentChip=p(qv);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){p(Ai).load(rs),"BUTTON"===this._elementRef.nativeElement.nodeName&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(i,r){2&i&&(Qe("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),st("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--secondary",!r._isPrimary)("mdc-evolution-chip__action--trailing",!r._isPrimary&&!r._isLeading))},inputs:{disabled:[2,"disabled","disabled",Re],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:Rr(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return n})(),Ep=(()=>{class n extends eT{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(e){!this.disabled&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(i,r){1&i&&ae("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Qe("tabindex",r._getTabindex()),st("mdc-evolution-chip__action--presentational",!1))},features:[Ge]})}return n})(),yl=(()=>{class n extends Ep{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ht(n)))(r||n)}})();static \u0275dir=fe({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&Qe("aria-hidden",null)},features:[Je([{provide:JA,useExisting:n}]),Ge]})}return n})(),vo=(()=>{class n{_changeDetectorRef=p(qt);_elementRef=p(nt);_tagName=p(VX);_ngZone=p($e);_focusMonitor=p(js);_globalRippleOptions=p(pb,{optional:!0});_document=p(Ut);_onFocus=new Oe;_onBlur=new Oe;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=Yn();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=p(_n).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new ze;destroyed=new ze;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=p(iH);_injector=p(kt);constructor(){const e=p(Ai);e.load(rs),e.load(pm),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=di(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&Ei(o,QA,5)(o,ZA,5)(o,XA,5)(o,JA,5)(o,QA,5)(o,XA,5)(o,ZA,5)(o,JA,5),2&i){let s;_e(s=be())&&(r.leadingIcon=s.first),_e(s=be())&&(r.editIcon=s.first),_e(s=be())&&(r.trailingIcon=s.first),_e(s=be())&&(r.removeIcon=s.first),_e(s=be())&&(r._allLeadingIcons=s),_e(s=be())&&(r._allTrailingIcons=s),_e(s=be())&&(r._allEditIcons=s),_e(s=be())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&Jt(Ep,5),2&i){let o;_e(o=be())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,r){1&i&&ae("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Ui("id",r.id),Qe("role",r.role)("aria-label",r.ariaLabel),Ir("mat-"+(r.color||"primary")),st("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Re],highlighted:[2,"highlighted","highlighted",Re],disableRipple:[2,"disableRipple","disableRipple",Re],disabled:[2,"disabled","disabled",Re]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Je([{provide:qv,useExisting:n}])],ngContentSelectors:$5,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(ln(q5),ve(0,"span",0),_(1,"span",1)(2,"span",2),te(3,bye,2,0,"span",3),_(4,"span",4),it(5),ve(6,"span",5),b()()(),te(7,yye,2,0,"span",6)),2&i&&(f(3),ne(r.leadingIcon?3:-1),f(4),ne(r._hasTrailingIcon()?7:-1))},dependencies:[eT],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}\n'],encapsulation:2,changeDetection:0})}return n})(),$v=(()=>{class n{_elementRef=p(nt);_document=p(Ut);constructor(){}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);const i=window.getSelection();i.removeAllRanges(),i.addRange(e)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]})}return n})(),Y5=(()=>{class n extends vo{basicChipAttrName="mat-basic-chip-row";_editStartPending=!1;editable=!1;edited=new ze;defaultEditInput;contentEditInput;_alreadyFocused=!1;_isEditing=!1;constructor(){super(),this.role="row",this._onBlur.pipe($t(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish(),this._alreadyFocused=!1})}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("mousedown",()=>this._alreadyFocused=this._hasFocus())})}_hasLeadingActionIcon(){return!this._isEditing&&!!this.editIcon}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){13!==e.keyCode||this.disabled?this._isEditing?e.stopPropagation():super._handleKeydown(e):this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e)}_handleClick(e){!this.disabled&&this.editable&&!this._isEditing&&this._alreadyFocused&&(e.preventDefault(),e.stopPropagation(),this._startEditing(e))}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_edit(){this._changeDetectorRef.markForCheck(),this._startEditing()}_startEditing(e){if(!this.primaryAction||this.removeIcon&&e&&this._getSourceAction(e.target)===this.removeIcon)return;const i=this.value;this._isEditing=this._editStartPending=!0,pi(()=>{this._getEditInput().initialize(i),setTimeout(()=>this._ngZone.run(()=>this._editStartPending=!1))},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(i,r,o){if(1&i&&Ei(o,$v,5),2&i){let s;_e(s=be())&&(r.contentEditInput=s.first)}},viewQuery:function(i,r){if(1&i&&Jt($v,5),2&i){let o;_e(o=be())&&(r.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:29,hostBindings:function(i,r){1&i&&ae("focus",function(){return r._handleFocus()})("click",function(s){return r._hasInteractiveActions()?r._handleClick(s):null})("dblclick",function(s){return r._handleDoubleclick(s)}),2&i&&(Ui("id",r.id),Qe("tabindex",r.disabled?null:-1)("aria-label",null)("aria-description",null)("role",r.role),st("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-editing",r._isEditing)("mat-mdc-chip-editable",r.editable)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-leading-action",r._hasLeadingActionIcon())("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},features:[Je([{provide:vo,useExisting:n},{provide:qv,useExisting:n}]),Ge],ngContentSelectors:Dye,decls:9,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--leading"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],["matChipEditInput",""]],template:function(i,r){1&i&&(ln(wye),te(0,xye,1,0,"span",0),te(1,Eye,2,0,"span",1),_(2,"span",2),te(3,Sye,2,0,"span",3),_(4,"span",4),te(5,Tye,2,1)(6,Iye,1,0),ve(7,"span",5),b()(),te(8,Mye,2,0,"span",6)),2&i&&(ne(r._isEditing?-1:0),f(),ne(r._hasLeadingActionIcon()?1:-1),f(),K("disabled",r.disabled),Qe("aria-description",r.ariaDescription)("aria-label",r.ariaLabel),f(),ne(r.leadingIcon?3:-1),f(2),ne(r._isEditing?5:6),f(3),ne(r._hasTrailingIcon()?8:-1))},dependencies:[Ep,$v],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}\n'],encapsulation:2,changeDetection:0})}return n})(),tT=(()=>{class n{_elementRef=p(nt);_changeDetectorRef=p(qt);_dir=p(Nr,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new Oe;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new Wl;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){const e=this._elementRef.nativeElement.tabIndex;-1!==e&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Ii(null),_i(()=>di(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Ii(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Zk(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe($t(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe($t(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Ii(null),$t(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe($t(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip),o=e.chip._hasFocus(),s=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),a=o||s;this._isValidIndex(r)&&a&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,vo,5),2&i){let s;_e(s=be())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&ae("keydown",function(s){return r._handleKeydown(s)}),2&i&&Qe("role",r.role)},inputs:{disabled:[2,"disabled","disabled",Re],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Rr(e)]},ngContentSelectors:YA,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(ln(),ji(0,"div",0),it(1),hr())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}\n"],encapsulation:2,changeDetection:0})}return n})();class Fye{source;value;constructor(t,e){this.source=t,this.value=e}}let vl=(()=>{class n extends tT{ngControl=p(Mo,{optional:!0,self:!0});controlType="mat-chip-grid";_chipInput;_defaultRole="grid";_errorStateTracker;_uid=p(_n).getId("mat-chip-grid-");_ariaDescribedbyIds=[];_onTouched=()=>{};_onChange=()=>{};get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e,this._syncChipsState(),this.stateChanges.next()}get id(){return this._chipInput?this._chipInput.id:this._uid}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get focused(){return this._chipInput?.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(_x.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}_value=[];get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}change=new ze;valueChange=new ze;_chips=void 0;stateChanges=new Oe;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(){super();const e=p(Fc,{optional:!0}),i=p(Jh,{optional:!0}),r=p(yb);this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new PE(r,this.ngControl,i,e,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe($t(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),di(this.chipFocusChanges,this._chips.changes).pipe($t(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds),this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){if(!this.disabled&&!this._chipInput?.focused){if(!this._chips.length||this._chips.first.disabled){if(!this._chipInput)return;Promise.resolve().then(()=>this._chipInput.focus())}else{const e=this._keyManager.activeItem;e?e.focus():this._keyManager.setFirstItemActive()}this.stateChanges.next()}}get describedByIds(){if(this._chipInput)return this._chipInput.describedByIds||[];const e=this._elementRef.nativeElement.getAttribute("aria-describedby");return e?e.split(" "):[]}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?this._chipInput.setDescribedByIds(e):e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput?.focused||super._allowFocusEscape()}_handleKeydown(e){const i=e.keyCode,r=this._keyManager.activeItem;if(9===i)this._chipInput?.focused&&Ti(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),r?this._keyManager.setActiveItem(r):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput?.focused)if(38!==i&&40!==i||!r)super._handleKeydown(e);else{const o=this._chipActions.filter(c=>c._isPrimary===r._isPrimary&&!this._skipPredicate(c)),s=o.indexOf(r),a=38===e.keyCode?-1:1;e.preventDefault(),s>-1&&this._isValidIndex(s+a)&&this._keyManager.setActiveItem(o[s+a])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const e=this._chips.length?this._chips.toArray().map(i=>i.value):[];this._value=e,this.change.emit(new Fye(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-chip-grid"]],contentQueries:function(i,r,o){if(1&i&&Ei(o,Y5,5),2&i){let s;_e(s=be())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(i,r){1&i&&ae("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&i&&(Qe("role",r.role)("tabindex",r.disabled||r._chips&&0===r._chips.length?-1:r.tabIndex)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState),st("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-invalid",r.errorState)("mat-mdc-chip-list-required",r.required))},inputs:{disabled:[2,"disabled","disabled",Re],placeholder:"placeholder",required:[2,"required","required",Re],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[Je([{provide:bb,useExisting:n}]),Ge],ngContentSelectors:YA,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(ln(),ji(0,"div",0),it(1),hr())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Cl=(()=>{class n{_elementRef=p(nt);focused=!1;get chipGrid(){return this._chipGrid}set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}_chipGrid;addOnBlur=!1;separatorKeyCodes;chipEnd=new ze;placeholder="";id=p(_n).getId("mat-mdc-chip-list-input-");get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=e}_disabled=!1;readonly=!1;disabledInteractive;get empty(){return!this.inputElement.value}inputElement;constructor(){const e=p(zv),i=p(ym,{optional:!0});this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=e.separatorKeyCodes,this.disabledInteractive=e.inputDisabledInteractive??!1,i&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(e){this.empty&&8===e.keyCode?(e.repeat||this._chipGrid._focusLastChip(),e.preventDefault()):this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e)&&!e.repeat)&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){const i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}_isSeparatorKey(e){if(!this.separatorKeyCodes)return!1;for(const i of this.separatorKeyCodes){let r,o;"number"==typeof i?(r=i,o=null):(r=i.keyCode,o=i.modifiers);const s=o?.length?Ti(e,...o):!Ti(e);if(r===e.keyCode&&s)return!0}return!1}_getReadonlyAttribute(){return this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:8,hostBindings:function(i,r){1&i&&ae("keydown",function(s){return r._keydown(s)})("blur",function(){return r._blur()})("focus",function(){return r._focus()})("input",function(){return r._onInput()}),2&i&&(Ui("id",r.id),Qe("disabled",r.disabled&&!r.disabledInteractive?"":null)("placeholder",r.placeholder||null)("aria-invalid",r._chipGrid&&r._chipGrid.ngControl?r._chipGrid.ngControl.invalid:null)("aria-required",r._chipGrid&&r._chipGrid.required||null)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("readonly",r._getReadonlyAttribute())("required",r._chipGrid&&r._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",Re],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",Re],readonly:[2,"readonly","readonly",Re],disabledInteractive:[2,"matChipInputDisabledInteractive","disabledInteractive",Re]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[Wn]})}return n})(),Bye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[yb,{provide:zv,useValue:{separatorKeyCodes:[13]}}],imports:[Xc,wn]})}return n})();const Hye=["input"],jye=["formField"],Uye=["*"];class X5{source;value;constructor(t,e){this.source=t,this.value=e}}const Z5=new Z("MatRadioGroup"),zye=new Z("mat-radio-default-options",{providedIn:"root",factory:()=>({color:"accent",disabledInteractive:!1})});let J5=(()=>{class n{_elementRef=p(nt);_changeDetector=p(qt);_focusMonitor=p(js);_radioDispatcher=p(OA);_defaultOptions=p(zye,{optional:!0});_ngZone=p($e);_renderer=p(ai);_uniqueId=p(_n).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new ze;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=Yn();_injector=p(kt);constructor(){p(Ai).load(rs);const e=p(Z5,{optional:!0}),i=p(new Pc("tabindex"),{optional:!0});this.radioGroup=e,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,i&&(this.tabIndex=Rr(i,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new X5(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,pi(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&Jt(Hye,5)(jye,7,nt),2&i){let o;_e(o=be())&&(r._inputElement=o.first),_e(o=be())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){1&i&&ae("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(Qe("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),st("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",Re],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Rr(e)],checked:[2,"checked","checked",Re],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",Re],required:[2,"required","required",Re],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:Uye,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=Ne();ln(),_(0,"div",2,0)(2,"div",3)(3,"div",4),ae("click",function(a){return Y(o),Q(r._onTouchTargetClick(a))}),b(),_(4,"input",5,1),ae("change",function(a){return Y(o),Q(r._onInputInteraction(a))}),b(),_(6,"div",6),ve(7,"div",7)(8,"div",8),b(),_(9,"div",9),ve(10,"div",10),b()(),_(11,"label",11),it(12),b()()}2&i&&(K("labelPosition",r.labelPosition),f(2),st("mdc-radio--disabled",r.disabled),f(2),K("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Qe("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),f(5),K("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),f(2),K("for",r.inputId))},dependencies:[bm,RA],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button label{cursor:pointer}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}\n'],encapsulation:2,changeDetection:0})}return n})(),$ye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[Xc,J5,wn]})}return n})();function nT(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?n4(n,t):("input"===i||"select"===i||"textarea"===i)&&t4(n,t),e4("canvas",n,t,n4),e4("input, textarea, select",n,t,t4),t}function e4(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let Wye=0;function t4(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Wye++}`)}function n4(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function iT(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function rT(n,t,e){const{top:i,bottom:r,left:o,right:s}=n;return e>=i&&e<=r&&t>=o&&t<=s}function Sp(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function r4(n,t,e,i){const{top:r,right:o,bottom:s,left:a,width:c,height:l}=n,d=c*t,u=l*t;return i>r-u&&i<s+u&&e>a-d&&e<o+d}class o4{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:iT(e)})})}handleScroll(t){const e=Xi(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,s;if(e===this._document){const l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,c=r.left-s;return this.positions.forEach((l,d)=>{l.clientRect&&e!==d&&e.contains(d)&&Sp(l.clientRect,a,c)}),r.top=o,r.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function s4(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function oT(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Au(n,t){const e=t?"":"none";oT(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function a4(n,t,e){oT(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Gv(n,t){return t&&"none"!=t?n+" "+t:n}function c4(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=kp(t.left,t.top)}function kp(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function l4(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function sT(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}const Qye=new Set(["position"]);class Xye{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,r,o,s,a,c,l,d){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),d4(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return function Yye(n){const t=getComputedStyle(n),e=sT(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),o=sT(t,"transition-duration"),s=sT(t,"transition-delay");return l4(o[r])+l4(s[r])}(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){const t=this._previewTemplate,e=this._previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),r=s4(s,this._document),this._previewEmbeddedView=s,t.matchSize?c4(r,o):r.style.transform=kp(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=nT(this._rootElement),c4(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return oT(r.style,{"pointer-events":"none",margin:d4(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Qye),Au(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}}function d4(n){return"showPopover"in n}const Zye={passive:!0},u4={passive:!1},Jye={passive:!1,capture:!0},h4="cdk-drag-placeholder",m4=new Set(["position"]);class tve{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Pn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Oe;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=zt.EMPTY;_pointerUpSubscription=zt.EMPTY;_scrollSubscription=zt.EMPTY;_resizeSubscription=zt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Au(e,t)))}_disabled=!1;beforeStarted=new Oe;started=new Oe;released=new Oe;ended=new Oe;entered=new Oe;exited=new Oe;dropped=new Oe;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,r,o,s,a){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new o4(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Vi(i)),this._handles.forEach(i=>Au(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Vi(t);if(e!==this._rootElement){this._removeRootElementListeners();const i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,u4),i.listen(e,"touchstart",this._pointerDown,Zye),i.listen(e,"dragstart",this._nativeDragStart,u4)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Vi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function Kye(n,t){return t.left<n.left||t.left+t.width>n.right||t.top<n.top||t.top+t.height>n.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const t=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect();let i=0,r=0;e.left<t.left?i=t.left-e.left:e.right>t.right&&(i=t.right-e.right),e.top<t.top?r=t.top-e.top:e.bottom>t.bottom&&(r=t.bottom-e.bottom);let a=this._activeTransform.x+i,c=this._activeTransform.y+r;this._rootElement.style.transform=kp(a,c),this._activeTransform={x:a,y:c},this._passiveTransform={x:a,y:c}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Au(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Au(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),c=this._dropContainer;if(!a)return void this._endDragSequence(t);(!c||!c.isDragging()&&!c.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Ap(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",nve,Jye)}),i){const r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new Xye(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),a4(r,!1,m4),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Ap(e),o=!r&&0!==e.button,s=this._rootElement,a=Xi(e),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=r?ob(e):rb(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||c||l)return;if(this._handles.length){const h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=iT(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){a4(this._rootElement,!0,m4),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{const s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=a=>{(!a||this._preview&&Xi(a)===this._preview.element&&"transform"===a.propertyName)&&(s(),i(),clearTimeout(o))},o=setTimeout(r,1.5*e),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=s4(this._placeholderRef,this._document)):i=nT(this._rootElement),i.style.pointerEvents="none",i.classList.add(h4),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=Ap(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Ap(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),d=a.top+s,u=a.bottom-(l-s);i=p4(i,a.left+o,a.right-(c-o)),r=p4(r,d,u)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Au(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){const i=1/this.scale,r=kp(t*i,e*i),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Gv(r,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=kp(t,e);this._preview.setTransform(Gv(r,i))}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(e+=a),c>0&&(e-=c)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Ap(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Xi(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Sp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Q_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Vi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){const e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}_conditionallyInsertAnchor(t,e,i){if(t===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){const r=this._anchor??=nT(this._placeholder);r.classList.remove(h4),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):Vi(e.element).appendChild(r)}}}function p4(n,t,e){return Math.max(t,Math.min(e,n))}function Ap(n){return"t"===n.type[0]}function nve(n){n.preventDefault()}function f4(n,t,e){const i=Tp(t,n.length-1),r=Tp(e,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function Tp(n,t){return Math.max(0,Math.min(t,n))}class g4{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,c=o.findIndex(v=>v.drag===t),l=o[s],u=l.clientRect,h=c>s?1:-1,m=this._getItemOffsetPx(o[c].clientRect,u,h),g=this._getSiblingOffsetPx(c,o,h),y=o.slice();return f4(o,c,s),o.forEach((v,F)=>{if(y[F]===v)return;const q=v.drag===t,Se=q?m:g,He=q?t.getPlaceholderElement():v.drag.getRootElement();v.offset+=Se;const Ke=Math.round(v.offset*(1/v.drag.scale));a?(He.style.transform=Gv(`translate3d(${Ke}px, 0, 0)`,v.initialTransform),Sp(v.clientRect,0,Se)):(He.style.transform=Gv(`translate3d(0, ${Ke}px, 0)`,v.initialTransform),Sp(v.clientRect,Se,0))}),this._previousSwap.overlaps=rT(u,e,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:c,currentIndex:s}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,s=this._activeDraggables,a=s.indexOf(t),c=t.getPlaceholderElement();let l=s[o];if(l===t&&(l=s[o+1]),!l&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){const d=l.getRootElement();d.parentElement.insertBefore(c,d),s.splice(o,0,t)}else this._element.appendChild(c),s.push(t);c.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return this._getVisualItemPositions().findIndex(e=>e.drag===t)}getItemAtIndex(t){return this._getVisualItemPositions()[t]?.drag||null}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Sp(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:iT(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,s=e[t+-1*i];let a=o[r?"width":"height"]*i;if(s){const c=r?"left":"top",l=r?"right":"bottom";-1===i?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(c.left)&&e<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom))));return-1!==s&&this._sortPredicate(s,t)?s:-1}}class ive{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){const e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){const r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,i,r){const o=this._getItemIndexFromPointerPosition(t,e,i),s=this._previousSwap;if(-1===o||this._activeItems[o]===t)return null;const a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;const c=this.getItemIndex(t),l=t.getPlaceholderElement(),d=a.getRootElement();o>c?d.after(l):d.before(l),f4(this._activeItems,c,o);const u=this._getRootNode().elementFromPoint(e,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===u||d.contains(u),{previousIndex:c,currentIndex:o}}enter(t,e,i,r){const o=this._activeItems.indexOf(t);o>-1&&this._activeItems.splice(o,1);let s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r;-1===s&&(s=this._getClosestItemIndexToPointer(t,e,i));const a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,t),a.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){const t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[r,o]=this._relatedNodes[i];r.parentNode===t&&r.nextSibling!==o&&(null===o?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}getItemAtIndex(t){return this._activeItems[t]||null}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){const r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{const a=s.getRootElement();return r===a||a.contains(r)}):-1;return-1!==o&&this._sortPredicate(o,t)?o:-1}_getRootNode(){return this._rootNode||(this._rootNode=Q_(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){const a=this._activeItems[s];if(a!==t){const{x:c,y:l}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(e-c,i-l);d<r&&(r=d,o=s)}}return o}}var Co=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(Co||{}),Cr=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Cr||{});class rve{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Oe;entered=new Oe;exited=new Oe;dropped=new Oe;sorted=new Oe;receivingStarted=new Oe;receivingStopped=new Oe;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=zt.EMPTY;_verticalScrollDirection=Co.NONE;_horizontalScrollDirection=Cr.NONE;_scrollNode;_stopScrollTimers=new Oe;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;const s=this.element=Vi(t);this._document=i,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new o4(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,s,a,c={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof g4&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if("mixed"===t)this._sortStrategy=new ive(this._document,this._dragDropRegistry);else{const e=new g4(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){const e=this._container;return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;Vi(this.element);const i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}getItemAtIndex(t){return this._isDragging?this._sortStrategy.getItemAtIndex(t):this._draggables[t]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!r4(this._domRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=Co.NONE,o=Cr.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||r4(s.clientRect,.05,t,e)&&([r,o]=function ove(n,t,e,i,r){const o=y4(t,r),s=v4(t,i);let a=Co.NONE,c=Cr.NONE;if(o){const l=n.scrollTop;o===Co.UP?l>0&&(a=Co.UP):n.scrollHeight-l>n.clientHeight&&(a=Co.DOWN)}if(s){const l=n.scrollLeft;"rtl"===e?s===Cr.RIGHT?l<0&&(c=Cr.RIGHT):n.scrollWidth+l>n.clientWidth&&(c=Cr.LEFT):s===Cr.LEFT?l>0&&(c=Cr.LEFT):n.scrollWidth-l>n.clientWidth&&(c=Cr.RIGHT)}return[a,c]}(a,s.clientRect,this._direction,t,e),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};r=y4(c,e),o=v4(c,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Gye(n=0,t=lm){return n<0&&(n=0),oE(n,n,t)}(0,t3).pipe($t(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Co.UP?t.scrollBy(0,-e):this._verticalScrollDirection===Co.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===Cr.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===Cr.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return null!=this._domRect&&rT(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!rT(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);return!!r&&(r===this._container||this._container.contains(r))}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Q_(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function y4(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?Co.UP:t>=i-o&&t<=i+o?Co.DOWN:Co.NONE}function v4(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?Cr.LEFT:t>=i-o&&t<=i+o?Cr.RIGHT:Cr.NONE}const Ip={capture:!0},aT={passive:!1,capture:!0};let sve=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return n})(),cT=(()=>{class n{_ngZone=p($e);_document=p(Ut);_styleLoader=p(Ai);_renderer=p(Sr).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Oe;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Pn([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Oe;pointerUp=new Oe;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,aT)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(sve),this._activeDragInstances.update(r=>[...r,e]),1===this._activeDragInstances().length)){const r=i.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),Ip],["selectstart",this._preventDefaultWhileDragging,aT]];r?s.push(["touchend",o,Ip],["touchcancel",o,Ip]):s.push(["mouseup",o,Ip]),r||s.push(["mousemove",a=>this.pointerMove.next(a),aT]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,l])=>this._renderer.listen(this._document,a,c,l))})}}stopDragging(e){this._activeDragInstances.update(i=>{const r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){const i=[this._scroll];return e&&e!==this._document&&i.push(new ie(r=>this._ngZone.runOutsideAngular(()=>{const o=this._renderer.listen(e,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},Ip);return()=>{o()}}))),di(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ave={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let lT=(()=>{class n{_document=p(Ut);_ngZone=p($e);_viewportRuler=p(Aa);_dragDropRegistry=p(cT);_renderer=p(Sr).createRenderer(null,null);constructor(){}createDrag(e,i=ave){return new tve(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new rve(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fve=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({providers:[lT],imports:[zc]})}return n})(),gve=(()=>{class n{constructor(e){this.sanitizer=e}sanitizeInput(e,i){return this.sanitizer.sanitize(i,e)}static{this.\u0275fac=function(i){return new(i||n)(J(Zm))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _ve=["webInp"];function bve(n,t){if(1&n&&(_(0,"p"),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.globals.languageConfLocal.webIntLogout," ")}}function yve(n,t){if(1&n){const e=Ne();_(0,"div",1)(1,"div",2)(2,"h1"),H(3),b()(),_(4,"div",3),ae("click",function(){return Y(e),Q(C().closeModal())}),ve(5,"div",4),b()(),_(6,"div",5)(7,"div",6),H(8),te(9,bve,2,1,"p"),b(),_(10,"div",7)(11,"input",8),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.inputValue,r)||(o.inputValue=r),Q(r)}),ae("keyup.enter",function(){return Y(e),Q(C().confirmAction())}),b(),_(12,"input",9),ae("click",function(){return Y(e),Q(C().confirmAction())}),b()()()}if(2&n){const e=C();f(3),Ae(e.globals.languageConfLocal.webIntInputTitle),f(2),K("ngStyle",e.modCloseImage),f(3),Xe(" ",e.globals.languageConfLocal.webIntInputText," "),f(),ne(e.connectionService.isLoggedIn?9:-1),f(2),Ot("ngModel",e.inputValue)}}let vve=(()=>{class n{constructor(e,i,r,o,s,a){this.messageService=e,this.sanitize=i,this.loader=r,this.connectionService=o,this.modal=s,this.globals=a,this.modCloseImage={background:"no-repeat url(assets/images/widget_settings.png)"},this.lcLocal=this.globals.languageConfLocal,this.inputValue="",this.globals.getSystemBaseUrl()&&(this.connectionService.webIntModalOpenRef=this.open.bind(this))}ngOnInit(){this.globals.getSystemBaseUrl()?(this.inputValue=this.globals.getSystemBaseUrl(),this.inputValue=encodeURI(this.inputValue)):(this.globals.showSpinner(),setTimeout(()=>{this.globals.hideSpinner(),this.connectionService.webIntModalOpenRef=this.open.bind(this)},2e3))}open(){return this.modal.open(this.modalTemp,{panelClass:"modalOverlay",autoFocus:!1,disableClose:!0,maxHeight:"90%"})}confirmAction(){var e=this;return E(function*(){(yield e.checkInput(e.sanitize.sanitizeInput(e.inputValue,4)))&&(e.globals.activeWindow=e.globals.loggedIn?"userSettings":"main")})()}closeModal(){this.modal.closeAll()}checkInput(e){var i=this;return E(function*(){if(!e||""===String(e).trim())return i.messageService.showWarning(i.globals.languageConfLocal.webIntInvalid),!1;let r=encodeURI(String(e).trim());if(r.toLowerCase().startsWith("https")||(r="https://"+r),r.endsWith("/")||(r+="/"),r.includes("http:"))return i.messageService.showWarning(i.globals.languageConfLocal.webIntHttp),!1;if(r===i.globals.getSystemBaseUrl())return i.closeModal(),!0;i.globals.showSpinner();try{const o=function(){var h=E(function*(m,g=5e3){try{const y=new AbortController,v=setTimeout(()=>y.abort(),g),F=yield fetch(m,{method:"GET",credentials:"include",signal:y.signal,redirect:"follow"});return clearTimeout(v),F}catch{return null}});return function(g){return h.apply(this,arguments)}}(),s=h=>!!h&&(h.ok||401===h.status||403===h.status),a=h=>!!h&&h.ok,c=document.getElementById("webIntInputField")?.value,d=String(c??e??"").trim().toLowerCase().replace(/\/+$/,"").endsWith("nsf");let u=!1;return d?(u=s(yield o(r+"restBM.xsp/verserest/",5e3)),u||(u=s(yield o(r+"loginBM.xsp",5e3)))):(u=s(yield o(r+"api/bm4o/GetBAVersion",5e3)),u||(u=a(yield o(r+"baVersion",5e3)))),u?(i.globals.setSystemBaseUrl(r),i.connectionService.reload(),i.closeModal(),!0):(i.messageService.showWarning(i.globals.languageConfLocal.webIntNotValid),!1)}finally{i.globals.hideSpinner()}})()}static{this.\u0275fac=function(i){return new(i||n)(R(Bn),R(gve),R(Qk),R(Lr),R(Oo),R(Dt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-webint-input"]],viewQuery:function(i,r){if(1&i&&Jt(_ve,7),2&i){let o;_e(o=be())&&(r.modalTemp=o.first)}},standalone:!1,decls:2,vars:0,consts:[["webInp",""],[1,"modalHeader"],[1,"modalHeaderText"],["ngbAutoFocus","",1,"modalHeaderClose",3,"click"],[1,"modalCloseIcon",3,"ngStyle"],[1,"modalBody"],[1,"webIntText"],["id","webIntInputWrapper",1,"flex"],["matInput","","type","text","id","webIntInputField",3,"ngModelChange","keyup.enter","ngModel"],["type","button","id","webIntConfirmButton","value","OK",1,"buttonMiddle","noFloat",3,"click"]],template:function(i,r){1&i&&Vn(0,yve,13,5,"ng-template",null,0,ao)},dependencies:[qh,Io,Jo,ts,po],styles:[".webIntText[_ngcontent-%COMP%]{white-space:pre-line;font-weight:700;text-align:center}#webIntInputField[_ngcontent-%COMP%]{width:230px;outline:none;margin-right:10px;border:1px solid rgba(0,0,0,.2);flex-grow:1}#webIntConfirmButton[_ngcontent-%COMP%]{height:25px!important;top:-1px;position:relative}#webIntInputWrapper[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}"]})}}return n})(),Cve=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=bt({imports:[CE,Ma,wn,zc]})}return n})(),wve=(()=>{class n{constructor(e,i){this.domSanitizer=e,this.cdRef=i,this.console=new li("RedirectComponent"),this.sessionSet=!1}ngOnInit(){Office.onReady().then(()=>{Office.context.ui.addHandlerAsync(Office.EventType.DialogParentMessageReceived,this.onMessageFromParent.bind(this)),Office.context.ui.messageParent("ready")})}onMessageFromParent(e){this.console.debug("ON MESSAGE"),"message"in e&&(this.console.debug("On Message"),this.console.info(this.webInt),this.console.debug("Got Message"),this.console.debug("TEST:"),this.console.info(e),this.webInt=e.message,this.console.info("WEB INT CHANGED"),this.console.info(this.webInt),this.sessionSet=!0,this.redirectURL="https://localhost:3000/businessmail?redirect",window.open(e.message+"?isOutlookClient=true","_self"))}static{this.\u0275fac=function(i){return new(i||n)(R(Zm),R(qt))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-redirect"]],standalone:!1,decls:2,vars:0,template:function(i,r){1&i&&(_(0,"p"),H(1,"Redirecting..."),b())},encapsulation:2})}}return n})(),Tu=(()=>{class n{constructor(e,i,r){this.waitlist=e,this.messageService=i,this.globals=r,this.subscriptions={}}waitForDisplayChanges(e,i,r){this.initKey(e);for(const o of i)this.subscriptions[e].push(this.changeAttachDisplay(o).subscribe(()=>{r.detectChanges()}))}unsubscribeAll(e){if(this.subscriptions[e])for(const i of this.subscriptions[e])i.unsubscribe()}showInfoSnack(){this.messageService.showInfo(this.globals.languageConfLocal.attachments)}get getInfoText(){return this.globals.languageConfLocal.attachments}initKey(e){null==this.subscriptions[e]&&(this.subscriptions[e]=[])}changeAttachDisplay(e){return new ie(i=>this.waitlist.addToWaitList(e,i))}static{this.\u0275fac=function(i){return new(i||n)(J(ki),J(Bn),J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Dve=["searchExpansionPanel"],xve=["searchTextInput"],x4=()=>[];function Eve(n,t){if(1&n){const e=Ne();_(0,"span",16),ae("click",function(r){return Y(e),Q(C(2).clearTextClicked(r))}),H(1,"cancel"),b()}}function Sve(n,t){1&n&&(_(0,"span",9),H(1,"expand_less"),b())}function kve(n,t){1&n&&(_(0,"span",9),H(1,"search"),b())}function Ave(n,t){if(1&n&&(_(0,"mat-option",18),H(1),b()),2&n){const e=t.$implicit;K("value",e.value),f(),Ae(e.viewValue)}}function Tve(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",10)(1,"mat-label"),H(2),b(),_(3,"mat-select",17),Pt("valueChange",function(r){Y(e);const o=C(2);return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C(2).selectedDBChanged())}),hn(4,Ave,2,2,"mat-option",18,kn),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.addressDatabase),f(),Ot("value",e.selectedDB),f(),mn(e.databases||Oh(2,x4))}}function Ive(n,t){if(1&n&&(_(0,"div",12),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.globals.languageConfLocal.recentlyUsed," ")}}function Mve(n,t){if(1&n&&ve(0,"img",20),2&n){const e=C().$implicit;K("src",C(2).datasource.getBase64Image(e.imageBase64),In)}}function Rve(n,t){if(1&n&&ve(0,"img",20),2&n){const e=C().$implicit;K("src",C(2).datasource.getImageSrc(e.image),In)}}function Ove(n,t){if(1&n){const e=Ne();_(0,"div",19),ae("click",function(r){return Y(e),Q(C(2).clickedElement(r))})("dblclick",function(r){return Y(e),Q(C(2).dblClickedElement(r))}),te(1,Mve,1,1,"img",20),te(2,Rve,1,1,"img",20),_(3,"div",21)(4,"span",22),H(5),b(),ve(6,"br"),_(7,"span",23),H(8),b(),ve(9,"br"),_(10,"span",23),H(11),b(),ve(12,"br"),b()()}if(2&n){const e=t.$implicit,i=t.$index,r=C(2);K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),Qe("data-fdme",e.fdMe)("data-email",e.email)("data-order",i+1),f(),ne(e.imageBase64?1:-1),f(),ne(e.imageBase64?-1:2),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne+" <"+e.email+">"))),f(),Xe(" ",r.htmlHelp.parseHtmlEntities(e.lineOne+" <"+e.email+">")," "),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineTwo)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineThree))}}function Pve(n,t){if(1&n){const e=Ne();_(0,"div",14)(1,"button",24),ae("click",function(){return Y(e),Q(C(2).addSelectedTo("requiredAttendees"))}),H(2),b(),_(3,"button",24),ae("click",function(){return Y(e),Q(C(2).addSelectedTo("optionalAttendees"))}),H(4),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.requiredAttendee),f(2),Ae(e.globals.languageConfLocal.optionalAttendee)}}function Nve(n,t){if(1&n){const e=Ne();_(0,"div",14)(1,"button",24),ae("click",function(){return Y(e),Q(C(2).addSelectedTo("to"))}),H(2),b(),_(3,"button",24),ae("click",function(){return Y(e),Q(C(2).addSelectedTo("cc"))}),H(4,"Cc"),b(),_(5,"button",24),ae("click",function(){return Y(e),Q(C(2).addSelectedTo("bcc"))}),H(6,"Bcc"),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.to)}}function Lve(n,t){if(1&n){const e=Ne();_(0,"div",15)(1,"div",25),ae("click",function(r){return Y(e),Q(C(2).addSelectedTo("requiredAttendees",r))}),H(2),b(),_(3,"div",25),ae("click",function(r){return Y(e),Q(C(2).addSelectedTo("optionalAttendees",r))}),H(4),b()()}if(2&n){const e=C(2);f(2),Xe(" ",e.globals.languageConfLocal.requiredAttendee),f(2),Xe(" ",e.globals.languageConfLocal.optionalAttendee)}}function Fve(n,t){if(1&n){const e=Ne();_(0,"div",15)(1,"div",25),ae("click",function(r){return Y(e),Q(C(2).addSelectedTo("to",r))}),H(2),b(),_(3,"div",25),ae("click",function(r){return Y(e),Q(C(2).addSelectedTo("cc",r))}),H(4,"Cc"),b(),_(5,"div",25),ae("click",function(r){return Y(e),Q(C(2).addSelectedTo("bcc",r))}),H(6,"Bcc"),b()()}if(2&n){const e=C(2);f(2),Xe(" ",e.globals.languageConfLocal.to)}}function Bve(n,t){if(1&n){const e=Ne();_(0,"div",2),ve(1,"br"),_(2,"mat-expansion-panel",3,0),ae("closed",function(){return Y(e),Q(C().searchResultsPanelClosed())})("opened",function(){return Y(e),Q(C().searchResultsPanelOpened())}),_(4,"mat-expansion-panel-header")(5,"mat-panel-title",4)(6,"mat-form-field",5)(7,"mat-label",6),H(8),b(),_(9,"input",7,1),ae("keydown.Space",function(r){return Y(e),Q(C().noCloseOnSpace(r))})("input",function(r){return Y(e),Q(C().textChanged(r))})("focus",function(r){return Y(e),Q(C().searchInputFocused(r))})("click",function(r){return Y(e),Q(C().searchInputClicked(r))}),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.textInSearchInput,r)||(o.textInSearchInput=r),Q(r)}),b()(),te(11,Eve,2,0,"span",8),te(12,Sve,2,0,"span",9),te(13,kve,2,0,"span",9),b()(),te(14,Tve,6,3,"mat-form-field",10),_(15,"div",11),te(16,Ive,2,1,"div",12),hn(17,Ove,13,16,"div",13,kn),b(),te(19,Pve,5,2,"div",14),te(20,Nve,7,1,"div",14),te(21,Lve,5,2,"div",15),te(22,Fve,7,1,"div",15),b()()}if(2&n){const e=rn(10),i=C();f(8),Ae(i.globals.languageConfLocal.searchInCRMForContacts),f(),Ot("ngModel",i.textInSearchInput),f(2),ne(e.value.length>0?11:-1),f(),ne(i.searchPanelExpanded?12:-1),f(),ne(i.searchPanelExpanded?-1:13),f(),ne(null!=i.databases&&i.databases.length>0?14:-1),f(2),ne(i.showRecentlyUsed?16:-1),f(),mn(i.searchResultsArray||Oh(11,x4)),f(2),ne(i.isAppointment?19:-1),f(),ne(i.isAppointment?-1:20),f(),ne(i.isAppointment?21:-1),f(),ne(i.isAppointment?-1:22)}}let Hve=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u){this.globals=e,this.messageService=i,this.mailLoadedService=r,this.ref=o,this.translate=s,this.waitList=a,this.datasource=c,this.lsm=l,this.dps=d,this.htmlHelp=u,this.console=new li("ContactSelectorComponent"),this.searchResultsArray=[],this.databases=[],this.selection=new mp(!1),this.showRecentlyUsed=!1,this.initialDBSelection=!1,this.events=["contextmenu","touchstart"],this.lastTap=0,this.gotFocused=!1,this.addressFetched=!1,this.addresses=[],this.subscriptions=[],this.currentAvatarURL="",this.filteredAdditionalValues={},this.commonPointerData={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){let e=Office.context.mailbox.item;e?(this.isCompose=null==e.itemId,this.isAppointment="appointment"===e.itemType||!1,this.isReadMode=void 0===e.getItemIdAsync||void 0===typeof e.getItemIdAsync):(this.isCompose=!1,this.isAppointment=!1,this.isReadMode=!0),this.events.forEach(i=>{document.addEventListener(i,r=>{if(null==r.srcElement.closest("#resultsContainer"))return;let o=document.getElementsByClassName("resultListEntry");if(this.countSelected(o)<=1){this.deselectAll(o);let g=r.srcElement.closest(".resultListEntry");this.selectOneElement(g)}r.preventDefault();let a=document.getElementById("context-menu");if(!a)return;let c=r.clientX||r.touches[0].clientX,l=r.clientY||r.touches[0].clientY,d=a.getBoundingClientRect().height,u=a.getBoundingClientRect().width,h=window.innerWidth,m=window.innerHeight;h-c<=200?(a.style.borderRadius="5px 0 5px 5px",a.style.left=h-u+"px",a.style.top=l+"px",m-l<=200&&(a.style.top=l-d+"px",a.style.borderRadius="5px 5px 0 5px")):(a.style.borderRadius="0 5px 5px 5px",a.style.left=c+"px",a.style.top=l+"px",m-l<=200&&(a.style.top=l-d+"px",a.style.borderRadius="5px 5px 5px 0")),a.style.visibility="visible"},{passive:!1})}),document.addEventListener("touchend",i=>{document.getElementById("context-menu")}),document.addEventListener("click",i=>{let r=document.getElementById("context-menu");r&&(r.style.visibility="hidden")}),this.getContactDBs(),this.dps.addThingToClose("contactSearch",()=>{this.searchExpansionPanel?.close()})}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}detectChanges(){this.ref.detectChanges()}waitForConnector(){return new ie(e=>{this.waitList.addToWaitList("connector",e)})}textChanged(e){this.textInSearchInput.length>0&&this.searchExpansionPanel.open(),this.getContacts()}clearTextClicked(e){this.textInSearchInput="",this.searchPanelExpanded&&(this.getContacts(),this.searchTextInput.nativeElement.focus()),e.stopPropagation()}addSelectedTo(e,i=null){let r=Office.context.mailbox.item;if(r){let o=document.getElementsByClassName("resultListEntry"),s=this.countSelected(o);if(0===s)return void this.translate.get("Nothing is selected!").subscribe(a=>{this.messageService.showWarning(this.globals.languageConfLocal.NothingIsSelected,void 0)});for(let a=0;a<o.length;a++)this.addOneContact(r,o[a],e);1===s&&this.deselectAll(o)}}addOneContact(e,i,r,o=!0){(!o||"true"===i.dataset.selected)&&e[r].getAsync(s=>{s.status===Office.AsyncResultStatus.Failed?this.messageService.showError("Not able to read outlook item.",void 0):0===s.value.filter(c=>c.emailAddress.toLowerCase()===i.dataset.email.toLowerCase()).length&&(this.datasource.addToRecentlyUsed(i.dataset.fdme),e[r].addAsync([{displayName:i.title,emailAddress:i.dataset.email}]))})}clickedElement(e){let i=document.getElementsByClassName("resultListEntry"),r=this.countSelected(i),o=e.currentTarget,s=o.dataset.order-1;if(!e.ctrlKey&&!e.shiftKey&&this.deselectAll(i,s),e.shiftKey){let a=this.lastSelected,c=s;a>c&&(a=s,c=this.lastSelected),this.selectBetween(i,a,c)}else"true"===o.dataset.selected?this.deselectOneElement(o):(this.selectOneElement(o),this.lastSelected=o.dataset.order-1),!e.ctrlKey&&r>1&&(this.selectOneElement(o),this.lastSelected=o.dataset.order-1)}dblClickedElement(e){let r=Office.context.mailbox.item;r&&this.addOneContact(r,e.currentTarget,this.isAppointment?"requiredAttendees":"to",!1)}deselectAll(e,i=null){for(let r=0;r<e.length;r++){if(i&&r===i)continue;let o=e[r];"true"===o.dataset.selected&&this.deselectOneElement(o)}}selectBetween(e,i,r){for(let o=i;o<=r;o++)setTimeout(()=>{this.selectOneElement(e[o])},10)}countSelected(e){let i=0;for(let r=0;r<e.length;r++)"true"===e[r].dataset.selected&&i++;return i}deselectOneElement(e){e.setAttribute("data-selected",!1)}selectOneElement(e){e.setAttribute("data-selected",!0)}getContactDBs(){this.datasource.fetchDBs("dbConnections",null).subscribe({next:e=>{this.console.info("DBs:",e),this.filterForContacts(e)}})}filterForContacts(e){const i={},r=["Contact","Leads","Organization"];for(const o in e){if("GeOfficeAliases"===o)continue;const s=e[o].type;Array.isArray(s)?s.some(a=>r.includes(a))&&(i[o]=e[o].title):"string"==typeof s?r.includes(s)&&(i[o]=e[o].title):console.warn(`Unerwarteter Typ f\xfcr "type" in Alias ${o}:`,s)}this.generateSelectionArr(i)}generateSelectionArr(e){this.databases=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.databases.push({value:i,viewValue:e[i]});if(Array.isArray(this.databases)||(this.databases=[]),this.databases||(this.databases=[]),this.console.info("databses:",this.databases),this.databases.length>0){let i=this.lsm.getValue(Ht.contactDB);null!=i?this.databases.forEach(r=>{r.value===i&&(this.selectedDB=r.value)}):this.selectedDB=this.databases[0].value}this.getContacts()}selectedDBChanged(){this.textInSearchInput="",this.getContacts(),this.initialDBSelection?this.initialDBSelection=!1:this.lsm.setValue(Ht.contactDB,this.selectedDB)}getContacts(){"ba"===this.globals.system&&(this.showRecentlyUsed=!this.textInSearchInput||0===this.textInSearchInput?.length),this.datasource.fetchSearch(this.selectedDB,void 0,this.textInSearchInput).subscribe({next:e=>{const i=this.datasource.handleSearchResult(e,Oa.contacts);this.searchResultsArray=Array.isArray(i)?i:[]}})}searchResultsPanelOpened(){let e=this.searchExpansionPanel._body.nativeElement.childNodes[0];e.style.paddingRight="3px",e.style.paddingLeft="3px",e.style.paddingBottom="3px",e.style.backgroundColor="#ffffff",e.style.zIndex=5,this.searchPanelExpanded=!0,this.searchTextInput.nativeElement.focus()}searchResultsPanelClosed(){this.searchPanelExpanded=!1}searchInputFocused(e){setTimeout(()=>{this.searchExpansionPanel.open()},100),this.gotFocused=!0}searchInputClicked(e){this.gotFocused&&e.stopPropagation(),this.gotFocused=!1}noCloseOnSpace(e){e.stopPropagation()}getBase64(e){return"base64, "+e}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Bn),R(Tu),R(qt),R(zn),R(ki),R(nr),R(Qi),R(fs),R(Ys))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-contact-selector"]],viewQuery:function(i,r){if(1&i&&Jt(Dve,5)(xve,5),2&i){let o;_e(o=be())&&(r.searchExpansionPanel=o.first),_e(o=be())&&(r.searchTextInput=o.first)}},standalone:!1,decls:1,vars:1,consts:[["searchExpansionPanel",""],["searchTextInput",""],[1,"contactSelectorDiv"],["hideToggle","",1,"searchResultsPanel","mat-elevation-z0",3,"closed","opened"],[1,"searchInCRMHeader"],["id","contactSearchField",1,"searchInCRMField",2,"width","100%","vertical-align","bottom"],[2,"font-size","small"],["matInput","","type","search","id","searchText","name","searchText",3,"keydown.Space","input","focus","click","ngModelChange","ngModel"],[1,"material-symbols-rounded","clearIcon"],[1,"material-symbols-rounded","searchIcon"],["appearance","fill",1,"databaseSearchSelect"],["id","resultsContainer",1,"prevent-select"],[1,"recentlyUsed"],[1,"itemListEntry","resultListEntry",3,"title"],[1,"btn-group"],["id","context-menu"],[1,"material-symbols-rounded","clearIcon",3,"click"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"itemListEntry","resultListEntry",3,"click","dblclick","title"],[1,"normalImage",3,"src"],[1,"resultsLineWrapper"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],[3,"click"],[1,"item",3,"click"]],template:function(i,r){1&i&&te(0,Bve,23,12,"div",2),2&i&&ne(r.isReadMode?-1:0)},dependencies:[Io,Jo,ts,mo,Gr,$a,eo,po,PA,x5,E5],styles:['.itemListEntry[_ngcontent-%COMP%]{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;overflow:hidden}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.itemListEntry[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0e0}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true])   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#e0e0e0}[data-selected=true].itemListEntry[_ngcontent-%COMP%], [data-selected=true].itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#d3d3d3}.itemListEntry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}#resultsContainer[_ngcontent-%COMP%]{height:50vh;overflow-y:auto}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%]{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%] + .itemListEntry[_ngcontent-%COMP%]{padding-top:8px}.resultsLineWrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}#context-menu[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 20px #25282a38;color:#1f194c;width:10em;padding:.8em .6em;font-size:13px;position:fixed;visibility:hidden}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.3em 1.2em}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;cursor:pointer}.btn-group[_ngcontent-%COMP%]{width:100%;padding-top:3px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5f5f5f}.btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}#searchText[_ngcontent-%COMP%]{font-size:12px}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:4.5em;font-size:small}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]{border:#4d4d4d;border-width:3px}.searchResultsPanel[_ngcontent-%COMP%]{width:calc(100% - 1px);z-index:4;border-radius:5px}.contactSelectorDiv[_ngcontent-%COMP%]{width:100%;height:fit-content}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:transparent!important}.searchIcon[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:22px}.clearIcon[_ngcontent-%COMP%]{position:absolute;right:27px;bottom:22px}.databaseSearchSelect[_ngcontent-%COMP%]{width:100%}.databaseSearchSelect[_ngcontent-%COMP%] + .searchResultsPanel[_ngcontent-%COMP%]{margin-top:-16px}[_nghost-%COMP%]     .searchInCRMField .mdc-floating-label, [_nghost-%COMP%]     .searchInCRMField .mat-mdc-floating-label{top:28px!important}[_nghost-%COMP%]     mat-form-field#contactSearchField.searchInCRMField.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{top:30px!important}[_nghost-%COMP%]     .searchResultsPanel>* .mat-expansion-panel-content{max-height:70vh!important;overflow:auto}']})}}return n})();var wl=function(n){return n[n.activity=0]="activity",n}(wl||{});class E4{constructor(){this.primary=[],this.secondary=[]}}class Iu{}let jve=(()=>{class n{constructor(e,i,r,o,s){this.connectionService=e,this.waitListService=i,this.globals=r,this.initService=o,this.createService=s,this.fetchInProgress=!1,this.addressObjectExtended=!1,this.indexToShow=0,this.addressResponseObject={},this.addresses=[]}get toHideList(){return this.addressResponseObject.hide}get currentPointer(){return this.addresses[this.addressIndex].pointer}get currentAddressData(){return this.addresses[this.addressIndex]}get hasAddress(){return this.addresses.length>0}get addressIndex(){return this.indexToShow}set addressIndex(e){this.indexToShow=e,this.notifyIndexSubscriber()}waitForAddresses(){return new ie(e=>{this.addresses.length>0?(e.next(this.addresses),e.complete()):this.waitListService.addToWaitList("address",e)})}processAddresses(){return new ie(e=>{this.addresses.length<1?this.fetchInProgress?this.waitListService.addToWaitList("address",e):(this.fetchInProgress=!0,this.processData().subscribe({next:i=>{i.forEach(r=>{let o=r;o=this.modifyAdditionalData(o),this.addresses.push(o)}),(i.length<1&&!this.createService.isOpen||i.length>=1&&this.createService.isOpen)&&this.createService.toggleOpen(),e.next(this.addresses),e.complete()},error:()=>{this.processWaitingList(),this.fetchInProgress=!1},complete:()=>{this.processWaitingList(),this.fetchInProgress=!1}})):(e.next(this.addresses),e.complete())})}newProcessAddress(){return new ie(e=>{let i=Office.context.mailbox.item,r=new E4;if(i){let s="appointment"===i.itemType;void 0===i.getItemIdAsync||void 0===typeof i.getItemIdAsync?(s?(i?.organizer.emailAddress&&(r.fromEmail=i.organizer.emailAddress,r.fromName=i.organizer.displayName),i?.requiredAttendees.forEach(c=>{this.addIfNotExist(r.primary,c)}),i?.optionalAttendees.forEach(c=>{this.addIfNotExist(r.secondary,c)})):(i?.from.emailAddress&&(r.fromEmail=i.from.emailAddress,r.fromName=i.from.displayName),i?.to.forEach(c=>{this.addIfNotExist(r.primary,c)}),i?.cc.forEach(c=>{this.addIfNotExist(r.secondary,c)})),e.next(r)):s?i.requiredAttendees.getAsync(c=>{c.status===Office.AsyncResultStatus.Failed||i?.optionalAttendees.getAsync(l=>{l.status===Office.AsyncResultStatus.Failed||i?.organizer.getAsync(d=>{d.status===Office.AsyncResultStatus.Failed||(r.fromEmail=d.value.emailAddress,r.fromName=d.value.displayName,c.value.forEach(u=>{this.addIfNotExist(r.primary,u)}),l.value.forEach(u=>{this.addIfNotExist(r.secondary,u)}),e.next(r))})})}):i.to.getAsync(c=>{c.status===Office.AsyncResultStatus.Failed||i?.cc.getAsync(l=>{l.status===Office.AsyncResultStatus.Failed||i?.from.getAsync(d=>{d.status===Office.AsyncResultStatus.Failed||(c.value.forEach(u=>{this.addIfNotExist(r.primary,u)}),l.value.forEach(u=>{this.addIfNotExist(r.secondary,u)}),r.fromEmail=d.value.emailAddress,r.fromName=d.value.displayName,e.next(r))})})})}})}addIfNotExist(e,i){if(!e.some(r=>r.email===i.emailAddress)){let r=new Iu;r.email=i.emailAddress,r.display=i.displayName,e.push(r)}}receiverAtendeeChanged(){this.fetchInProgress=!1}addToIndexListenerList(){return new ie(e=>{this.waitListService.addToWaitList("index",e)})}resetAddr(){this.addresses=[]}addressChange(){for(const e of this.waitListService.accessWaitList("addressChange"))e.next(!0)}waitForAddressChange(){return new ie(e=>{this.waitListService.addToWaitList("addressChange",e)})}modifyAdditionalData(e){const i=this.addressResponseObject.ignoreInAddress;return i&&i.forEach(r=>{e.additional&&delete e.additional[r]}),e}notifyIndexSubscriber(){this.waitListService.accessWaitList("index").forEach(e=>{e.next(this.addressIndex)})}processWaitingList(){this.waitListService.accessWaitList("address").forEach(e=>{this.addresses.length>0?(e.next(this.addresses),e.complete()):e.error("No address found.")}),this.waitListService.clearWaitList("address")}processData(){return new ie(e=>{this.connectionService.processPath().subscribe(()=>{this.globals.curMailUnid&&""!==this.globals.curMailUnid?this.addressHandler(e):this.waitListService.addToWaitListFunc("mailAddr",e,this.addressHandler.bind(this))})})}addressHandler(e){let i=new Yt;i=i.set("mail",this.globals.curMailAddr),this.connectionService.processAddress(i).subscribe(r=>{this.addressResponseObject=r,e.next(r.data),e.complete(),this.notifyIndexSubscriber(),this.initService.initComplete=!0})}getUrlOrigin(e){return new URL(e).origin}static{this.\u0275fac=function(i){return new(i||n)(J(Lr),J(ki),J(Dt),J(Yk),J(bV))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uve=(()=>{class n{constructor(e){this.globals=e}getImgUrl(e){return this.globals.getSystemBaseUrl()+e}getLocalImgUrl(e,i){if(i)return"assets/images/defaultCompany_80x104.png";if(null!=e)switch(e.toLowerCase()){case"herr":case"mr":case"mister":case"male":return"assets/images/defaultMan_80x104.png";case"frau":case"mrs":case"ms":case"miss":case"female":return"assets/images/defaultWoman_80x104.png"}return"assets/images/defaultUnisex_80x104.png"}getViewImgFileName(e){return"vwicn"+e.toString().padStart(3,"0")+".png"}getViewIconUrl(e){return this.getImgUrl(this.getViewImgFileName(e))}static{this.\u0275fac=function(i){return new(i||n)(J(Dt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Vve=["selectedContact"],zve=["firstDocumentDestination"],qve=["secondDocumentDestination"],$ve=["branchDocumentDestination"],Gve=["docDestSelector"];function Wve(n,t){if(1&n&&(_(0,"div",5),H(1),b()),2&n){const e=C();K("title",e.currentEmailSubject),f(),Xe("",e.currentEmailSubject,"\n")}}function Kve(n,t){1&n&&H(0),2&n&&Xe(" ",C(2).globals.languageConfLocal.documentButtonTooltipOff," ")}function Yve(n,t){1&n&&H(0),2&n&&Xe(" ",C(2).globals.languageConfLocal.documentVerb," ")}function Qve(n,t){if(1&n){const e=Ne();_(0,"button",15),ae("click",function(){return Y(e),Q(C().documentItem())}),te(1,Kve,1,1)(2,Yve,1,1),b()}if(2&n){const e=C();K("disabled",e.noneSelected&&0===e.globals.addressActivities.documentsAsDestinations.length||0===e.globals.addressActivities.documentsAsDestinations.length&&!e.checkboxChecker)("title",e.noneSelected&&0===e.globals.addressActivities.documentsAsDestinations.length||0===e.globals.addressActivities.documentsAsDestinations.length&&!e.checkboxChecker?e.globals.languageConfLocal.documentButtonTooltipOff:e.documentButtonTooltip),f(),ne(e.noneSelected&&0===e.globals.addressActivities.documentsAsDestinations.length||0===e.globals.addressActivities.documentsAsDestinations.length&&!e.checkboxChecker?1:2)}}function Xve(n,t){if(1&n){const e=Ne();_(0,"button",16),ae("click",function(){return Y(e),Q(C().updateItem())}),H(1),b()}if(2&n){const e=C();K("title",e.updateButtonTooltip),f(),Ae(e.globals.languageConfLocal.updateVerb)}}function Zve(n,t){if(1&n&&(_(0,"mat-option",10),H(1),b()),2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.doNotDocument," ")}}function Jve(n,t){if(1&n&&(_(0,"mat-option",17)(1,"div",18),H(2),b(),_(3,"div",19),H(4),b()()),2&n){const e=t.$implicit;K("value",e.email),f(2),Ae(e.display),f(2),Ae(e.email)}}function eCe(n,t){if(1&n&&(_(0,"mat-optgroup",11),hn(1,Jve,5,3,"mat-option",17,Q0().tracker,!0),b()),2&n){const e=C();K("label",e.primaryRecipients),f(),mn(e.addresses)}}function tCe(n,t){if(1&n&&(_(0,"mat-option",17)(1,"div",18),H(2),b(),_(3,"div",19),H(4),b()()),2&n){const e=t.$implicit;K("value",e.email),f(2),Ae(e.display),f(2),Ae(e.email)}}function nCe(n,t){if(1&n&&(_(0,"mat-optgroup",11),hn(1,tCe,5,3,"mat-option",17,Q0().tracker,!0),b()),2&n){const e=C();K("label",e.secondaryRecipients),f(),mn(e.addresses2nd)}}function iCe(n,t){if(1&n&&(_(0,"mat-optgroup",11)(1,"mat-option",17)(2,"div",18),H(3),b(),_(4,"div",19),H(5),b()()()),2&n){const e=C();K("label",e.theOwnerText),f(),K("value",e.theSender.email),f(2),Ae(e.theSender.display),f(2),Ae(e.theSender.email)}}function rCe(n,t){if(1&n&&(_(0,"mat-optgroup",11)(1,"mat-option",17)(2,"div",18),H(3),b(),_(4,"div",19),H(5),b()()()),2&n){const e=C();K("label",e.theAssignedText),f(),K("value",e.theAssignee.email),f(2),Ae(e.theAssignee.display),f(2),Ae(e.theAssignee.email)}}function oCe(n,t){if(1&n&&(_(0,"small"),H(1),b()),2&n){const e=C().$implicit;f(),Xe(" (",e.dbTitle,")")}}function sCe(n,t){if(1&n){const e=Ne();_(0,"button",35),Pt("valueChange",function(r){const o=Y(e).$implicit;return Bt(o.pointer,r)||(o.pointer=r),Q(r)}),ae("click",function(){const r=Y(e).$implicit;return Q(C(3).subdestinationClick(r.pointer))}),_(1,"span",36),H(2),te(3,oCe,2,1,"small"),b()()}if(2&n){const e=t.$implicit,i=C(3);Ot("value",e.pointer),K("ngClass",e.pointer===i.displayedDestination.pointer?"selectedDestination":""),f(),K("title",e.name+(e.dbTitle?" ("+e.dbTitle+")":"")),f(),vd("",e.name,"",e.companyName?" ("+e.companyName+")":""," "),f(),ne(e.dbTitle?3:-1)}}function aCe(n,t){if(1&n&&(_(0,"div",21)(1,"button",32),ve(2,"img",33),b(),_(3,"mat-menu",null,2),hn(5,sCe,4,6,"button",34,kn),b()()),2&n){const e=rn(4),i=C(2);f(),K("matBadge",i.destinationsToDisplay.length)("matMenuTriggerFor",e),f(),K("src",i.currentAvatarURL,In)("title",i.globals.languageConfLocal.showContactsList),f(3),mn(i.destinationsToDisplay)}}function cCe(n,t){if(1&n&&(_(0,"div",21),ve(1,"img",37),b()),2&n){const e=C(2);f(),K("src",e.currentAvatarURL,In)}}function lCe(n,t){if(1&n){const e=Ne();_(0,"div",38),ae("click",function(){Y(e);const r=C(2);return Q(r.datasource.addDocumentLinkToMail(r.displayedDestination))}),_(1,"span",39),H(2,"link"),b()()}if(2&n){const e=C(2);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function dCe(n,t){if(1&n&&(_(0,"a",28),H(1),b()),2&n){const e=C(2);K("href",e.displayedDestination.parentUrl,In)("title",e.displayedDestination.companyName),f(),Ae(e.displayedDestination.companyName)}}function uCe(n,t){if(1&n){const e=Ne();_(0,"div",38),ae("click",function(){Y(e);const r=C(2);return Q(r.datasource.addDocumentLinkToMail(r.displayedDestination,r.displayedDestination.companyName))}),_(1,"span",39),H(2,"link"),b()()}if(2&n){const e=C(2);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function hCe(n,t){if(1&n){const e=Ne();_(0,"mat-checkbox",27,3),ae("change",function(r){return Y(e),Q(C(2).destinationSelectorClicked(r))}),b()}if(2&n){const e=C(2);K("name",e.displayedDestination.companyPointer)("checked",e.initSelectedDoc&&e.displayedDestination.companyPointer===e.initSelectedDoc)}}function mCe(n,t){if(1&n&&(_(0,"a",28),H(1),b()),2&n){const e=C(2);K("href",e.displayedDestination.branchUrl||e.displayedDestination.parentUrl,In)("title",e.displayedDestination.branchName),f(),Ae(e.displayedDestination.branchName)}}function pCe(n,t){if(1&n){const e=Ne();_(0,"div",38),ae("click",function(){Y(e);const r=C(2);return Q(r.datasource.addDocumentLinkToMail(r.displayedDestination,r.displayedDestination.branchName))}),_(1,"span",39),H(2,"link"),b()()}if(2&n){const e=C(2);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function fCe(n,t){if(1&n){const e=Ne();_(0,"mat-checkbox",27,4),ae("change",function(r){return Y(e),Q(C(2).destinationSelectorClicked(r))}),b()}if(2&n){const e=C(2);K("name",e.displayedDestination.branchPointer)("checked",e.initSelectedDoc&&e.displayedDestination.branchPointer===e.initSelectedDoc)}}function gCe(n,t){if(1&n&&(_(0,"div",30)(1,"span",40),H(2,"featured_seasonal_and_gifts"),b(),_(3,"span",41),H(4),b()()),2&n){const e=C(2);f(4),Ae(e.birthDateDisplay)}}function _Ce(n,t){if(1&n&&(_(0,"div",31)(1,"span",40),H(2,"call"),b(),_(3,"a",42),H(4),b()()),2&n){const e=C(2);f(3),K("href",en(e.ctiProtocol()+e.displayedDestination.additional.phone),In),f(),Ae(e.displayedDestination.additional.phone)}}function bCe(n,t){if(1&n&&(_(0,"div",31)(1,"span",40),H(2,"phone_android"),b(),_(3,"a",42),H(4),b()()),2&n){const e=C(2);f(3),K("href",en(e.ctiProtocol()+e.displayedDestination.additional.cellphone),In),f(),Ae(e.displayedDestination.additional.cellphone)}}function yCe(n,t){if(1&n&&(_(0,"div",31)(1,"span",40),H(2,"call"),b(),H(3),b()),2&n){const e=C(2);f(3),Xe(" ",e.displayedDestination.additional.phone," ")}}function vCe(n,t){if(1&n&&(_(0,"div",31)(1,"span",40),H(2,"phone_android"),b(),H(3),b()),2&n){const e=C(2);f(3),Xe(" ",e.displayedDestination.additional.cellphone," ")}}function CCe(n,t){if(1&n){const e=Ne();_(0,"div",12)(1,"div",20),te(2,aCe,7,4,"div",21),te(3,cCe,2,1,"div",21),_(4,"div",22)(5,"div",23)(6,"div",24)(7,"a",25),H(8),b(),te(9,lCe,3,1,"div",26),b(),_(10,"mat-checkbox",27,1),ae("change",function(r){return Y(e),Q(C().destinationSelectorClicked(r))}),b()(),_(13,"div",23)(14,"div",24),te(15,dCe,2,3,"a",28),te(16,uCe,3,1,"div",26),b(),te(17,hCe,3,2,"mat-checkbox",29),b(),_(18,"div",23)(19,"div",24),te(20,mCe,2,3,"a",28),te(21,pCe,3,1,"div",26),b(),te(22,fCe,3,2,"mat-checkbox",29),b()()(),te(23,gCe,5,1,"div",30),te(24,_Ce,5,3,"div",31),te(25,bCe,5,3,"div",31),te(26,yCe,4,1,"div",31),te(27,vCe,4,1,"div",31),b()}if(2&n){const e=C();f(2),ne(e.destinationsToDisplay&&e.destinationsToDisplay.length>1?2:-1),f(),ne(e.destinationsToDisplay&&1===e.destinationsToDisplay.length?3:-1),f(4),K("href",e.displayedDestination.url,In)("title",e.displayedDestination.name),f(),Ae(e.displayedDestination.name),f(),ne(e.settings.LinkOptionActive&&!e.globals.infoShower.isReadMode?9:-1),f(),K("name",e.displayedDestination.pointer)("checked",e.initSelectedDoc&&e.displayedDestination.pointer===e.initSelectedDoc),f(5),ne(!e.displayedDestination.isCompany&&e.displayedDestination.companyName&&e.displayedDestination.companyName.length>0?15:-1),f(),ne(!e.displayedDestination.isCompany&&e.displayedDestination.companyName&&e.displayedDestination.companyName.length>0&&e.settings.LinkOptionActive&&!e.globals.infoShower.isReadMode?16:-1),f(),ne(!e.displayedDestination.isCompany&&e.displayedDestination.companyName&&e.displayedDestination.companyName.length>0?17:-1),f(3),ne(e.displayedDestination.branchName&&e.displayedDestination.branchName.trim().length>0&&e.displayedDestination.branchName!==e.displayedDestination.companyName?20:-1),f(),ne(e.settings.LinkOptionActive&&!e.globals.infoShower.isReadMode?21:-1),f(),ne(e.displayedDestination.branchName&&e.displayedDestination.branchName.trim().length>0&&e.displayedDestination.branchName!==e.displayedDestination.companyName&&e.displayedDestination.branchPointer?22:-1),f(),ne(e.birthDateDisplay?23:-1),f(),ne(e.displayedDestination.additional.phone&&e.isCtiProtocolText()?24:-1),f(),ne(e.displayedDestination.additional.cellphone&&e.isCtiProtocolText()?25:-1),f(),ne(e.displayedDestination.additional.phone&&!e.isCtiProtocolText()?26:-1),f(),ne(e.displayedDestination.additional.cellphone&&!e.isCtiProtocolText()?27:-1)}}function wCe(n,t){if(1&n&&(_(0,"div")(1,"div"),H(2),b()()),2&n){const e=C();f(2),Ae(e.globals.languageConfLocal.emailNotFoundInCRM)}}function DCe(n,t){if(1&n&&(_(0,"div")(1,"div"),H(2),b()()),2&n){const e=C();f(2),Ae(e.globals.languageConfLocal.afterSendNoAutomaticDocument)}}function xCe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"button",43),ae("click",function(){return Y(e),Q(C().quickCreate())}),H(2),b()()}if(2&n){const e=C();f(),K("disabled",!e.permissionService.canCreateContactAndCompany()||!e.extractedContactData)("title",e.globals.languageConfLocal.ContactQuickCreation),f(),Xe(" ",e.globals.languageConfLocal.ContactQuickCreation," ")}}function ECe(n,t){if(1&n&&(_(0,"mat-option",45),H(1),b()),2&n){const e=C(2);f(),Ae(e.globals.languageConfLocal.loading||"Loading...")}}function SCe(n,t){if(1&n&&(_(0,"mat-option",17),H(1),b()),2&n){const e=t.$implicit;K("value",e.db),f(),Xe(" ",e.alias," ")}}function kCe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",14)(1,"mat-label"),H(2),b(),_(3,"mat-select",44),Pt("valueChange",function(r){Y(e);const o=C();return Bt(o.selectedOfficeDB,r)||(o.selectedOfficeDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C().setOfficeDB())}),te(4,ECe,2,1,"mat-option",45),hn(5,SCe,2,2,"mat-option",17,kn),b()()}if(2&n){const e=C();f(2),Ae(e.globals.languageConfLocal.officeDatabase),f(),Ot("value",e.selectedOfficeDB),K("disabled",e.officeDBsLoading),f(),ne(e.officeDBsLoading?4:-1),f(),mn(e.officeDatabases)}}function ACe(n,t){if(1&n&&(_(0,"mat-form-field",14)(1,"mat-label"),H(2),b(),ve(3,"input",46),b()),2&n){const e=C();f(2),Ae(e.globals.languageConfLocal.officeDatabase),f(),K("value",e.officeDatabases[0].alias)}}let TCe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,m,g){this.globals=e,this.messageService=i,this.addressService=r,this.translate=o,this.datasource=s,this.ref=a,this.connectionService=c,this.waitListService=l,this.lsm=d,this.imageService=u,this.settings=h,this.permissionService=m,this.graph=g,this.console=new li("InfoShowerComponent"),this.isNew=!0,this.isUpdate=!1,this.searchTextInput="",this.searchValue="",this.selection=new mp(!1),this.showRecentlyUsed=!0,this.isSet=!1,this.itRuns=!1,this.noneSelected=!1,this.whatItemIsThis="",this.theOwnerText="",this.theAssignedText="",this.primaryRecipients="",this.secondaryRecipients="",this.primaryPointer="",this.showDocumentButton=!1,this.officeDBsLoading=!1,this.officeDBsRequestId=0,this.doNotDocConst="doNotDocument",this.manualSelectionMade=!1,this.composeInitDone=!1,this.isSentByCurrentUser=!1,this.pendingDocTargetSaveId=0,this.noFooterInfo=!1,this.pendingDocMark=!1,this.isMultiSelectDocumenting=!1,this.incomingRecognition=new RegExp("(X-MS-Exchange-Organization-MessageDirectionality): *(Incoming|Originating)"),this.subscriptions=[],this.currentAvatarURL="",this.filteredAdditionalValues={},this.commonPointerData={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1,this.initialComposeRecipientSelected=!1,this.extractedContactData=new Zc}ngOnInit(){this.recognizeCurrentItem();let e=Office.context.mailbox.item;e?.addHandlerAsync(Office.EventType.RecipientsChanged,this.recipientChanged,{asyncContext:this},i=>{Office}),this.waitForDocumentDestinationCheckChanged().subscribe({next:()=>{this.detectChanges()}}),this.datasource.getProductVersion().subscribe(i=>{this.globals.backendVersion=i}),this.waitForItemRecognition().subscribe(i=>{if("appointment"===e?.itemType)this.graph.getExtendedData(this.currentItemId).subscribe(r=>{r&&(r.selEm===this.doNotDocConst&&(this.noneSelected=!0,this.noMoreAutoSelect=!0),void 0!==this.contactCreationOpened&&(this.contactCreationOpened=void 0),void 0===r.documentTarget&&void 0===r.selEm?(this.isNew=!0,this.lsm.setValue(Ht.appointmentIsNew,"1")):this.isNew="1"===this.lsm.getValue(Ht.appointmentIsNew),"gi"===this.globals.system?this.globals.infoShower.isReadMode?this.graph.getExtendedData(i).subscribe(o=>{this.finishAppointmentProcessing(o)}):e?.requiredAttendees.getAsync(o=>{this.isNew&&void 0===r.docEm&&o.value.length>0&&(r.selEm=o.value[0].emailAddress,r.docEm=o.value[0].emailAddress,this.graph.saveExtendedData(i,r).subscribe(s=>{this.finishAppointmentProcessing(r)}))}):this.finishAppointmentProcessing(r))});else{if(!e){this.graph.getExtendedData(this.currentItemId).subscribe({next:o=>{o?(o.selEm===this.doNotDocConst&&(this.noneSelected=!0,this.noMoreAutoSelect=!0),this.finishEmailProcessing(o)):this.finishEmailProcessing(new Na)},error:()=>{this.finishEmailProcessing(new Na)}});const r=this.currentItemId?.replaceAll("/","-");return void(r&&this.graph.graphClient.api(`/me/messages/${r}`).select("body").get().then(o=>{o?.body?.content&&(this.convertedBody=(0,_u.convert)(o.body.content,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^ +/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),this.datasource.extractContactData(this.convertedBody).pipe(cl(s=>(this.noFooterInfo=!0,We({Company:"",CompanyPointer:"",CompanyEmail:"",CompanyPhone:"",CompanyFax:"",CompanyName:"",CompanyAddress:"",Street:"",City:"",ZipCity:"",Zip:"",Phone:"",Fax:"",Mobile:"",Email:"",Url:"",LastName:"",FirstName:"",MiddleName:"",Department:"",MainEmailAddressType:"",MainAddressType:""})))).subscribe(s=>{this.extractedContactData=s}))}).catch(()=>{}))}this.graph.saveExtendedData(this.currentItemId,new Na).subscribe(r=>{this.doProcessAddresses(),e?.body.getAsync(Office.CoercionType.Html,{},o=>{this.convertedBody=(0,_u.convert)(o.value,{preserveNewlines:!1,wordwrap:null}).trim().replace(/^\xa0+/gm,"").replace(/(\r\n|\r|\n){2,}/gm,"\n\n"),this.datasource.extractContactData(this.convertedBody).pipe(cl(s=>(this.noFooterInfo=!0,We({Company:"",CompanyPointer:"",CompanyEmail:"",CompanyPhone:"",CompanyFax:"",CompanyName:"",CompanyAddress:"",Street:"",City:"",ZipCity:"",Zip:"",Phone:"",Fax:"",Mobile:"",Email:"",Url:"",LastName:"",FirstName:"",MiddleName:"",Department:"",MainEmailAddressType:"",MainAddressType:""})))).subscribe(s=>{this.extractedContactData=s,this.console.info("extractedContactData ",this.extractedContactData)})})})}}),this.waitForUpdateBM4ODataCommand().subscribe(i=>{i.selEm=this.selectedEmailAddress,i.documentTarget=this.primaryPointer,i.selDest=this.displayedDestination?.pointer,i.otherDoc=!this.firstDocumentDestination.checked&&!this.secondDocumentDestination.checked,"gi"===this.globals.system&&(i.officeDB=this.selectedOfficeDB)}),this.globals.onActiveWindowChange().subscribe(i=>{"main"===i.newWindow&&"contactCreation"===i.currentWindow&&this.globals.contactCreated&&(this.globals.contactCreated=!1,this.ngOnInit()),"userSettings"===i.newWindow&&this.clearPendingDocMarkers()}),this.globals.infoShower=this;try{!this.originalShowSuccess&&this.messageService?.showSuccess&&(this.originalShowSuccess=this.messageService.showSuccess.bind(this.messageService),this.messageService.showSuccess=(i,r,o)=>{try{const s=this.pendingDocMark&&this.settings.AutoCategoryMark,a=this.pendingDocMark&&this.isReadMode,c=this.settings.PostDocAction,l=this.settings.PostDocFolderId,d=()=>new Promise(h=>{if(a&&c&&"none"!==c){const m="move"===c?l:void 0;try{const g=this.graph.executePostDocActionOnCurrentItem?.(c,m);g&&"function"==typeof g.subscribe?g.subscribe({next:()=>h(),error:()=>h(),complete:()=>h()}):h()}catch{h()}}else h()});new Promise(h=>{if(s){const m=this.settings.CategoryName||this.globals.languageConfLocal.documented;try{const g=this.graph.addCategoryToCurrentItem?.(m);g&&"function"==typeof g.subscribe?g.subscribe({next:()=>h(),error:()=>h(),complete:()=>h()}):h()}catch{h()}}else h()}).then(()=>d())}catch{}return this.clearPendingDocMarkers(),this.originalShowSuccess?.(i,r,o)}),!this.originalShowError&&this.messageService?.showError&&(this.originalShowError=this.messageService.showError.bind(this.messageService),this.messageService.showError=(i,r,o,s)=>(this.clearPendingDocMarkers(),this.originalShowError?.(i,r,o,s))),!this.originalShowWarning&&this.messageService?.showWarning&&(this.originalShowWarning=this.messageService.showWarning.bind(this.messageService),this.messageService.showWarning=(i,r,o)=>(this.clearPendingDocMarkers(),this.originalShowWarning?.(i,r,o)))}catch{}this.waitListService.notifyWaitList("init",!0)}finishAppointmentProcessing(e){this.initSelectedDoc=e?.documentTarget??"",e.otherDoc&&(this.initSelectedDoc=""),e.selEm?(this.console.info("Setting selectedEmailAddress from",this.selectedEmailAddress,"to",e.selEm),this.selectedEmailAddress=e.selEm,this.doSelectContactOverEmail(e.selEm,e.selDest)):(this.console.info("Setting selectedEmailAddress from",this.selectedEmailAddress,"to doNotDocConst"),this.selectedEmailAddress=this.doNotDocConst),this.doProcessAddresses(e)}isCtiProtocolText(){return"none"!==this.ctiProtocol()}ctiProtocol(){return""==this.globals.configJson?.ctiProtocol?"none":this.globals.configJson?.ctiProtocol?.toLowerCase()||"tel:"}recognizeCurrentItem(){let e=Office.context.mailbox.item;this.noMoreAutoSelect=!1,this.initialComposeRecipientSelected=!1,this.composeInitDone=!1,this.manualSelectionMade=!1,this.isSentByCurrentUser=!1,e?(this.globals.incomingMail=!1,this.isAppointment="appointment"===e.itemType,this.isAppointment?(this.whatItemIsThis="Meeting",this.recognizeAppointment(e)):"function"==typeof e.getAllInternetHeadersAsync?e.getAllInternetHeadersAsync(i=>{(i?.value?.length>0&&this.incomingRecognition.test(i.value)||e?.to[0].emailAddress===Office.context.mailbox.userProfile.emailAddress&&e.from.emailAddress.indexOf("noreply@microsoft.com")>0)&&(this.globals.incomingMail=!0),this.recognizeEmail(e)}):this.recognizeEmail(e)):Office.context.requirements.isSetSupported("Mailbox","1.13")&&this.recognizeMultiSelect(),"gi"===this.globals.system?(this.showRecentlyUsed=!1,this.isAppointment&&(this.showDocumentButton=!1)):this.isAppointment&&(this.showDocumentButton=!1)}recognizeMultiSelect(){Office.context.mailbox.getSelectedItemsAsync(e=>{if(e.status!==Office.AsyncResultStatus.Succeeded||!e.value||0===e.value.length)return;const r=e.value[0],o=r.itemId;this.isReadMode=!0,this.isAppointment=!1,this.isSentByCurrentUser=!1,this.globals.incomingMail=!0,this.whatItemIsThis="Email",this.showDocumentButton=!0,this.currentEmailSubject=r.subject||"",this.currentItemId=o,this.translate.get("translationWait").subscribe(()=>{this.theOwnerText=this.globals.languageConfLocal.sender,this.primaryRecipients="("+this.globals.languageConfLocal.to+") "+this.globals.languageConfLocal.recipients,this.secondaryRecipients="(Cc) "+this.globals.languageConfLocal.recipients,this.documentButtonTooltip=this.globals.languageConfLocal.DocumentTheMail+" "+this.currentEmailSubject});const s=o.replaceAll("/","-");this.graph.graphClient.api(`/me/messages/${s}`).select("from,toRecipients,ccRecipients,subject,internetMessageHeaders").get().then(a=>{const c=new E4;if(a.from?.emailAddress&&(c.fromEmail=a.from.emailAddress.address,c.fromName=a.from.emailAddress.name),a.toRecipients)for(const l of a.toRecipients){const d=new Iu;d.email=l.emailAddress.address,d.display=l.emailAddress.name,c.primary.push(d)}if(a.ccRecipients)for(const l of a.ccRecipients){const d=new Iu;d.email=l.emailAddress.address,d.display=l.emailAddress.name,c.secondary.push(d)}if(c.fromEmail&&(this.theSender=new Iu,this.theSender.display=c.fromName,this.theSender.email=c.fromEmail,this.theSender.fromEmail=!0),this.addresses=c.primary||[],this.theSender){const l=this.addresses.findIndex(d=>d.email.toLowerCase()===this.theSender.email.toLowerCase());l>=0&&this.addresses.length>1&&this.addresses.splice(l,1)}this.addresses2nd=c.secondary||[],this.addressesAll=(c.primary||[]).concat(c.secondary||[]),a.internetMessageHeaders&&a.internetMessageHeaders.find(d=>"received"===d.name.toLowerCase())&&(this.globals.incomingMail=!0),this.itemRecognized(),this.detectChanges()}).catch(a=>{this.console.error("Multi-select Graph fetch failed:",a),this.itemRecognized(),this.detectChanges()})})}getFormattedBirthdate(){const e=this.displayedDestination?.additional?.birthdate;if(!e)return null;if(!e.includes("T")&&!e.includes("-"))return e;const i=new Date(e);if(isNaN(i.getTime()))return null;const r=new Date,o=r.getFullYear();let s=new Date(i);s.setFullYear(o);let a=Math.floor((s.setHours(0,0,0,0)-r.setHours(0,0,0,0))/864e5);if(a<-7&&(s.setFullYear(o+1),a=Math.floor((s.setHours(0,0,0,0)-r.setHours(0,0,0,0))/864e5)),a>7||a<-3)return null;let l,c=o-i.getFullYear();return(r.getMonth()<i.getMonth()||r.getMonth()===i.getMonth()&&r.getDate()<i.getDate())&&c++,l=0===a?this.globals.languageConfLocal.today:1===a?this.globals.languageConfLocal.tomorrow:-1===a?this.globals.languageConfLocal.yesterday:i.toLocaleDateString(),`${l} (${c})`}recognizeEmail(e){if(e){this.isReadMode=void 0===e.getItemIdAsync||void 0===typeof e.getItemIdAsync;try{const r=(Office.context.mailbox.userProfile?.emailAddress||"").toLowerCase(),o=(e?.from?.emailAddress||"").toLowerCase();this.isSentByCurrentUser=!!r&&!!o&&r===o&&this.isReadMode}catch{this.isSentByCurrentUser=!1}this.whatItemIsThis="Email",this.translate.get("translationWait").subscribe(()=>{this.theOwnerText=this.globals.languageConfLocal.sender,this.primaryRecipients="("+this.globals.languageConfLocal.to+") "+this.globals.languageConfLocal.recipients,this.secondaryRecipients="(Cc) "+this.globals.languageConfLocal.recipients}),this.showDocumentButton=this.isReadMode;let i="1"===this.lsm.getValue(Ht.sendInProcess);this.isReadMode?(this.translate.get("translateWait").subscribe(()=>{this.documentButtonTooltip=this.globals.languageConfLocal.DocumentTheMail+" "+e?.subject}),this.currentEmailSubject=e.subject,this.currentItemId=e.itemId,this.itemRecognized()):e.saveAsync&&"function"==typeof e.saveAsync&&this.datasource.IsTaskpaneActive()&&!i&&e.saveAsync(r=>{this.currentItemId=r.value,this.itemRecognized()})}}recognizeAppointment(e){this.isReadMode=void 0===e.getItemIdAsync||void 0===typeof e.getItemIdAsync,this.translate.get("translationWait").subscribe(()=>{this.updateButtonTooltip=this.globals.languageConf.updateButtonTooltip,this.theOwnerText=this.globals.languageConfLocal.owner,this.theAssignedText=this.globals.languageConfLocal.assignedTo,this.primaryRecipients=this.globals.languageConfLocal.requiredAttendee,this.secondaryRecipients=this.globals.languageConfLocal.optionalAttendee});let i="1"===this.lsm.getValue(Ht.sendInProcess);if("function"==typeof e.saveAsync&&this.datasource.IsTaskpaneActive()&&!i){let r=e;e.saveAsync(o=>{r?.getItemIdAsync(s=>{this.currentItemId=s.value,this.itemRecognized()})})}else this.currentItemId=e.itemId,this.itemRecognized()}finishEmailProcessing(e){if(this.theSender&&this.addressesAll&&!this.addressesAll.some(i=>i.email===this.theSender.email)&&this.addressesAll.push(this.theSender),this.addressesAll&&this.addressesAll.length>0){const i=this.addressesAll.find(r=>r&&r.fromEmail);if(i?.email){this.selectedEmailAddress=i.email;try{this.lsm.setValue(Ht.selectedEmail,i.email)}catch{}}}this.detectChanges(),this.itRuns=!1,this.findCRMAddress(0,e)}detectChanges(){this.ref.detectChanges()}clearPendingDocMarkers(){if(this.pendingDocMark=!1,this.pendingDocClearTimer){try{clearTimeout(this.pendingDocClearTimer)}catch{}this.pendingDocClearTimer=null}}resetPendingDocActionState(){this.clearPendingDocMarkers()}ngOnDestroy(){clearInterval(this.refreshInt);for(const e of this.subscriptions)e.unsubscribe();try{this.originalShowSuccess&&(this.messageService.showSuccess=this.originalShowSuccess),this.originalShowError&&(this.messageService.showError=this.originalShowError),this.originalShowWarning&&(this.messageService.showWarning=this.originalShowWarning)}catch{}this.clearPendingDocMarkers()}doProcessAddresses(e){this.itRuns||(this.itRuns=!0,this.addressService.newProcessAddress().subscribe({next:i=>{(this.isReadMode||this.isAppointment?this.graph.getExtendedData(this.currentItemId):We(new Na)).subscribe(o=>{if(i.fromEmail&&(this.theSender=new Iu,this.theSender.display=i.fromName,this.theSender.email=i.fromEmail,this.theSender.fromEmail=!0),this.addresses=i.primary||[],this.theSender){const s=this.addresses.findIndex(a=>a.email.toLowerCase()===this.theSender.email.toLowerCase());s>=0&&this.addresses.length>1&&this.addresses.splice(s,1)}if(this.addresses2nd=i.secondary||[],this.addressesAll=(i.primary||[]).concat(i.secondary||[]),o&&o.docEm&&-1===this.addressesAll.findIndex(s=>s.email.toLowerCase()===o.docEm?.toLowerCase())&&(this.theAssignee=new Iu,this.theAssignee.email=o.docEm,this.theAssignee.display=o.docEm,this.addressesAll.push(this.theAssignee)),(!this.addressesAll||0===this.addressesAll.length)&&(!this.isReadMode&&!this.isAppointment&&(this.initialComposeRecipientSelected=!1,this.manualSelectionMade=!1,this.noMoreAutoSelect=!1),o.selEm=this.doNotDocConst,o.docEm=void 0,o.selDest=void 0,this.graph.saveExtendedData(this.currentItemId,o).subscribe(()=>{this.selectNothing()})),this.theSender&&this.addressesAll.push(this.theSender),!this.isReadMode&&!this.isAppointment&&(this.composeInitDone||(this.composeInitDone=!0,this.selectedEmailAddress=this.doNotDocConst,this.noneSelected=!0,this.graph.getExtendedData(this.currentItemId).subscribe(s=>{s.selEm=this.doNotDocConst,s.documentTarget="",s.selDest="",this.graph.saveExtendedData(this.currentItemId,s).subscribe(()=>{})})),this.settings.AutoDocument&&!this.initialComposeRecipientSelected&&!this.manualSelectionMade)){const s=(this.addressesAll||[]).find(a=>a&&a.email&&!a.fromEmail);if(s?.email){this.initialComposeRecipientSelected=!0,this.selectedEmailAddress=s.email;try{this.selectedContactChanged(null,s.email,null)}catch{}return this.itRuns=!1,void this.detectChanges()}}if(this.isReadMode&&(!this.selectedEmailAddress||this.selectedEmailAddress===this.doNotDocConst)&&(!e||!e.selEm)&&this.addressesAll&&this.addressesAll.length>0)if(this.isSentByCurrentUser){const s=this.addressesAll.find(a=>a&&!a.fromEmail);if(s?.email){this.selectedEmailAddress=s.email;try{this.lsm.setValue(Ht.selectedEmail,s.email)}catch{}try{this.selectedContactChanged(null,s.email)}catch{}}}else{const s=this.addressesAll.find(a=>a&&a.fromEmail);if(s?.email){this.selectedEmailAddress=s.email;try{this.lsm.setValue(Ht.selectedEmail,s.email)}catch{}try{this.selectedContactChanged(null,s.email)}catch{}}}this.detectChanges(),this.itRuns=!1,this.findCRMAddress(0,e)},o=>{this.itRuns=!1,this.detectChanges()})},error:()=>{this.itRuns=!1}}))}findCRMAddress(e,i){if(this.noMoreAutoSelect)return;if(i){let s=i.selEm;if(s)return void this.fetchEmailDataFromCRM(s,e,!0,i)}if(this.isReadMode&&this.isSentByCurrentUser){const s=this.addressesAll?.find(a=>a&&!a.fromEmail);if(s)return void this.fetchEmailDataFromCRM(s.email,e,!0,i)}if(this.globals.incomingMail){let s=this.addressesAll.find(a=>a.fromEmail);if(s)return void this.fetchEmailDataFromCRM(s.email,e,!0,i)}if(this.addressesAll.some(s=>s.email===this.selectedEmailAddress)||(this.addressesAll[e]&&this.addressesAll[e].fromEmail&&this.findCRMAddress(e+1),e+1<=this.addressesAll.length))return;if(0===this.addressesAll.length)return void this.clearPerMailSelection();this.selectNothing(),this.detectChanges();let r=this.addressesAll[e];r.fromEmail||this.fetchEmailDataFromCRM(r.email,e,!1,i)}fetchEmailDataFromCRM(e,i,r=!1,o){let s=new Yt;s=s.set("mail",e),this.connectionService.processAddress(s).subscribe(a=>{if(!a||!a.data||0===a.data.length)return this.noneSelected=!0,this.displayedDestination=null,this.destinationsToDisplay=[],this.initSelectedDoc="",this.selectedAddressDetails={},this.currentAvatarURL="",this.attachRdy=!1,this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,void this.graph.getExtendedData(this.currentItemId).subscribe(c=>{c.selEm=e,c.selDest="",c.officeDB="",this.graph.saveExtendedData(this.currentItemId,c).subscribe(()=>{this.detectChanges()})});this.selectedAddressDetails=a,Array.isArray(this.selectedAddressDetails?.data)&&this.selectedAddressDetails.data.length>0?this.processAvatar(this.selectedAddressDetails.data[0]):this.currentAvatarURL="",this.definePossibleDestinations().subscribe(()=>{Array.isArray(this.selectedAddressDetails?.data)&&this.selectedAddressDetails.data.length>0?void 0===this.selectedEmailAddress||!this.addressesAll.some(c=>c.email===this.selectedEmailAddress)||this.noneSelected||e&&e!==this.selectedEmailAddress?(this.selectedEmailAddress=e,this.selectedContactChanged(null,e,this.selectedAddressDetails.data[0].pointer),this.destinationChanged(o)):(this.detectChanges(),this.destinationChanged(o)):r||this.findCRMAddress(i+1)})},a=>{this.console.warn("fetchEmailDataFromCRM error",a),this.clearPerMailSelection()})}processAvatar(e){let i=e?.additional?.imageURL,r=e?.additional?.base64image,o=e?.additional?.gender;r?(r.startsWith("data:image")||(r="data:image/jpeg;base64,"+r),this.currentAvatarURL=r):this.currentAvatarURL=i?this.imageService.getImgUrl(i):this.imageService.getLocalImgUrl(o,e?.isCompany||e?.isCompanyProfile)}clearPerMailSelection(){this.noMoreAutoSelect=!0,this.selectedEmailAddress=this.doNotDocConst,this.primaryPointer="",this.displayedDestination=null,this.destinationsToDisplay=[],this.initSelectedDoc="",this.selectedAddressDetails={},this.currentAvatarURL="",this.attachRdy=!1,this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,this.detectChanges()}selectNothing(){this.console.info("Setting destinationsToDisplay from",this.destinationsToDisplay,"to empty array"),this.destinationsToDisplay=[],this.console.info("Setting displayedDestination from",this.displayedDestination,"to null"),this.displayedDestination=null,this.destinationChanged(),this.console.info("Setting selectedEmailAddress from",this.selectedEmailAddress,"to doNotDocConst"),this.selectedEmailAddress=this.doNotDocConst,this.noneSelected=!0,this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,this.detectChanges()}enforceExclusiveDocSelection(){try{let e=(this.destinationCheckboxes?.toArray()||[]).slice();if(this.globals.otherDestinationCheckboxes&&this.globals.otherDestinationCheckboxes.length>0&&(e=e.concat(this.globals.otherDestinationCheckboxes.toArray())),!e||0===e.length)return;let i="";this.initSelectedDoc&&e.some(r=>r.name===this.initSelectedDoc)?i=this.initSelectedDoc:this.displayedDestination?.pointer&&e.some(r=>r.name===this.displayedDestination.pointer)&&(i=this.displayedDestination.pointer),i?(e.forEach(r=>r.checked=r.name===i),this.checkboxChecker=!0,this.initSelectedDoc=i):(e.forEach(r=>r.checked=!1),this.checkboxChecker=!1),this.detectChanges()}catch{}}selectedContactChanged(e,i="",r=null){if(e&&e instanceof I5&&(this.manualSelectionMade=!0),this.initSelectedDoc="",this.unselectDestinations(),this.console.info("Selected Contact",e,i,r),this.isAppointment&&this.selectedEmailAddress===this.doNotDocConst){let o=new Na;return o.selEm=this.doNotDocConst,this.graph.saveExtendedData(this.currentItemId,o).subscribe(s=>{}),this.selectNothing(),this.noMoreAutoSelect=!0,void this.globals.hideSpinner()}this.noMoreAutoSelect=!i&&!r&&this.selectedEmailAddress===this.doNotDocConst,this.noneSelected=!1,i||(i=this.selectedEmailAddress),this.console.info("Settings correct email",i),this.lsm.setValue(Ht.selectedEmail,i),i&&i!==this.doNotDocConst?r?(this.initSelectedDoc=r,this.setDestinationInfo(r),this.detectChanges(),setTimeout(()=>this.enforceExclusiveDocSelection(),0)):this.doSelectContactOverEmail(i):(this.graph.getExtendedData(this.currentItemId).subscribe(o=>{o.selEm=i&&i.length>0?i:this.doNotDocConst,o.officeDB="",this.graph.saveExtendedData(this.currentItemId,o).subscribe(s=>{})}),this.globals.addressActivities.documentsAsDestinations=[],this.noneSelected=!0,this.console.info("Setting displayedDestination from",this.displayedDestination,"to null"),this.displayedDestination=null,this.selectedAddressDetails={},this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,this.destinationChanged(),this.detectChanges(),this.console.info("Selected nothing")),this.globals.hideSpinner()}doSelectContactOverEmail(e,i){let r=new Yt;r=r.set("mail",e),this.connectionService.processAddress(r).subscribe(o=>{this.selectedAddressDetails=o,this.console.info("Selected Addreses",this.selectedAddressDetails),this.definePossibleDestinations().subscribe(()=>{if(Array.isArray(this.selectedAddressDetails?.data)&&this.selectedAddressDetails.data.length>0){let s=this.getPreferredPointer();s&&(this.displayedDestination=this.destinationsToDisplay.find(a=>a.pointer===s)||null,this.initSelectedDoc=s,this.setDestinationInfo(s)),this.destinationChanged(),this.detectChanges(),setTimeout(()=>this.enforceExclusiveDocSelection(),0),i&&"appointment"===Office.context.mailbox.item?.itemType?(this.console.info("Setting displayedDestination to found destination with pointer",i),this.displayedDestination=this.destinationsToDisplay.find(a=>a.pointer===i),this.console.info("displayedDestination now is",this.displayedDestination),this.processAvatar(this.displayedDestination),this.graph.getExtendedData(this.currentItemId).subscribe(a=>{this.initSelectedDoc=i,this.destinationChanged(a),this.detectChanges(),setTimeout(()=>this.enforceExclusiveDocSelection(),0)})):(this.console.info("Trying to set info"),s=this.getPreferredPointer(),s?(this.displayedDestination=this.destinationsToDisplay.find(a=>a.pointer===s)||null,this.initSelectedDoc=s,this.setDestinationInfo(s)):(this.displayedDestination=this.destinationsToDisplay[0]||null,this.displayedDestination&&(this.initSelectedDoc=this.displayedDestination.pointer,this.setDestinationInfo(this.displayedDestination.pointer))),this.destinationChanged(),this.detectChanges(),setTimeout(()=>this.enforceExclusiveDocSelection(),0))}else this.noneSelected=!0,this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,this.graph.getExtendedData(this.currentItemId).subscribe(s=>{this.console.info("Data for select (no CRM data)",s),s.selEm=e,s.selDest="",s.officeDB="",this.destinationChanged(s),this.detectChanges(),this.graph.saveExtendedData(this.currentItemId,s).subscribe(a=>{})}),setTimeout(()=>this.enforceExclusiveDocSelection(),0)})})}getPreferredPointer(){if(!this.selectedAddressDetails?.data||!Array.isArray(this.selectedAddressDetails.data))return"";const e=this.destinationsToDisplay.map(r=>r.pointer),i=this.selectedAddressDetails.data.find(r=>!r.isCompany&&!r.isCompanyProfile&&e.includes(r.pointer));return i?i.pointer:this.destinationsToDisplay[0]?.pointer||""}getOfficeDBs(e,i=null){if(!e)return;const r=++this.officeDBsRequestId;this.officeDBsLoading=!0,this.getDBConnections().subscribe(o=>{r===this.officeDBsRequestId&&(o?this.extractOfficeDBs(e,o,i,r):(this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1,this.detectChanges()))})}extractOfficeDBs(e,i,r=null,o){try{let s=e;const a=[];let c="";if(s)if(r===wl.activity){const l=this.extractDBFromPointer(s);i.hasOwnProperty(l)?this.extractOfficeDBsOfContact(s,i,a):(a.push({db:l,alias:""}),c=l)}else this.extractOfficeDBsOfContact(s,i,a);if(void 0===o||o===this.officeDBsRequestId){if(this.officeDatabases=a,this.officeDatabases.length>0){const l=this.selectedOfficeDB,d=this.lsm.getValue(Ht.officeDB);l&&this.officeDatabases.some(u=>u.db===l)?(this.selectedOfficeDB=l,d||setTimeout(()=>this.setOfficeDB(!0),0)):(this.selectedOfficeDB=c||this.officeDatabases[0].db,setTimeout(()=>this.setOfficeDB(!0),0))}else this.officeDatabases=[],this.selectedOfficeDB="";this.officeDBsLoading=!1,this.detectChanges(),this.officeDatabases.length<1&&this.translate.get("LC39396").subscribe(l=>{this.messageService.showError(l)})}}catch{this.translate.get("LC39396").subscribe(a=>{this.messageService.showError(a)}),this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1}}extractOfficeDBsOfContact(e,i,r){const s=i[this.extractDBFromPointer(e)].officeDBs;for(const a of s)r.push({db:a,alias:i.GeOfficeAliases[a]})}extractDBFromPointer(e){return e.substring(e.lastIndexOf("|")+1)}subdestinationClick(e){this.initSelectedDoc="",this.unselectDestinations(),this.console.info("Setting displayedDestination to found destination with pointer",e),this.displayedDestination=this.destinationsToDisplay.find(i=>i.pointer===e),this.console.info("displayedDestination now is",this.displayedDestination),this.destinationChanged(),this.setDestinationInfo(e),this.detectChanges(),setTimeout(()=>{this.initSelectedDoc=e,this.enforceExclusiveDocSelection()},0)}logDocTarget(e,i){try{this.console.info("[DocTargetTrace]",e,{documentTarget:i?.documentTarget,selDest:i?.selDest,selEm:i?.selEm,initSelectedDoc:this.initSelectedDoc,displayedDestination:this.displayedDestination?.pointer,destinationsCount:this.destinationsToDisplay?.length})}catch{}}definePossibleDestinations(){return new ie(e=>{const i=Array.isArray(this.selectedAddressDetails?.data)?this.selectedAddressDetails.data:[];let r=i.filter(o=>!o.isCompany&&!o.isCompanyProfile).map(o=>o.companyPointer);this.destinationsToDisplay=i.filter(o=>!o.isCompany||0===r.length||!r.some(s=>s===o.pointer)),this.destinationsToDisplay.length>0?(!this.displayedDestination||!this.displayedDestination.pointer||0===this.displayedDestination.pointer.length||!this.destinationsToDisplay.some(o=>o.pointer===this.displayedDestination.pointer))&&(this.getDBConnections().subscribe(o=>{if(o)for(let s of this.destinationsToDisplay){if(s.pointer){let a=this.extractDBFromPointer(s.pointer);s.dbTitle=o[a].title}this.console.info("destination is ",s)}}),this.displayedDestination=this.destinationsToDisplay[0]):this.displayedDestination=null,this.globals.mainDestinationCheckboxes=this.destinationCheckboxes,this.displayedDestination?this.graph.getExtendedData(this.currentItemId).subscribe(o=>{this.logDocTarget("before reconcile in definePossibleDestinations",o);const s=o.documentTarget||"",a=this.initSelectedDoc;let c=s;if(a&&this.destinationsToDisplay.some(u=>u.pointer===a)?c=a:!c&&this.displayedDestination&&(c=this.displayedDestination.pointer),c&&(!this.displayedDestination||this.displayedDestination.pointer!==c)){const u=this.destinationsToDisplay.find(h=>h.pointer===c);u&&(this.displayedDestination=u)}let l=!1;!s&&c?(o.documentTarget=c,l=!0):a&&a!==s&&this.destinationsToDisplay.some(u=>u.pointer===a)&&(o.documentTarget=a,l=!0),this.displayedDestination?.pointer&&o.selDest!==this.displayedDestination.pointer&&(o.selDest=this.displayedDestination.pointer,l=!0);const d=this.selectedEmailAddress||this.lsm.getValue(Ht.selectedEmail)||"";o.selEm!==d&&(o.selEm=d,l=!0),l?(this.logDocTarget("saving reconcile in definePossibleDestinations",o),this.graph.saveExtendedData(this.currentItemId,o).subscribe(()=>{setTimeout(()=>this.enforceExclusiveDocSelection(),0),e.next(void 0)})):(this.logDocTarget("no change needed in definePossibleDestinations",o),setTimeout(()=>this.enforceExclusiveDocSelection(),0),e.next(void 0))}):(setTimeout(()=>this.enforceExclusiveDocSelection(),0),e.next(void 0))})}setOfficeDB(e=!1){if(!e&&this.officeDBsLoading)return;const i=this.lsm.getValue(Ht.officeDB);(e||i!==this.selectedOfficeDB)&&((Office.context.mailbox.item||this.currentItemId)&&(this.lsm.setValue(Ht.officeDB,this.selectedOfficeDB),this.graph.getExtendedData(this.currentItemId).subscribe(o=>{o.officeDB=this.selectedOfficeDB,this.graph.saveExtendedData(this.currentItemId,o).subscribe(s=>{})})),this.documentDestinationCheckChanged(),e||this.globals.tagSelector?.onOfficeDbChanged(this.selectedOfficeDB,{init:!1}))}destinationSelectorClicked(e){if(this.manualSelectionMade=!0,e.checked){this.graph.getExtendedData(this.currentItemId).subscribe(r=>{r.otherDoc=!1,this.graph.saveExtendedData(this.currentItemId,r).subscribe(o=>{})});let i=this.destinationCheckboxes.toArray();this.globals.otherDestinationCheckboxes&&this.globals.otherDestinationCheckboxes.length>0&&(i=i.concat(this.globals.otherDestinationCheckboxes.toArray())),i.forEach(r=>{r.name!==e.source.name&&(r.checked=!1)}),this.initSelectedDoc=e.source.name,this.checkboxChecker=!0,this.setDestinationInfo(e.source.name)}else this.initSelectedDoc===e.source.name&&(this.initSelectedDoc=""),this.checkboxChecker=!1,this.setDestinationInfo("");this.updatePrimaryPointerFromCheckboxes(),this.detectChanges(),setTimeout(()=>{this.console.info("docs as dest: ",this.globals.addressActivities.documentsAsDestinations),this.console.info("otherDestinationCheckboxes: ",this.globals.otherDestinationCheckboxes),this.console.info("otherDestinationCheckboxes.length: ",this.globals.otherDestinationCheckboxes.length),this.console.info("initSelectedDoc: ",this.initSelectedDoc),this.console.info("displayedDestination.pointer: ",this.displayedDestination.pointer),this.console.info("displayedDestination.companypointer: ",this.displayedDestination.companyPointer)},2e3),setTimeout(()=>this.enforceExclusiveDocSelection(),0)}selectFirst(){let e=new A5;e.source=this.firstDocumentDestination,e.checked=!0,this.firstDocumentDestination&&(this.firstDocumentDestination.checked=!0,this.destinationSelectorClicked(e))}tracker(e,i){return i.email}collapsibleClicked(e){let i=e.currentTarget;i.classList.toggle("active");let r=i.nextElementSibling;r.classList.contains("initOpened")&&(r.classList.remove("initOpened"),r.classList.add("content"),r.style.maxHeight=r.scrollHeight+"px"),r.style.maxHeight=r.style.maxHeight?null:r.scrollHeight+"px"}unselectDestinations(){this.secondDocumentDestination&&(this.secondDocumentDestination.checked=!1),this.firstDocumentDestination&&(this.firstDocumentDestination.checked=!1),this.branchDocumentDestination&&(this.branchDocumentDestination.checked=!1)}tabChanged(e){this.destinationChanged()}destinationChanged(e){let i=this.displayedDestination;"INITIALIZE"===e?.selDest&&this.firstDocumentDestination&&(this.unselectDestinations(),e.otherDoc||(this.firstDocumentDestination.checked=!0),this.displayedDestination?.pointer&&(this.initSelectedDoc=this.displayedDestination.pointer)),this.noneSelected&&(this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1),this.processAvatar(i),this.birthDateDisplay=this.getFormattedBirthdate();for(const r of this.waitListService.accessWaitList("destinationChanged"))r.next(i)}waitForDestinationChange(){return new ie(e=>{this.waitListService.addToWaitList("destinationChanged",e)})}waitForDocumentDestinationCheckChanged(){return new ie(e=>{this.waitListService.addToWaitList("documentDestinationCheckChanged",e)})}documentDestinationCheckChanged(){let e=this.displayedDestination;for(const i of this.waitListService.accessWaitList("documentDestinationCheckChanged"))i.next(e)}itemRecognized(){if(this.isAppointment)this.datasource.readCRMDataForItem(this.currentItemId).subscribe(()=>{for(const e of this.waitListService.accessWaitList("itemRecognized"))e.next(this.currentItemId)});else for(const e of this.waitListService.accessWaitList("itemRecognized"))e.next(this.currentItemId)}waitForItemRecognition(){return new ie(e=>{this.waitListService.addToWaitList("itemRecognized",e)})}documentItem(){const e=Office.context.mailbox.item;!e&&!this.currentItemId||this.graph.getExtendedData(this.currentItemId).subscribe(i=>{let r="";try{const c=this.globals.addressActivities?.documentsAsDestinations;if(Array.isArray(c)&&c.length>0){const l=c[0];r=String(l.pointer||l.fdMe||"").trim()}}catch{}let o="";try{"function"==typeof this.getSelectedDestinationPointer&&(o=String(this.getSelectedDestinationPointer()||"").trim()),o||(o=String(this.primaryPointer||this.displayedDestination?.pointer||this.initSelectedDoc||"").trim())}catch{}const s=(r||o||i.documentTarget||"").trim();if(!s)return;if(i.documentTarget=s,"gi"===this.globals.system){const c=this.selectedOfficeDB||"";c&&(i.officeDB=c)}if(!e&&this.currentItemId)return void this.graph.saveExtendedData(this.currentItemId,i).subscribe({next:()=>this.documentMultipleItems(i),error:()=>this.documentMultipleItems(i)});const a=e||{itemType:"message"};this.graph.saveExtendedData(this.currentItemId,i).subscribe({next:()=>this.startDocumentation(a,i),error:()=>this.startDocumentation(a,i)})})}documentMultipleItems(e){var i=this;this.isMultiSelectDocumenting=!0,this.globals.showSpinner(),Office.context.mailbox.getSelectedItemsAsync(function(){var r=E(function*(o){if(o.status!==Office.AsyncResultStatus.Succeeded||!o.value||0===o.value.length)return i.globals.hideSpinner(),void(i.isMultiSelectDocumenting=!1);const s=o.value,a=[];for(const Ue of s)try{const Tt=Ue.itemId.replaceAll("/","-"),Wt=yield i.graph.graphClient.api(`/me/messages/${Tt}`).select("conversationId,receivedDateTime,subject").get();a.push({...Ue,conversationId:Wt?.conversationId||"",receivedDateTime:Wt?.receivedDateTime||""})}catch{a.push({...Ue,conversationId:"",receivedDateTime:""})}const c=new Map;for(const Ue of a){const Tt=Ue.conversationId||Ue.itemId,Wt=c.get(Tt);if(Wt){const Zn=Wt.receivedDateTime?new Date(Wt.receivedDateTime).getTime():0;(Ue.receivedDateTime?new Date(Ue.receivedDateTime).getTime():0)>Zn&&c.set(Tt,Ue)}else c.set(Tt,Ue)}const l=Array.from(c.values()),d=s.length-l.length;d>0&&i.console.info(`documentMultipleItems: deduplicated ${d} conversation duplicate(s) \u2013 ${s.length} \u2192 ${l.length} items`);const u=l.length;let h=0,m=0;i.console.info(`documentMultipleItems: starting loop for ${u} items`);const g={...e};g.type="mail";try{const Ue=i.globals.tagSelector?.enums;Ue&&Ue.length>0&&!g.tags&&(g.tags=JSON.stringify(Ue))}catch{}try{const Ue=i.globals.projectSelector,Tt=Ue?.projects,Wt=Ue?.projectPhases,Zn=(Tt||[]).concat(Wt||[]);Zn.length>0&&!g.selectedProjects&&(g.selectedProjects=JSON.stringify(Zn))}catch{}const y=i.selectedOfficeDB||i.lsm.getValue(Ht.officeDB)||"";y&&(g.officeDB=y);const v=i.settings?.AutoCategoryMark,F=i.settings?.CategoryName||i.globals.languageConfLocal?.documented||"Documented",q=i.isReadMode&&i.settings?.PostDocAction||"none",Se=i.settings?.PostDocFolderId||"",He="none"!==q;let Ke=!0;if("move"===q&&Se)try{Ke=yield new Promise(Ue=>{i.graph.folderExists(Se).subscribe(Tt=>Ue(!!Tt),()=>Ue(!1))}),Ke||(i.console.warn("documentMultipleItems: target folder does not exist, skipping move for all items"),i.messageService.showError(i.globals?.languageConfLocal?.postDocNoTargetFolder||"Zielordner existiert nicht. Verschieben abgebrochen."))}catch{Ke=!1}const Ft=[];for(let Ue=0;Ue<u;Ue++){const Tt=l[Ue],Wt=Tt.itemId;i.console.info(`documentMultipleItems: [${Ue+1}/${u}] documenting "${Tt.subject}" (${Wt})`);try{let Zn="";try{const rr=Wt.replaceAll("/","-"),Dl=(yield i.graph.graphClient.api(`/me/messages/${rr}`).select("internetMessageHeaders").get())?.internetMessageHeaders?.find(rt=>"reply-to"===rt.name.toLowerCase());if(Dl?.value){const rt=Dl.value.match(/<([^>]+)>/);Zn=rt?rt[1].trim():""}}catch{}const Fr={...g};Zn&&(Fr.replyTo=Zn);let bs=!1;if(yield new Promise((rr,Wv)=>{i.datasource.documentSingleItemByGraph(Wt,Fr).subscribe({next:()=>{h++,bs=!0,i.console.info(`documentMultipleItems: [${Ue+1}/${u}] success`),rr()},error:Dl=>{m++,i.console.error(`documentMultipleItems: [${Ue+1}/${u}] failed`,Dl),rr()}})}),bs){if(v)try{yield new Promise(rr=>{i.graph.addCategoryToItemById(Wt,F).subscribe({next:()=>rr(),error:()=>rr(),complete:()=>rr()})})}catch{}Ft.push(Wt),i.graph.getExtendedData(Wt).subscribe(rr=>{rr.selectedProjects="",rr.tags="",i.graph.saveExtendedData(Wt,rr).subscribe({next:()=>{},error:()=>{}})})}}catch(Zn){m++,i.console.error(`documentMultipleItems: [${Ue+1}/${u}] unexpected error`,Zn)}}if(He&&Ke&&Ft.length>0){const Ue=[...Ft].reverse();i.console.info(`documentMultipleItems: executing post-doc action '${q}' for ${Ue.length} items (reverse order)`);for(let Tt=0;Tt<Ue.length;Tt++){const Wt=Ue[Tt];try{const Zn="move"===q?Se:void 0;yield new Promise(Fr=>{i.graph.executePostDocActionOnItemById(Wt,q,Zn).subscribe({next:()=>{i.console.info(`documentMultipleItems: post-doc action [${Tt+1}/${Ue.length}] success for ${Wt}`),Fr()},error:()=>{i.console.warn(`documentMultipleItems: post-doc action [${Tt+1}/${Ue.length}] failed for ${Wt}`),Fr()}})}),Tt<Ue.length-1&&(yield new Promise(Fr=>setTimeout(Fr,300)))}catch{}}}i.globals.hideSpinner(),i.isMultiSelectDocumenting=!1,h>0&&(i.messageService.showSuccess(h===u?`${h} ${i.globals.languageConfLocal?.emailDocumented}`:`${h}/${u} ${i.globals.languageConfLocal?.emailDocumented}`),i.globals.projectSelector&&(i.globals.projectSelector.projects=[]),i.globals.tagSelector&&(i.globals.tagSelector.enums=[]),i.globals.addressActivities&&i.globals.addressActivities.removeDocumentDestination(null),i.globals.addressActivities&&i.globals.addressActivities.refresh()),m>0&&0===h&&i.messageService.showError(`${m} ${1===m?i.globals.languageConfLocal?.email:i.globals.languageConfLocal?.emails} could not be documented.`,"Error")});return function(o){return r.apply(this,arguments)}}())}getSelectedDestinationPointer(){return this.branchDocumentDestination?.checked?this.branchDocumentDestination.name||"":this.secondDocumentDestination?.checked?this.secondDocumentDestination.name||"":this.firstDocumentDestination?.checked&&this.firstDocumentDestination.name||""}updatePrimaryPointerFromCheckboxes(){const e=this.getSelectedDestinationPointer();e&&(this.primaryPointer=e,this.initSelectedDoc=e)}setDestinationInfo(e,i=null,r=!1){e&&!this.destinationsToDisplay.some(c=>c.pointer===e)&&i!==wl.activity&&(this.console.warn(`Pointer ${e} not available in destinationsToDisplay, falling back to first available`),e=this.destinationsToDisplay[0]?.pointer||""),this.primaryPointer=e,this.documentDestinationCheckChanged(),this.checkboxChecker=""!==e;const o=e,s=++this.pendingDocTargetSaveId;Office.context.mailbox.item&&(this.lsm.setValue(Ht.primaryTarget,o),this.graph.getExtendedData(this.currentItemId).subscribe(c=>{if(s!==this.pendingDocTargetSaveId)return;const l=this.selectedEmailAddress||this.lsm.getValue(Ht.selectedEmail)||"";let d=!1;if(c.selEm!==l&&(c.selEm=l,d=!0),i===wl.activity?(c.documentTarget!==o&&(c.documentTarget=o,d=!0,this.console.info("setDestinationInfo: Setting documentTarget for activity:",o)),c.otherDoc||(c.otherDoc=!0,d=!0,this.console.info("setDestinationInfo: Setting otherDoc to true for activity"))):(c.documentTarget!==o&&(c.documentTarget=o,d=!0),!!c.otherDoc!==r&&(c.otherDoc=r,d=!0)),this.displayedDestination?.pointer&&c.selDest!==this.displayedDestination.pointer&&(c.selDest=this.displayedDestination.pointer,d=!0),this.selectedOfficeDB&&c.officeDB!==this.selectedOfficeDB&&(c.officeDB=this.selectedOfficeDB,d=!0),d)this.console.info("setDestinationInfo: Saving extended data with documentTarget:",c.documentTarget,"otherDoc:",c.otherDoc),this.graph.saveExtendedData(this.currentItemId,c).subscribe(()=>{this.console.info("setDestinationInfo: Extended data saved successfully"),this.updatePrimaryPointerFromCheckboxes();const u=this.globals.addressActivities?.documentsAsDestinations&&Array.isArray(this.globals.addressActivities.documentsAsDestinations)&&this.globals.addressActivities.documentsAsDestinations.length>0;o&&(!this.noneSelected&&this.destinationsToDisplay&&this.destinationsToDisplay.length>0||u)?this.getOfficeDBs(o,i):(!o||this.noneSelected&&!u)&&(this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1)});else{this.console.info("setDestinationInfo: No changes to save, documentTarget:",c.documentTarget,"otherDoc:",c.otherDoc);const u=this.globals.addressActivities?.documentsAsDestinations&&Array.isArray(this.globals.addressActivities.documentsAsDestinations)&&this.globals.addressActivities.documentsAsDestinations.length>0;o&&(!this.noneSelected&&this.destinationsToDisplay&&this.destinationsToDisplay.length>0||u)?this.getOfficeDBs(o,i):(!o||this.noneSelected&&!u)&&(this.officeDBsRequestId++,this.officeDatabases=[],this.selectedOfficeDB="",this.officeDBsLoading=!1)}}))}getReplyToMail(e){if(!e||"function"!=typeof e.getAllInternetHeadersAsync){const i=this.currentItemId?.replaceAll("/","-");return i?new ie(r=>{this.graph.graphClient.api(`/me/messages/${i}`).select("internetMessageHeaders").get().then(o=>{const s=o?.internetMessageHeaders?.find(a=>"reply-to"===a.name.toLowerCase());if(s?.value){const a=s.value.match(/<([^>]+)>/);r.next(a?a[1].trim():"")}else r.next("");r.complete()}).catch(()=>{r.next(""),r.complete()})}):We("")}return new ie(i=>{e.getAllInternetHeadersAsync(r=>{if(r.status===Office.AsyncResultStatus.Succeeded){let s=r.value.match(/Reply-To:\s*([^\r\n]*)/i);if(s){let a=s[1].trim();this.console.info("Reply-To Address with name:",a);let c=a.match(/<([^>]+)>/);if(c){let l=c[1].trim();this.console.info("Extracted Reply-To Email Address:",l),i.next(l)}else this.console.info("No email address found between < >"),i.next("")}else this.console.info("No Reply-To header found"),i.next("")}else console.error("Error getting internet headers:",r.error),i.error(r.error);i.complete()})})}startDocumentation(e,i){if(i.documentTarget)if("appointment"===e?.itemType){const r=this.selectedOfficeDB||this.lsm.getValue(Ht.officeDB)||"";if(r&&(i.officeDB=r),i.type="appointment",this.pendingDocMark=!0,this.pendingDocClearTimer)try{clearTimeout(this.pendingDocClearTimer)}catch{}this.pendingDocClearTimer=setTimeout(()=>{this.pendingDocMark=!1,this.pendingDocClearTimer=null},6e4),this.datasource.documentItemWithUI(i)}else this.getReplyToMail(e).subscribe({next:r=>{r&&(this.console.info("replyTo is:",r),i.replyTo=r);const o=this.selectedOfficeDB||this.lsm.getValue(Ht.officeDB)||"";if(o&&(i.officeDB=o),i.type="mail",this.console.info("description is:",i),this.pendingDocMark=!0,this.pendingDocClearTimer)try{clearTimeout(this.pendingDocClearTimer)}catch{}this.pendingDocClearTimer=setTimeout(()=>{this.pendingDocMark=!1,this.pendingDocClearTimer=null},6e4),this.datasource.documentItemWithUI(i)},error:r=>{console.error("Error fetching Reply-To email:",r)}})}recipientChanged(e){document.getElementById("recipientsEventTrigger").click()}recipientsEventTrigger(){this.doProcessAddresses()}getDBConnections(){return new ie(e=>{this.datasource.fetchDBs("dbConnections",null).subscribe(i=>{e.next(i)})})}getHomepageUrl(e){return e&&e.length>0&&!e.toLowerCase().startsWith("http")?"http://"+e:e}quickCreate(){this.contactCreationOpened=this.isNew,this.displayedDestination&&this.displayedDestination.additional.fallback&&(this.extractedContactData.CompanyName=this.displayedDestination.name,this.extractedContactData.CompanyAddress=this.displayedDestination.additional.fullAddress,this.extractedContactData.CompanyPointer=this.displayedDestination.pointer),this.globals.activeWindow="contactCreation"}updateItem(){this.isUpdate=!0,this.updateBM4ODataCommand()}waitForUpdateBM4ODataCommand(){return new ie(e=>{this.waitListService.addToWaitList("updateBM4OData",e)})}updateBM4ODataCommand(){this.graph.getExtendedData(this.currentItemId).subscribe(e=>{for(const i of this.waitListService.accessWaitList("updateBM4OData"))i.next(e);this.graph.saveExtendedData(this.currentItemId,e).subscribe(i=>{this.isUpdate=!1,this.messageService.showSuccess(this.globals.languageConfLocal.crmDataUpdated)})})}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Bn),R(jve),R(zn),R(nr),R(qt),R(Lr),R(ki),R(Qi),R(Uve),R(ns),R(pp),R(Ks))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-info-shower"]],viewQuery:function(i,r){if(1&i&&Jt(Vve,5)(zve,5)(qve,5)($ve,5)(Gve,5),2&i){let o;_e(o=be())&&(r.selectedContact=o.first),_e(o=be())&&(r.firstDocumentDestination=o.first),_e(o=be())&&(r.secondDocumentDestination=o.first),_e(o=be())&&(r.branchDocumentDestination=o.first),_e(o=be())&&(r.destinationCheckboxes=o)}},standalone:!1,decls:22,vars:16,consts:[["selectedContact",""],["firstDocumentDestination","","docDestSelector",""],["menu","matMenu"],["docDestSelector","","secondDocumentDestination",""],["docDestSelector","","branchDocumentDestination",""],[1,"emailSubjectLine",3,"title"],["mat-flat-button","","color","documentBtn",2,"width","100%","margin-top","4px","margin-bottom","10px",3,"disabled","title"],["mat-flat-button","","color","documentBtn",2,"width","100%","margin-top","4px","margin-bottom","10px",3,"title"],["appearance","fill",1,"bm-form-field","noLabel",2,"width","100%"],[1,"documentationContactSelector",3,"ngModelChange","selectionChange","ngModel"],["value","doNotDocument",1,"doNotDocument"],[3,"label"],[1,"contactCardPart"],["hidden","","id","recipientsEventTrigger",3,"click"],["appearance","fill",1,"bm-form-field","databaseSearchSelect"],["mat-flat-button","","color","documentBtn",2,"width","100%","margin-top","4px","margin-bottom","10px",3,"click","disabled","title"],["mat-flat-button","","color","documentBtn",2,"width","100%","margin-top","4px","margin-bottom","10px",3,"click","title"],[3,"value"],[1,"displayInSelection"],[1,"emailInSelection"],[1,"destinationSelectorHolder"],[1,"destinationImage"],[1,"entrieAndCheckbox"],[1,"destFlexOver"],["id","hoverArea",1,"destFlex"],["target","_blank",1,"addressLabel","importantText",3,"href","title"],["id","overlayLinkMailinfo"],["color","primary",1,"destinationSelector",3,"change","name","checked"],["target","_blank",1,"addressLabel",3,"href","title"],["color","primary",1,"destinationSelector",3,"name","checked"],[1,"flexAlignCenter"],["id","hoverArea",1,"flexAlignCenter"],["mat-icon-button","","matBadgePosition","before","matBadgeSize","small","matBadgeOverlap","true",3,"matBadge","matMenuTriggerFor"],[3,"src","title"],["mat-menu-item","",3,"value","ngClass"],["mat-menu-item","",3,"valueChange","click","value","ngClass"],[3,"title"],[3,"src"],["id","overlayLinkMailinfo",3,"click"],[1,"material-symbols-rounded","LinkIcon",3,"title"],[1,"material-symbols-rounded"],[1,"webTelLink"],["target","_blank",1,"webTelLink",3,"href"],["mat-flat-button","","color","documentBtn",1,"documentQuickCreate",2,"width","100%","margin-top","0.7em","margin-bottom","0em",3,"click","disabled","title"],[3,"valueChange","selectionChange","value","disabled"],["disabled",""],["matInput","","disabled","",3,"value"]],template:function(i,r){if(1&i){const o=Ne();te(0,Wve,2,2,"div",5),te(1,Qve,3,3,"button",6),te(2,Xve,2,2,"button",7),_(3,"div")(4,"mat-form-field",8)(5,"mat-select",9,0),Pt("ngModelChange",function(a){return Y(o),Bt(r.selectedEmailAddress,a)||(r.selectedEmailAddress=a),Q(a)}),ae("selectionChange",function(a){return Y(o),Q(r.selectedContactChanged(a))}),_(7,"mat-select-trigger"),H(8),b(),te(9,Zve,2,1,"mat-option",10),te(10,eCe,3,1,"mat-optgroup",11),te(11,nCe,3,1,"mat-optgroup",11),te(12,iCe,6,4,"mat-optgroup",11),te(13,rCe,6,4,"mat-optgroup",11),b()()(),te(14,CCe,28,19,"div",12),te(15,wCe,3,1,"div"),te(16,DCe,3,1,"div"),te(17,xCe,3,3,"div"),_(18,"button",13),ae("click",function(){return Y(o),Q(r.recipientsEventTrigger())}),b(),ve(19,"br"),te(20,kCe,7,4,"mat-form-field",14),te(21,ACe,4,2,"mat-form-field",14)}2&i&&(ne(r.isReadMode&&!r.isAppointment?0:-1),f(),ne(r.showDocumentButton?1:-1),f(),ne(r.isNew?-1:2),f(3),Ot("ngModel",r.selectedEmailAddress),f(3),Xe(" ","doNotDocument"===r.selectedEmailAddress?r.globals.languageConfLocal.doNotDocument:r.selectedEmailAddress," "),f(),ne(!r.isReadMode||r.isAppointment?9:-1),f(),ne(r.addresses&&r.addresses.length>0?10:-1),f(),ne(r.addresses2nd&&r.addresses2nd.length>0?11:-1),f(),ne(r.theSender?12:-1),f(),ne(r.theAssignee?13:-1),f(),ne(r.displayedDestination?14:-1),f(),ne(!r.isAppointment&&r.destinationsToDisplay&&0===r.destinationsToDisplay.length&&"doNotDocument"!==r.selectedEmailAddress&&r.addressesAll.length>1?15:-1),f(),ne(r.isAppointment||!(r.noneSelected||r.destinationsToDisplay&&0===r.destinationsToDisplay.length)||r.isReadMode?-1:16),f(),ne(r.isReadMode&&!r.isAppointment&&(r.destinationsToDisplay&&0===r.destinationsToDisplay.length&&"doNotDocument"!==r.selectedEmailAddress&&r.addressesAll.length>1||r.displayedDestination&&r.displayedDestination.additional.fallback)?17:-1),f(3),ne(!r.isAppointment&&r.selectedEmailAddress!==r.doNotDocConst&&(!r.noneSelected||r.globals.addressActivities.documentsAsDestinations&&r.globals.addressActivities.documentsAsDestinations.length>0)&&(r.officeDBsLoading||r.officeDatabases&&r.officeDatabases.length>1)?20:-1),f(),ne(r.isAppointment||r.selectedEmailAddress===r.doNotDocConst||r.noneSelected&&!(r.globals.addressActivities.documentsAsDestinations&&r.globals.addressActivities.documentsAsDestinations.length>0)||r.officeDBsLoading||!r.officeDatabases||1!==r.officeDatabases.length?-1:21))},dependencies:[zh,Jo,ts,yu,bu,yV,mo,Gr,$a,M5,eo,M_e,po,Ra,Yoe,wbe,Fv],styles:['.emailSubjectLine{margin:auto;padding-top:30px;font-size:21px;font-weight:100;font-family:Segoe UI,"Segoe UI Web (West European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}.buttonP{float:left}.buttonN{float:right}.buttonContainer{width:100%;overflow:hidden}.pages{display:flex;width:400%;box-sizing:border-box}.page{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;transition:all .7s}.hidden{display:none}.grayDiv{background-color:#faf3f3}.mat-option{height:4em!important}.destinationSelectorHolder{display:grid;grid-template-columns:22% 78% 0%;padding-bottom:.15em;align-items:flex-start;gap:.3rem;row-gap:.12rem}.destinationSelectorHolder .destFlex{display:flex;align-items:center;justify-content:space-between}.destinationSelectorHolder .destinationImage+.destFlex{align-items:flex-start}mat-checkbox.destinationSelector{display:inline-flex!important;align-self:center!important;justify-self:end!important;align-items:center!important;margin:0!important;padding:0 0 0 3.5px!important}mat-checkbox.destinationSelector .mat-mdc-checkbox .mdc-checkbox__surface,mat-checkbox.destinationSelector .mat-mdc-checkbox .mdc-checkbox__background{width:18px!important;height:18px!important;border-radius:50%!important;box-sizing:border-box!important;overflow:visible!important}mat-checkbox.destinationSelector .mat-mdc-checkbox .mdc-checkbox__native-control{width:18px!important;height:18px!important;margin:0!important}mat-checkbox.destinationSelector .mat-mdc-checkbox .mdc-checkbox__checkmark{transform:scale(.85)!important;transform-origin:center!important;left:0!important;top:0!important}.destinationSelectorHolder .addressLabel,.destinationSelectorHolder .displayInSelection,.destinationSelectorHolder .emailInSelection{line-height:1.1!important;margin:0!important;padding:0!important;text-decoration:none!important}.contactCardPart{padding:5px;background-color:#0000000a;border-radius:0 0 5px 5px;border:1px solid #e5e5e5}.material-symbols-rounded{font-variation-settings:"FILL" 0,"wght" 300,"GRAD" -25,"opsz" 18}mat-checkbox.destinationSelector{transform:scale(1.08);display:inline-flex;vertical-align:middle}.destinationImage{grid-row:span 3}.destinationImage>button>* img,.destinationImage>img,.destinationImage>button{object-fit:cover;border-radius:50%;height:55px;width:55px}button{background-color:transparent}.mat-badge-content.mat-badge-active{top:.05em!important;left:.1em!important}.addressLabel{font-weight:600;margin-right:2px;max-width:100%;line-height:normal;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}table>tbody>tr>td{padding:0!important}mat-form-field.bm-form-field.noLabel{padding-top:0!important}mat-form-field.bm-form-field{display:block;width:100%;padding-top:3px;box-sizing:border-box;border-radius:5px;border:1px solid #e5e5e5;border-bottom:none;background:transparent}mat-form-field.bm-form-field .mat-mdc-form-field-bottom-align:before{display:none!important;height:0!important;content:none!important}mat-form-field.bm-form-field .mat-select-trigger,mat-form-field.bm-form-field .mat-select-value{width:100%;box-sizing:border-box}.mat-optgroup-label{background-color:#f0f0f0}.displayInSelection{height:1.1em}.emailInSelection{color:#616161;font-size:smaller}.webTelLink{padding-left:5px;vertical-align:top;font-size:11px!important;text-decoration:none!important}.doNotDocument{color:#f08080}.selectedDestination{background-color:#0000001f}mat-form-field.bm-form-field.noLabel>div{border-radius:5px;border-bottom:none}.mat-documentBtn,.mat-ticketBtn{background-color:#f28e00!important;color:#f0f0f0!important;font-size:initial!important}.databaseSearchSelect{padding-top:0!important;width:100%;margin-bottom:24px!important}.databaseSearchSelect .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:17px!important;font-size:12px!important}.databaseSearchSelect .mat-mdc-select-arrow-wrapper{padding-top:14px!important}.emailSubjectLine{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap;padding-bottom:5px;font-size:medium;padding-top:5px}#hoverArea{position:relative;height:auto;width:80%!important}#hoverArea:hover #overlayLinkMailinfo,#hoverArea:hover #overlayLinkMailinfo2{visibility:visible!important}#hoverArea:has(#overlayLinkMailinfo):hover .addressLabel,#hoverArea:has(#overlayLinkMailinfo2):hover .addressLabel{flex:0 0 80%!important;max-width:80%!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:flex-basis .16s ease,max-width .16s ease}.destFlex{display:flex;align-items:flex-start;justify-content:space-between}#overlayLinkMailinfo{visibility:hidden;position:absolute;cursor:pointer;top:-4px!important;right:5px!important;width:24px;height:24px;color:#202020;background-color:#fff;border-radius:16px;padding-top:0;padding-bottom:0;margin-top:0!important;color:#000000de;opacity:.7;transition:background-color .3s ease}#overlayLinkMailinfo:hover{background-color:#a9a9a9}#overlayLinkMailinfo2{color:#000000de;opacity:.7;visibility:hidden;position:absolute;cursor:pointer;top:0;right:25px;width:24x;height:24px;color:#202020;background-color:#fff;border-radius:16px;padding-top:0;padding-bottom:0;margin-top:0;transition:background-color .3s ease}#overlayLinkMailinfo2:hover{background-color:#a9a9a9}.flexAlignCenter{display:flex;align-items:center}.mat-mdc-form-field.bm-form-field .mat-mdc-form-field-infix,mat-form-field.bm-form-field.mat-mdc-form-field .mat-mdc-form-field-infix{min-height:34px!important;padding-top:8px!important;padding-bottom:8px!important}.mdc-icon-button{font-size:9px!important}.mat-mdc-icon-button.mat-mdc-button-base{padding:0!important}.mdc-icon-button svg,.mdc-icon-button img{width:100%!important;height:100%!important}.entrieAndCheckbox{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.destFlexOver{display:flex;justify-content:space-between!important;align-items:center!important;text-align:start!important;width:100%;max-height:24px!important}.destinationSelector{align-items:flex-start!important;width:20%!important}.documentationContactSelector{font-size:13px!important}.destinationImage>button{position:relative}.destinationImage>button .mat-badge-content{position:absolute!important;top:6px!important;left:6px!important;transform:translate(0)!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;min-width:14px!important;height:16px!important;padding:0 6px!important;line-height:18px!important;font-size:9px!important;font-weight:600!important;color:#fff!important;border-radius:50%!important;z-index:20!important}.destinationImage>button[matbadgeposition=before] .mat-badge-content,.destinationImage>button.mat-badge-before .mat-badge-content{left:6px!important;top:8px!important}.destinationImage>button .mat-badge-content *{color:inherit!important;font-size:inherit!important}:host ::ng-deep .documentQuickCreate{margin-bottom:.2em!important;box-sizing:border-box}\n'],encapsulation:2})}}return n})();const ICe=["docDestSelector"],MCe=n=>({activityItemListScrollable:n});function RCe(n,t){if(1&n){const e=Ne();_(0,"div",14),ae("click",function(){Y(e);const r=C().$implicit;return Q(C(2).datasource.addDocumentLinkToMail(r))}),_(1,"span",15),H(2,"link"),b()()}if(2&n){const e=C(3);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function OCe(n,t){if(1&n){const e=Ne();_(0,"mat-chip",8),ae("removed",function(){const r=Y(e).$implicit;return Q(C(2).removeDocumentDestination(r))}),ve(1,"img",9),_(2,"div",10),H(3),b(),te(4,RCe,3,1,"div",11),_(5,"button",12)(6,"span",13),H(7,"cancel"),b()()()}if(2&n){const e=t.$implicit,i=C(2);K("removable",!0)("title",e.name),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),Ae(e.name),f(),ne(i.settings.LinkOptionActive&&!i.globals.infoShower.isReadMode?4:-1),f(2),K("title",i.globals.languageConfLocal.removeFromList)}}function PCe(n,t){1&n&&ve(0,"input",7,1),2&n&&(C(),K("matChipInputFor",rn(4)))}function NCe(n,t){if(1&n&&(_(0,"mat-form-field",3)(1,"mat-label",4),H(2),b(),_(3,"mat-chip-grid",5,0),hn(5,OCe,8,6,"mat-chip",6,kn),te(7,PCe,2,1,"input",7),b()()),2&n){const e=C();K("floatLabel",e.documentsAsDestinations&&e.documentsAsDestinations.length?"always":"auto"),f(2),Ae(e.getDocumentedLabel()),f(3),mn(e.documentsAsDestinations),f(2),ne(e.documentsAsDestinations&&e.documentsAsDestinations.length>0?7:-1)}}function LCe(n,t){if(1&n&&(_(0,"mat-option",18),H(1),b()),2&n){const e=t.$implicit;K("value",e.alias),f(),Xe(" ",e.name," ")}}function FCe(n,t){if(1&n&&(_(0,"div",27),H(1),b()),2&n){const e=C().$implicit;K("title",e.lineTwoOverride),f(),Ae(e.lineTwoOverride)}}function BCe(n,t){if(1&n&&(_(0,"div",27),H(1),b()),2&n){const e=C().$implicit,i=C(3);K("title",e.fdTicketNo?e.subject+" "+i.formatDate(e.dateInMS,"dd.MM.yyyy HH:mm","en_US"):i.formatDate(e.dateInMS,"dd.MM.yyyy HH:mm","en_US")),f(),Xe(" ",e.fdTicketNo?e.subject+" "+i.formatDate(e.dateInMS,"dd.MM.yyyy HH:mm","en_US"):i.formatDate(e.dateInMS,"dd.MM.yyyy HH:mm","en_US")," ")}}function HCe(n,t){if(1&n){const e=Ne();_(0,"button",31),ae("click",function(){Y(e);const r=C().$implicit;return Q(C(3).datasource.addDocumentLinkToMail(r))}),_(1,"span",32),H(2,"link"),b()()}2&n&&K("title",C(4).globals.languageConfLocal.addLinkTextToMail)}function jCe(n,t){if(1&n){const e=Ne();_(0,"div",21)(1,"div",23),ve(2,"img",24),_(3,"a",25),ae("click",function(r){const o=Y(e).$implicit,s=C(3);return s.openInBrowser("gi"===s.globals.system?s.createWebintLink(o.pointer):o.url),Q(r.preventDefault())}),_(4,"div")(5,"div",26),H(6),b(),te(7,FCe,2,2,"div",27),te(8,BCe,2,2,"div",27),b()()(),_(9,"div",28),te(10,HCe,3,1,"button",29),_(11,"mat-checkbox",30,2),ae("change",function(r){const o=Y(e).$implicit;return Q(C(3).destinationActivitySelectorClicked(r,o.subject,o.viewIconUrl))}),b()()()}if(2&n){const e=t.$implicit,i=C(3);st("hasLink",i.settings.LinkOptionActive),f(2),K("src",e.viewIconUrl,In),f(3),K("title",e.subject),f(),Ae(e.fdTicketNo?e.fdTicketNo:e.subject),f(),ne(e.lineTwoOverride&&null!=e.lineTwoOverride?7:-1),f(),ne(e.lineTwoOverride&&null!=e.lineTwoOverride?-1:8),f(2),ne(i.settings.LinkOptionActive&&!i.globals.infoShower.isReadMode?10:-1),f(),K("name",e.pointer)("checked",e.pointer===i.initSelectedDoc)}}function UCe(n,t){if(1&n){const e=Ne();_(0,"div",33),ae("click",function(r){return Y(e),C(3).changeInformationState(),Q(r.preventDefault())}),H(1),b()}if(2&n){const e=C(3);f(),Xe(" ",e.hasMore?e.globals.languageConfLocal.showMore:e.globals.languageConfLocal.showLess," ")}}function VCe(n,t){if(1&n&&(_(0,"div",22),H(1),b()),2&n){const e=C(3);f(),Xe(" ",e.globals.languageConfLocal.giCouldHaveMore," ")}}function zCe(n,t){if(1&n&&(_(0,"div",22),H(1),b()),2&n){const e=C(3);f(),Ae(e.globals.languageConfLocal.noActivities)}}function qCe(n,t){if(1&n&&(_(0,"div",19),hn(1,jCe,13,10,"div",20,kn),te(3,UCe,2,1,"div",21),te(4,VCe,2,1,"div",22),te(5,zCe,2,1,"div",22),b()),2&n){const e=C(2);K("ngClass",CD(4,MCe,e.showMore||e.hasMore)),f(),mn(e.showActivities()),f(2),ne(e.hasMore||e.showMore?3:-1),f(),ne(e.giCouldHaveMore?4:-1),f(),ne(0===e.activities.length?5:-1)}}function $Ce(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",16)(2,"mat-select",17),Pt("valueChange",function(r){Y(e);const o=C();return Bt(o.selectedType,r)||(o.selectedType=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C().activityTypeChanged())}),hn(3,LCe,2,2,"mat-option",18,kn),b()(),te(5,qCe,6,6,"div",19),b()}if(2&n){const e=C();f(2),Ot("value",e.selectedType),f(),mn(e.types),f(2),ne(e.activities?5:-1)}}let GCe=(()=>{class n{constructor(e,i,r,o,s,a,c,l){this.globals=e,this.translate=i,this.mailLoadedService=r,this.ref=o,this.messageService=s,this.graph=a,this.datasource=c,this.settings=l,this.console=new li("AddressActivitiesComponent"),this.documentsAsDestinations=[],this.limit=10,this.increment=20,this.showMore=!1,this.hasMore=!1,this.giCouldHaveMore=!1,this.displayedColumns=["subject"],this.activity={},this.types=[],this.selectedType="0",this.activityDocImage={background:"no-repeat url(assets/images/icons_business_mail.png)"},this.selectArrow={background:"no-repeat url(assets/images/DropDownArrowOffsetRight.png) right"},this.headerText=""}ngOnInit(){this.globals.infoShower.waitForDestinationChange().subscribe({next:e=>{this.datasource.fetchActivityTypes(e?.pointer).subscribe(i=>{this.types=i,this.graph.getExtendedData(this.globals.infoShower.currentItemId).subscribe(r=>{this.selectedType=r?.docTyp,this.selectedType||(this.selectedType="gi"===this.globals.system?i[0].alias:i.find(s=>s.name.startsWith("Vorg")||s.name.startsWith("Activ"))?.alias??i[0].alias),"appointment"===Office.context.mailbox.item?.itemType&&r.otherDoc&&(this.initSelectedDoc=r?.documentTarget,this.datasource.getDocumentsChips([r.documentTarget]).subscribe(s=>{this.documentsAsDestinations=[],s.forEach(a=>{this.documentsAsDestinations.push({name:a.name,image:a.image,fdMe:a.fdMe})})})),this.loadRecentDocuments(e)})})}}),this.globals.infoShower.waitForDocumentDestinationCheckChanged().subscribe({next:()=>{const e=this.documentsAsDestinations&&Array.isArray(this.documentsAsDestinations)&&this.documentsAsDestinations.length>0;this.resetItems(),e?setTimeout(()=>{this.graph.getExtendedData(this.globals.infoShower.currentItemId).subscribe(i=>{i?.otherDoc||(this.documentsAsDestinations=[],this.detectChanges()),this.loadRecentDocuments(this.currentAddress)})},200):(this.documentsAsDestinations=[],this.detectChanges())}}),this.globals.addressActivities=this}loadRecentDocuments(e){if(null===e)return this.activities=null,void this.detectChanges();this.currentAddress=e,this.datasource.fetchActivities(this.currentAddress,this.limit+1).subscribe({next:i=>{if(this.console.info("Activities:",i),i.selectedType)this.selectedType=i.selectedType;else if(i.displayType){let r=this.types.find(o=>o.alias===i.displayType.toString());r&&(this.selectedType=r.alias)}if(i?.activities?.length>=0){if(i?.activities[0]?.viewIcon)for(let r of i.activities)r.viewIconUrl=this.datasource.getImageSrc(r.viewIcon);this.hasMore=i.activities.length>this.limit,this.activities=i.activities.slice(0,this.limit),this.giCouldHaveMore=i.hasMore||!1}this.detectChanges(),this.globals.otherDestinationCheckboxes=this.destinationCheckboxes},error:i=>{this.messageService.showError(i)}})}detectChanges(){this.ref.detectChanges()}refresh(){this.loadRecentDocuments(this.currentAddress)}createWebintLink(e){return this.globals.convertToLink(e)}formatDate(e,i,r){return SL(e,"dd.MM.yyyy HH:mm","en_US")}destinationActivitySelectorClicked(e,i,r){e.checked?(this.getAllCheckboxes().forEach(o=>{o.name!==e.source.name&&(o.checked=!1)}),this.globals.infoShower.setDestinationInfo(e.source.name,wl.activity,!0),this.documentsAsDestinations=[],this.documentsAsDestinations.push({name:i,image:r,fdMe:e.source.name})):(this.documentsAsDestinations=[],this.globals.infoShower.setDestinationInfo("",wl.activity)),this.detectChanges(),this.console.info("docs as dest: ",this.globals.addressActivities.documentsAsDestinations),this.console.info("name is: ",i),this.console.info("image is: ",r)}getAllCheckboxes(){let e=this.destinationCheckboxes.toArray();return this.globals.mainDestinationCheckboxes?.length>0&&(e=e.concat(this.globals.mainDestinationCheckboxes.toArray())),e}activityTypeChanged(){this.resetItems(),this.graph.getExtendedData(this.globals.infoShower.currentItemId).subscribe(e=>{e.docTyp=this.selectedType,this.graph.saveExtendedData(this.globals.infoShower.currentItemId,e).subscribe(i=>{})}),this.datasource.changeActivityListType(this.selectedType).subscribe(()=>{this.loadRecentDocuments(this.currentAddress)})}removeDocumentDestination(e){this.documentsAsDestinations=[],this.getAllCheckboxes().forEach(i=>{i.checked=!1}),this.globals.infoShower.setDestinationInfo("",wl.activity),this.globals.infoShower.selectFirst()}getDocumentedLabel(){return this.globals.infoShower.isAppointment?this.globals.languageConfLocal.DocumentedTo:this.globals.languageConfLocal.DocumentTo}openInBrowser(e){window.open(e,"_blank"),this.console.info("url is: ",e)}showLess(){this.resetItems(),this.loadRecentDocuments(this.currentAddress)}changeInformationState(){return this.showMore?this.hasMore?(this.limit+=this.increment,void this.loadRecentDocuments(this.currentAddress)):(this.showMore=!1,this.limit=10,void this.loadRecentDocuments(this.currentAddress)):(this.showMore=!0,this.limit+=this.increment,void this.loadRecentDocuments(this.currentAddress))}showActivities(){return this.activities?.slice(0,this.limit)||null}resetItems(){this.hasMore=!1,this.showMore=!1,this.limit=10}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(zn),R(Tu),R(qt),R(Bn),R(Ks),R(nr),R(ns))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-address-activities"]],viewQuery:function(i,r){if(1&i&&Jt(ICe,5),2&i){let o;_e(o=be())&&(r.destinationCheckboxes=o)}},standalone:!1,decls:2,vars:2,consts:[["chipsDocumentAsDestination",""],["documentAsDestinationInputRO",""],["docDestSelector",""],["id","selectedDocumentAsDestination",2,"width","100%",3,"floatLabel"],[2,"font-size","small"],[1,"projectsChipsHolder"],["id","hoverArea",3,"removable","title"],["matInput","","readonly","",1,"projectChipsNoInput",3,"matChipInputFor"],["id","hoverArea",3,"removed","removable","title"],["onerror","this.src='assets/images/vwicn001.svg';",1,"chipImage",3,"src"],[1,"chipBase"],["id","overlayLinkMail"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded",3,"title"],["id","overlayLinkMail",3,"click"],[1,"material-symbols-rounded","LinkIcon",3,"title"],["appearance","fill",1,"databaseSearchSelect",2,"margin-bottom","0px !important"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"activityItemList",3,"ngClass"],[1,"activityItemListEntry","itemListEntry",3,"hasLink"],[1,"activityItemListEntry","itemListEntry"],[1,"listEntryItemMainLine"],[1,"imgAndTitleOfEntry"],["onerror","this.src='assets/images/vwicn001.svg';",3,"src"],[1,"contentAndLink",3,"click"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],[1,"destIcons"],[1,"LinkToMailButton",3,"title"],[1,"destinationSelector","activityDestinationSelector","spanTwoRows",3,"change","name","checked"],[1,"LinkToMailButton",3,"click","title"],[1,"material-symbols-rounded","LinkIcon"],[1,"activityItemListEntry","itemListEntry",3,"click"]],template:function(i,r){1&i&&(te(0,NCe,8,3,"mat-form-field",3),te(1,$Ce,6,2,"div")),2&i&&(ne(r.documentsAsDestinations&&r.documentsAsDestinations.length>0?0:-1),f(),ne(r.globals.infoShower.noneSelected?-1:1))},dependencies:[zh,mo,Gr,$a,eo,po,Fv,vo,vl,Cl,yl],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;box-shadow:none}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#d3d3d3}.uncheckedToggle[_ngcontent-%COMP%]{display:none}.activityItemListEntry[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:20px;width:20px}.activityItemListEntry[_ngcontent-%COMP%]   .activityDestinationSelector[_ngcontent-%COMP%]{margin-right:0;padding-right:8px;padding-left:12px;align-self:center;visibility:hidden!important;display:block!important}.activityItemListEntry[_ngcontent-%COMP%]   .activityDestinationSelector.mat-checkbox-checked[_ngcontent-%COMP%]{visibility:visible}.activityItemListEntry[_ngcontent-%COMP%]:hover   .activityDestinationSelector[_ngcontent-%COMP%], .activityItemListEntry[_ngcontent-%COMP%]:hover   .LinkToMailButton[_ngcontent-%COMP%]{visibility:visible!important}.itemListEntry[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:1px 0!important;max-height:38px!important;position:relative;width:100%;box-sizing:border-box}.imgAndTitleOfEntry[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px;flex:1 1 auto;min-width:0}.contentAndLink[_ngcontent-%COMP%]{padding-left:2px;text-decoration:none!important;display:block;flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.destIcons[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:3px;top:50%;transform:translateY(-50%)!important;opacity:0;pointer-events:none;transition:none!important;z-index:2}.activityItemListEntry[_ngcontent-%COMP%]:hover   .destIcons[_ngcontent-%COMP%]{transform:translateY(-50%)!important;opacity:1;pointer-events:auto}.activityItemListEntry[_ngcontent-%COMP%]:hover   .contentAndLink[_ngcontent-%COMP%]{padding-right:36px}.activityItemListEntry.hasLink[_ngcontent-%COMP%]:hover   .contentAndLink[_ngcontent-%COMP%]{padding-right:78px}.contentOfEntry[_ngcontent-%COMP%]{width:auto}.spanTwoRows[_ngcontent-%COMP%]{grid-row:span 2;margin-bottom:0;margin-top:8px}.activityIcon[_ngcontent-%COMP%]{height:18px;width:18px;margin-top:2px}tr.mat-row[_ngcontent-%COMP%]{height:10px!important}.regionHeader[_ngcontent-%COMP%]{font-size:small;border-bottom:1px solid #949494;font-family:Roboto,Helvetica Neue,sans-serif;color:#0000008a}.LinkToMailButton[_ngcontent-%COMP%]{color:#000000de;opacity:.7;padding-right:0!important;padding-left:0!important;display:flex;cursor:pointer;align-items:center;margin-right:0;background-color:#fff;border-radius:16px;padding-bottom:0;padding-top:0;transition:background-color .3s ease}.LinkToMailButton[_ngcontent-%COMP%]:hover{background-color:#a9a9a9}.destIcons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:6px}.destIcons[_ngcontent-%COMP%]   .activityDestinationSelector[_ngcontent-%COMP%], .destIcons[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{width:auto;min-width:28px}#hoverArea[_ngcontent-%COMP%]{position:relative;height:auto}#hoverArea[_ngcontent-%COMP%]:hover   .overlayLinkMail[_ngcontent-%COMP%]{visibility:visible!important}#overlayLinkMail[_ngcontent-%COMP%]{visibility:hidden;position:absolute;right:27px!important;width:24px;height:24px;color:#202020;text-align:center;background-color:#fff;border-radius:16px;padding-top:0;padding-bottom:-2px;top:4px!important;color:#000000de;opacity:.7;transition:background-color .3s ease,visibility .3s ease}#overlayLinkMail[_ngcontent-%COMP%]:hover{background-color:#a9a9a9}.databaseSearchSelect[_ngcontent-%COMP%]{align-items:center!important;max-height:56px!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:48px!important;height:auto!important;padding-top:8px!important;padding-bottom:6px!important;box-sizing:border-box!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-floating-label[_ngcontent-%COMP%]{transform:translateY(-1.28em) scale(.75)!important;top:6px!important;left:0!important;transform-origin:left top!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .projectsChipsHolder[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .projectsChipsHolder[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .projectsChipsHolder[_ngcontent-%COMP%]   .mdc-evolution-chip-set__chips[_ngcontent-%COMP%]{max-height:none!important;overflow:hidden!important;height:auto!important;display:flex!important;align-items:center!important;flex-wrap:nowrap!important;gap:6px!important;box-sizing:border-box!important;padding:4px 0 4px 10px!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]{--mat-chip-container-height: 26px}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-standard-chip[_ngcontent-%COMP%]   .mdc-evolution-chip__action--primary[_ngcontent-%COMP%]{padding-left:8px!important;padding-right:8px!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-standard-chip[_ngcontent-%COMP%]   .mdc-evolution-chip__action--trailing[_ngcontent-%COMP%]{padding-left:0!important;padding-right:6px!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center!important;min-height:0!important;padding:0!important;margin:10px 0 0!important;box-sizing:border-box!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important}#selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-chip-remove[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   .chipRemoveButton[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field[_ngcontent-%COMP%]   button[matChipRemove][_ngcontent-%COMP%]{display:inline-flex!important;align-items:center!important;justify-content:center!important;width:24px!important;height:24px!important;padding:0!important;margin-left:6px!important;transform:translateY(0)!important;box-sizing:border-box!important}#selectedDocumentAsDestination.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%], #selectedDocumentAsDestination.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{height:auto!important;min-height:0!important;overflow:visible!important}[_nghost-%COMP%]     mat-form-field#selectedDocumentAsDestination.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{top:28px!important}[_nghost-%COMP%]     #selectedDocumentAsDestination.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{top:28px!important}.activityItemList[_ngcontent-%COMP%]{overflow:hidden}.activityItemListScrollable[_ngcontent-%COMP%]{max-height:40vh;overflow-y:auto!important;overflow-x:hidden!important;box-sizing:border-box}.activityItemListScrollable[_ngcontent-%COMP%]::-webkit-scrollbar-horizontal{display:none;height:0}.activityItemListScrollable[_ngcontent-%COMP%]{scrollbar-width:thin}']})}}return n})(),WCe=(()=>{class n{constructor(e,i,r,o,s,a,c){this.datasource=e,this.lsm=i,this.graph=r,this.globals=o,this.messageService=s,this.userSettings=a,this.waitList=c}ngOnInit(){}documentItem(e){this.lsm.setValue(Ht.sendInProcess,"1");const i=s=>{try{if(!this.userSettings.AutoCategoryMark)return void s();const a=this.userSettings.CategoryName||this.globals.languageConfLocal.documented,c=this.graph.addCategoryToCurrentItem?.(a);if(c&&"function"==typeof c.subscribe){const l=c.subscribe({next:()=>s(),error:()=>s()});setTimeout(()=>{try{l.unsubscribe()}catch{}s()},2500)}else s()}catch{s()}},r=s=>{try{const a=this.userSettings.PostDocAction,c=Office.context.mailbox?.item;if("none"===a||!c||!(void 0===c.getItemIdAsync||typeof c.getItemIdAsync>"u"))return void s();const d="move"===a?this.userSettings.PostDocFolderId:void 0,u=this.graph.executePostDocActionOnCurrentItem?.(a,d);if(u&&"function"==typeof u.subscribe){const h=u.subscribe({next:()=>s(),error:()=>s()});setTimeout(()=>{try{h.unsubscribe()}catch{}s()},3e3)}else s()}catch{s()}};this.datasource.IsTaskpaneActive()&&null!==this.globals.getSystemBaseUrl()&&""!==this.globals.getSystemBaseUrl()&&this.globals.loggedIn&&!this.datasource.doNotDocumentSelected()?Office.context.mailbox.item?this.datasource.retrieveItemIdForItem().subscribe({next:s=>{this.graph.getExtendedData(s).subscribe(a=>{if(a.documentTarget)return a.type="mail",void this.datasource.documentItemWithoutUI(a).subscribe({next:c=>{if(void 0!==c&&200!==c?.status&&!0!==c)return this.messageService.showMessageAsync(c.statusText,Hd.error),this.lsm.setValue(Ht.sendInProcess,"0"),void e.completed({allowEvent:!1,errorMessage:c.statusText});this.graph.getExtendedData(s).subscribe(l=>{l.documentedOnSend=!0,this.graph.saveExtendedData(s,l).subscribe(()=>{i(()=>{r(()=>{this.lsm.setValue(Ht.sendInProcess,"0"),e.completed({allowEvent:!0})})})})})},error:c=>{this.lsm.setValue(Ht.sendInProcess,"0"),e.completed({allowEvent:!1,errorMessage:c})}});this.lsm.setValue(Ht.sendInProcess,"0"),e.completed({allowEvent:!0})})}}):(this.lsm.setValue(Ht.sendInProcess,"0"),e.completed({allowEvent:!0})):e.completed({allowEvent:!0})}sendEventTrigger(){let e=window.theEvent;const i=()=>{const r=this.globals.curConnector,o=!!r&&("function"==typeof r.isLoggedIn?!!r.isLoggedIn():!!(r.isLoggedIn??r.loggedIn));return!!this.globals.loggedIn||o};if(this.datasource.IsTaskpaneActive()&&null!==this.globals.getSystemBaseUrl()&&""!==this.globals.getSystemBaseUrl()){if(!i()){let r=3;const o=()=>{r--,i()?s():r<=0?e.completed({allowEvent:!0}):setTimeout(o,100)},s=()=>{this.globals.infoShower?this.documentItem(e):this.waitList.addToWaitList("init",{next:a=>{this.documentItem(e)}})};return void o()}this.globals.infoShower?this.documentItem(e):this.waitList.addToWaitList("init",{next:r=>{this.documentItem(e)}})}else e.completed({allowEvent:!0})}static{this.\u0275fac=function(i){return new(i||n)(R(nr),R(Qi),R(Ks),R(Dt),R(Bn),R(ns),R(ki))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-item-documentor"]],standalone:!1,decls:1,vars:0,consts:[["hidden","","id","sendEventTrigger",3,"click"]],template:function(i,r){1&i&&(_(0,"button",0),ae("click",function(){return r.sendEventTrigger()}),b())},encapsulation:2})}}return n})();class Ga{}const KCe=["projectSelectorPanel"],YCe=["searchProjectsInput"],QCe=["destinationProjectsInputRO"],S4=["destinationProjectsInput"],k4=["searchProjectPhasesInput"],XCe=["allProjectsButton"];function ZCe(n,t){if(1&n){const e=Ne();_(0,"div",22),ae("click",function(){Y(e);const r=C().$implicit;return Q(C(2).datasource.addDocumentLinkToMail(r))}),_(1,"span",23),H(2,"link"),b()()}if(2&n){const e=C(3);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function JCe(n,t){if(1&n){const e=Ne();_(0,"mat-chip",16),ae("removed",function(){const r=Y(e).$implicit;return Q(C(2).removeProject(r))}),ve(1,"img",17),_(2,"div",18),H(3),b(),te(4,ZCe,3,1,"div",19),_(5,"button",20)(6,"span",21),H(7,"cancel"),b()()()}if(2&n){const e=t.$implicit,i=C(2);K("removable",!0)("title",e.name),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),Ae(e.name),f(),ne(i.settings.LinkOptionActive&&!i.globals.infoShower.isReadMode?4:-1),f(2),K("title",i.globals.languageConfLocal.removeFromList)}}function ewe(n,t){if(1&n){const e=Ne();_(0,"input",24,3),ae("focus",function(r){return Y(e),Q(C(2).showProjectSelector(r))}),b()}2&n&&(C(),K("matChipInputFor",rn(5)))}function twe(n,t){if(1&n){const e=Ne();_(0,"input",25,4),ae("input",function(r){return Y(e),Q(C(2).searchParticipatingProjects(r))}),b()}if(2&n){C();const e=rn(5),i=rn(11),r=C();K("matChipInputFor",e)("formControl",r.destinationProjects)("matAutocomplete",i)}}function nwe(n,t){if(1&n&&(_(0,"mat-option",13),ve(1,"img",26),_(2,"div",27)(3,"div",28),H(4),b(),_(5,"div",29),H(6),b(),_(7,"div",29),H(8),b()()()),2&n){const e=t.$implicit,i=C(2);K("value",e),Qe("data-fdme",e.fdMe)("data-image",e.image),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineOne))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineOne)," "),f(),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineTwo)," "),f(),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineThree)," ")}}function iwe(n,t){if(1&n){const e=Ne();_(0,"mat-chip",32),ae("removed",function(){const r=Y(e).$implicit;return Q(C(3).removeProjectPhase(r))}),ve(1,"img",17),_(2,"div",18),H(3),b(),_(4,"button",20)(5,"span",33),H(6,"cancel"),b()()()}if(2&n){const e=t.$implicit,i=C(3);K("removable",!0)("title",e.name),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),Ae(e.name)}}function rwe(n,t){if(1&n){const e=Ne();_(0,"input",25,5),ae("input",function(r){return Y(e),Q(C(3).searchProjectPhases(r))}),b()}if(2&n){C();const e=rn(5),i=rn(10),r=C(2);K("matChipInputFor",e)("formControl",r.projectPhasesControl)("matAutocomplete",i)}}function owe(n,t){if(1&n&&(_(0,"mat-option",31),ve(1,"img",34),_(2,"div",35)(3,"div",36),H(4),b(),_(5,"div",37),H(6),b(),_(7,"div",37),H(8),b()()()),2&n){const e=t.$implicit,i=C(3);K("value",e),Qe("data-fdme",e.fdMe)("data-image",e.image),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineOne))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineOne)," "),f(),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineTwo)," "),f(),K("title",en(i.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e.lineThree)," ")}}function swe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",15)(1,"mat-label",7),H(2),pr(3,"translate"),b(),_(4,"mat-chip-grid",8,0),hn(6,iwe,7,4,"mat-chip",30,kn),te(8,rwe,2,3,"input",11),_(9,"mat-autocomplete",12,1),ae("optionSelected",function(r){return Y(e),Q(C(2).autoProjectPhaseSelected(r))})("opened",function(){return Y(e),Q(C(2).autocompleteOpened("phasesAuto"))}),hn(11,owe,9,13,"mat-option",31,kn),b()()()}if(2&n){const e=C(2);K("floatLabel",e.projectPhases.length>0||e.projectPhaseResultArray.length>0?"always":"auto"),f(2),vd(" ",Mr(3,4,e.globals.languageConfLocal["931-00-00"===e.globals.configJson.fdUseProjectcID?"selectWorkActivities":"selectProjectPhases"])," (",e.projectPhaseResultArray.length,") "),f(4),mn(e.projectPhases),f(2),ne(e.projectPhaseResultArray.length>0?8:-1),f(3),mn(e.filteredProjectPhases)}}function awe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",6)(2,"mat-label",7),H(3),b(),_(4,"mat-chip-grid",8,0),hn(6,JCe,8,6,"mat-chip",9,kn),te(8,ewe,2,1,"input",10),te(9,twe,2,3,"input",11),_(10,"mat-autocomplete",12,1),ae("optionSelected",function(r){return Y(e),Q(C().autoProjectSelected(r))})("opened",function(){return Y(e),Q(C().autocompleteOpened("projectAuto"))}),hn(12,nwe,9,13,"mat-option",13,kn),b(),_(14,"span",14,2),ae("click",function(r){return Y(e),Q(C().showProjectSelector(r))}),H(16,"open_in_new"),b()()(),te(17,swe,13,6,"mat-form-field",15),b()}if(2&n){const e=C();f(),K("floatLabel",e.projects.length>0||e.destinationDirectProjectsCount>0?"always":"auto"),f(2),Ae(e.getProjectsLabel()),f(3),mn(e.projects),f(2),ne(0===e.destinationDirectProjectsCount?8:-1),f(),ne(e.destinationDirectProjectsCount>0?9:-1),f(3),mn(e.filteredParticipatedResultsArray),f(2),K("title",e.globals.languageConfLocal.selectProjectsCRM),f(3),ne(e.projectPhaseResultArray.length>0||0!==e.projectPhases.length?17:-1)}}let cwe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,m,g,y){this.globals=e,this.mailLoadedService=i,this.ref=r,this.snack=o,this.translate=s,this.datasource=a,this.zone=c,this.lsm=l,this.dps=d,this.settings=u,this.graph=h,this.permissionService=m,this.messageService=g,this.htmlHelp=y,this.console=new li("ProjectSelectorComponent"),this.projectSelectorPanelVisible=!1,this.searchTextInput="",this.searchResultsArray=[],this.projectPhaseResultArray=[],this.projectPhaseSearchResultArray=[],this.projectPhaseFilter="",this.participatedResultsArray=[],this.databases=[],this.searchValue="",this.showRecentlyUsed=!0,this.destinationDirectProjectsCount=0,this.destinationProjects=new es(""),this.projectPhasesControl=new es(""),this.participatingProjectsFilter="",this.addressFetched=!1,this.addresses=[],this.filteredAdditionalValues={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){var e=this;this.projects=[];let i=Office.context.mailbox.item;i?(this.isCompose=null==i.itemId,this.isAppointment="appointment"===i.itemType,this.isReadMode=void 0===i.getItemIdAsync||void 0===typeof i.getItemIdAsync):(this.isCompose=!1,this.isAppointment=!1,this.isReadMode=!0),"gi"===this.globals.system&&(this.showRecentlyUsed=!1),this.projectPhases=[],this.globals.infoShower.waitForDocumentDestinationCheckChanged().subscribe({next:r=>{this.getProjects(!0)}}),this.getProjectDBs(this.globals.infoShower.primaryPointer),this.dps.addThingToClose("projectAuto",()=>{this.projectsAutocompleteTrigger?.closePanel()}),this.dps.addThingToClose("phasesAuto",()=>{this.phasesAutocompleteTrigger?.closePanel()}),this.dps.addThingToClose("projectDialog",()=>{this.projectSelectorPanelVisible=!1,this.searchValue=""}),this.globals.infoShower.waitForItemRecognition().subscribe(r=>{"appointment"===i?.itemType&&this.graph.getExtendedData(r).subscribe(function(){var o=E(function*(s){s&&s.selectedProjects&&(e.projects=JSON.parse(s.selectedProjects)),e.projects=e.projects.filter(a=>null!=a)});return function(s){return o.apply(this,arguments)}}())}),this.globals.infoShower.waitForUpdateBM4ODataCommand().subscribe(r=>{r.selectedProjects=JSON.stringify(this.projects.concat(this.projectPhases))}),this.globals.onActiveWindowChange().subscribe(r=>{"main"===r.newWindow&&"projectPage"===r.currentWindow&&this.projectChipsChanged()}),this.globals.projectSelector=this}detectChanges(){this.ref.detectChanges()}showProjectSelector(e){if(!this.permissionService.canSelectProjects())return this.messageService.showWarning(this.globals.languageConfLocal.noProjectSelectionPermission,void 0),void e.stopPropagation();this.dps.closeAll("projectDialog"),e.stopPropagation(),this.globals.activeWindow="projectPage"}removeProject(e){this.permissionService.canSelectProjects()&&(this.projects.splice(this.projects.findIndex(i=>i.pointer===e.pointer),1),this.projectChipsChanged(),0===this.projects.length&&0===this.projectPhases.length&&(this.projectPhaseResultArray=[]))}removeProjectPhase(e){this.permissionService.canSelectProjects()&&(this.projectPhases.splice(this.projects.findIndex(i=>i.pointer===e.pointer),1),this.projectPhaseChipsChanged(),0===this.projects.length&&0===this.projectPhases.length&&(this.projectPhaseResultArray=[]))}projectChipsChanged(){var e=this;let i=this.globals.infoShower.currentItemId;if(i){let r=JSON.stringify(this.projects.concat(this.projectPhases));this.lsm.setValue(Ht.selectedProjects,r),this.graph.getExtendedData(i).subscribe(function(){var o=E(function*(s){s.selectedProjects=r,e.graph.saveExtendedData(i,s).subscribe(a=>{})});return function(s){return o.apply(this,arguments)}}())}if(this.projects.length>0){this.destinationProjectsInput?.nativeElement.classList.add("hasProjects"),this.destinationProjectsInputRO?.nativeElement.classList.add("hasProjects"),this.allProjectsButton?.nativeElement.classList.add("hasProjects");let r=this.projects.map(o=>o.pointer);this.datasource.getPhasesOfPointer(r).subscribe(o=>{this.projectPhaseResultArray=o})}else this.destinationProjectsInput?.nativeElement.classList.remove("hasProjects"),this.destinationProjectsInputRO?.nativeElement.classList.remove("hasProjects"),this.allProjectsButton?.nativeElement.classList.remove("hasProjects")}projectPhaseChipsChanged(){var e=this;let i=this.globals.infoShower.currentItemId;if(i){let r=JSON.stringify(this.projects.concat(this.projectPhases));this.lsm.setValue(Ht.selectedProjects,r),this.graph.getExtendedData(i).subscribe(function(){var o=E(function*(s){s.selectedProjects=r,e.graph.saveExtendedData(i,s).subscribe(a=>{})});return function(s){return o.apply(this,arguments)}}())}}textChanged(e){if(!this.permissionService.canSelectProjects())return;let i=e.target.value;"ba"===this.globals.system&&(this.showRecentlyUsed=0===i.length),i.length>0&&!this.searchPanelExpanded?this.searchPanelExpanded=!0:0===i.length&&this.searchPanelExpanded&&(this.searchPanelExpanded=!1),this.searchValue=i,this.getProjects(!1)}searchParticipatingProjects(e){this.permissionService.canSelectProjects()&&(this.participatingProjectsFilter=e.target.value)}searchProjectPhases(e){this.permissionService.canSelectProjects()&&(this.projectPhaseFilter=e.target.value)}dblClickedElement(e){if(!this.permissionService.canSelectProjects())return;let i=e.currentTarget;if(!this.projects.some(r=>r.pointer===i.dataset.fdme)){let r=new Ga;r.name=i.dataset.displayname,r.pointer=i.dataset.fdme,r.image=i.dataset.image,this.datasource.addToRecentlyUsed(i.dataset.fdme),this.projects.push(r),setTimeout(()=>{const o=document.querySelector(".allProjectsFooter .mat-chip-list-wrapper");o&&(o.scrollTop=o.scrollHeight),this.blinkChip(r.pointer)},10),this.projectChipsChanged()}}blinkChip(e){document.querySelector('mat-chip[data-pointer="'+e+'"]')?.classList.add("fade-it")}getProjectDBs(e){const i={};e?i.pointer=e:i.onlyOptions=!0;const r=new Yt({fromObject:i});this.datasource.fetchDBs("projects",r).subscribe(o=>{this.console.info("ProjectDBs:",o),o&&this.generateSelectionArrProjectDbs(o.databases,e)})}generateSelectionArrProjectDbs(e,i){for(const s of e)this.databases.push({value:s.alias,viewValue:s.title});this.console.info("this.databases:",this.databases),this.databases.length>0&&(this.selectedDB=this.databases[0].value)}getProjects(e){e&&!this.globals.infoShower.primaryPointer||this.datasource.searchProjects(this.selectedDB,e?this.globals.infoShower.primaryPointer:"",this.searchValue).subscribe({next:i=>{i.MessageDetail&&i.MessageDetail.indexOf("BM4OProjects")>0?this.globals.noProjects=!0:(this.searchResultsArray=this.datasource.handleSearchResult(i,Oa.projects,{participantProjects:e}),e&&(this.destinationDirectProjectsCount=this.searchResultsArray.length,this.participatedResultsArray=this.datasource.handleSearchResult(i,Oa.projects,{participantProjects:e}),this.zone.run(()=>{setTimeout(()=>{this.showProjectSnack()},0)})),this.detectChanges(),this.console.info("ProjectSearchResults:",this.searchResultsArray))}})}showProjectSnack(){this.globals.infoShower.isReadMode||(this.projectSnack?.dismiss(),1===this.destinationDirectProjectsCount?(this.projectSnack=this.snack.open(this.globals.languageConfLocal.selectedAddressHasAssignedProject,this.globals.languageConfLocal.LC73057,{duration:7500}),this.projectSnack.afterOpened().subscribe(()=>{this.detectChanges()}),this.projectSnack.onAction().subscribe(()=>{this.projects=[],this.addOneProjectChip(this.searchResultsArray[0])})):this.destinationDirectProjectsCount>1&&(this.projectSnack=this.snack.open(this.globals.languageConfLocal.selectedAddressHasAssignedProjects,"OK",{duration:9500}),this.projectSnack.afterOpened().subscribe(()=>{this.detectChanges()}),this.projectSnack.onAction().subscribe(()=>{setTimeout(()=>{this.projectsAutocompleteTrigger?.openPanel(),this.destinationProjectsInput.nativeElement.focus()},10)})))}autoProjectSelected(e){this.permissionService.canSelectProjects()&&(this.addOneProjectChip(e.option.value),this.participatingProjectsFilter="",this.destinationProjectsInput.nativeElement.value="")}autoProjectPhaseSelected(e){this.permissionService.canSelectProjects()&&(this.addOneProjectPhaseChip(e.option.value),this.projectPhaseFilter="")}addOneProjectChip(e){let i=new Ga;i.name=e.lineOne,i.pointer=e.fdMe,i.image=e.image,this.datasource.addToRecentlyUsed(e.fdme),this.projects.push(i),this.projectChipsChanged()}addOneProjectPhaseChip(e){let i=new Ga;i.name=e.lineOne,i.pointer=e.fdMe,i.image=e.image,this.datasource.addToRecentlyUsed(e.fdme),this.projectPhases.push(i);let r=this.projects.findIndex(o=>o.pointer===e.parentPointer);-1!==r&&this.projects.splice(r,1),this.projectPhaseChipsChanged()}get filteredParticipatedResultsArray(){let e=this.participatingProjectsFilter?.toLowerCase();return this.participatedResultsArray.filter(i=>!this.projects.map(r=>r.pointer).some(r=>r===i.fdMe)&&(!e||i.lineOne.toLowerCase().includes(e)||i.lineTwo?.toLowerCase().includes(e)||i.lineThree?.toLowerCase().includes(e)))}get filteredProjectPhases(){let e=this.projectPhaseFilter?.toLowerCase();return this.projectPhaseResultArray.filter(i=>!this.projectPhases.map(r=>r.pointer).some(r=>r===i.fdMe)&&(!e||i.lineOne.toLowerCase().includes(e)||i.lineTwo?.toLowerCase().includes(e)||i.lineThree?.toLowerCase().includes(e)))}getProjectsLabel(){return this.projects.length>0?this.globals.languageConfLocal.selectedProjects:this.destinationDirectProjectsCount>0?this.globals.languageConfLocal.assignedProjects+" ("+this.destinationDirectProjectsCount+")":this.globals.languageConfLocal.selectProjectsCRM}autocompleteOpened(e){this.dps.closeAll(e)}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Tu),R(qt),R(Bd),R(zn),R(nr),R($e),R(Qi),R(fs),R(ns),R(Ks),R(pp),R(Bn),R(Ys))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-project-selector"]],viewQuery:function(i,r){if(1&i&&Jt(KCe,5)(YCe,5)(QCe,5)(S4,5)(k4,5)(XCe,5)(S4,5,yo)(k4,5,yo),2&i){let o;_e(o=be())&&(r.projectSelectorPanel=o.first),_e(o=be())&&(r.searchProjectsInput=o.first),_e(o=be())&&(r.destinationProjectsInputRO=o.first),_e(o=be())&&(r.destinationProjectsInput=o.first),_e(o=be())&&(r.searchProjectPhasesInput=o.first),_e(o=be())&&(r.allProjectsButton=o.first),_e(o=be())&&(r.projectsAutocompleteTrigger=o.first),_e(o=be())&&(r.phasesAutocompleteTrigger=o.first)}},standalone:!1,decls:1,vars:1,consts:[["chipsInMain",""],["auto","matAutocomplete"],["allProjectsButton",""],["destinationProjectsInputRO",""],["destinationProjectsInput",""],["searchProjectPhasesInput",""],["id","mainInputProjectSelector",2,"width","100%",3,"floatLabel"],[2,"font-size","small"],[1,"projectsChipsHolder"],["id","hoverArea",3,"removable","title"],["matInput","","readonly","",1,"projectChipsNoInput",3,"matChipInputFor"],["matInput","",1,"projectChipsInput",3,"matChipInputFor","formControl","matAutocomplete"],[1,"projectSelectorAutocomplete",3,"optionSelected","opened"],[1,"projectOption",2,"margin","8px 0px !important",3,"value"],[1,"material-symbols-rounded","allProjects",3,"click","title"],["id","mainInputProjectPhaseSelector",2,"width","100%",3,"floatLabel"],["id","hoverArea",3,"removed","removable","title"],[1,"chipImage",3,"src"],[1,"chipBase"],["id","overlayLinkMail"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded",3,"title"],["id","overlayLinkMail",3,"click"],[1,"material-symbols-rounded","LinkIcon",3,"title"],["matInput","","readonly","",1,"projectChipsNoInput",3,"focus","matChipInputFor"],["matInput","",1,"projectChipsInput",3,"input","matChipInputFor","formControl","matAutocomplete"],[2,"max-width","24px !important","padding-top","12px !important",3,"src"],[2,"float","right","padding-left","6px !important"],[1,"listEntryItemMainLine",2,"font-size","12px !important",3,"title"],[1,"listEntryItemSubLine",2,"font-size","12px !important",3,"title"],[3,"removable","title"],[1,"projectOption",3,"value"],[3,"removed","removable","title"],[1,"material-symbols-rounded"],[3,"src"],[2,"float","left"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"]],template:function(i,r){1&i&&te(0,awe,18,6,"div"),2&i&&ne(r.permissionService.canSelectProjects()&&(!r.globals.infoShower.noneSelected&&!r.globals.noProjects||r.globals.addressActivities.documentsAsDestinations.length>0)&&r.globals.configJson.projectSelection?0:-1)},dependencies:[Io,Jo,Nx,mo,Gr,eo,po,vo,vl,Cl,yl,b5,yo,sm],styles:['@charset "UTF-8";:host ::ng-deep .project-selector-field,:host ::ng-deep mat-form-field#mainInputProjectSelector,:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-form-field-infix{position:relative!important;box-sizing:border-box!important}:host ::ng-deep mat-form-field#mainInputProjectSelector mat-label,:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-form-field-label{top:16px!important;transform:translateY(0)!important;transition:none!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-floating-label{top:8px!important;transform:translateY(0) scale(.85)!important}:host ::ng-deep .project-selector-field .allProjects,:host ::ng-deep mat-form-field#mainInputProjectSelector .allProjects{display:inline-flex!important;align-items:center!important;justify-content:center!important;margin-left:auto!important;z-index:60!important;pointer-events:auto!important;padding-left:6px!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .allProjects.hasProjects{top:50%!important;transform:translateY(-50%)!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .projectsChipsHolder{padding-right:3.6em!important;box-sizing:border-box!important}:host ::ng-deep .projectsChipsHolder{display:grid!important;grid-template-columns:repeat(2,minmax(0,1fr))!important;gap:6px!important;padding:6px!important;box-sizing:border-box!important;width:100%!important;flex:1 1 auto!important;--mat-chip-container-height: 26px;max-height:70px!important;overflow-y:auto!important;overflow-x:hidden!important;grid-auto-rows:min-content!important}:host ::ng-deep .projectsChipsHolder .mat-chip-list-wrapper,:host ::ng-deep .projectsChipsHolder .mat-mdc-chip-set,:host ::ng-deep .projectsChipsHolder .mdc-evolution-chip-set__chips,:host ::ng-deep .projectsChipsHolder .mat-mdc-chip-list-wrapper{display:block!important;max-height:94px!important;overflow-y:auto!important;overflow-x:hidden!important}:host ::ng-deep .projectsChipsHolder .chipImage{flex:0 0 28px!important;width:28px!important;height:28px!important;object-fit:cover!important;margin-right:6px!important;margin-left:-1px!important}:host ::ng-deep mat-form-field#mainInputProjectSelector,:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-form-field-infix{position:relative!important;box-sizing:border-box!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-form-field-infix{display:flex!important;align-items:center!important;min-height:44px!important;padding-top:8px!important;padding-bottom:6px!important;gap:8px!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-form-field-label,:host ::ng-deep mat-form-field#mainInputProjectSelector mat-label{top:16px!important;transform:translateY(0)!important;transition:none!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .mat-mdc-floating-label{top:8px!important;transform:translateY(0) scale(.85)!important;transition:none!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .allProjects{display:inline-flex!important;align-items:center!important;justify-content:center!important;margin-left:auto!important;z-index:60!important;pointer-events:auto!important;padding-left:6px!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .allProjects.hasProjects{margin-left:auto!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .projectsChipsHolder{padding-right:.5em!important;box-sizing:border-box!important}:host ::ng-deep .projectsChipsHolder{display:grid!important;grid-template-columns:repeat(2,minmax(0,1fr))!important;gap:6px!important;padding:6px!important;box-sizing:border-box!important;--mat-chip-container-height: 26px;max-height:70px!important;overflow-y:auto!important;overflow-x:hidden!important;grid-auto-rows:min-content!important}:host ::ng-deep .projectsChipsHolder::-webkit-scrollbar{width:10px}:host ::ng-deep .projectsChipsHolder::-webkit-scrollbar-thumb{background:#e4e4e4;border-radius:6px}:host ::ng-deep .projectsChipsHolder>mat-chip,:host ::ng-deep .projectsChipsHolder>.mat-mdc-chip,:host ::ng-deep .projectsChipsHolder>.mat-chip{width:100%!important;display:inline-flex!important;align-items:center!important;gap:6px!important;padding:6px 8px!important;box-sizing:border-box!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}:host ::ng-deep .projectsChipsHolder .chipImage{flex:0 0 28px!important;width:28px!important;height:28px!important;object-fit:cover!important;margin-right:6px!important}:host ::ng-deep .projectsChipsHolder .chipBase{flex:1 1 auto!important;min-width:0!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;vertical-align:middle!important}:host ::ng-deep .projectsChipsHolder .chipRemoveButton{flex:0 0 auto!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;margin:0!important;padding:0 6px!important}:host ::ng-deep .projectsChipsHolder>mat-chip:first-of-type:last-of-type,:host ::ng-deep .projectsChipsHolder>.mat-mdc-chip:first-of-type:last-of-type{grid-column:span 2!important}:host ::ng-deep mat-form-field#mainInputProjectSelector .projectsChipsHolder{align-self:center!important}:host ::ng-deep .mat-chip-list-wrapper,:host ::ng-deep .mat-mdc-chip-set,:host ::ng-deep .mdc-evolution-chip-set__chips{display:contents!important}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;top:17px!important}#mainInputProjectSelector{margin-top:0!important}.allProjects{top:.3em!important;right:-.25em!important}.projectsChipsHolder{max-height:100px!important;overflow-y:auto!important;margin-top:-1px!important;max-width:92%}:host ::ng-deep .projectsChipsHolder .mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{max-width:196px!important;display:inline-block!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}\n'],encapsulation:2})}}return n})();const lwe=["searchExpansionPanel"],dwe=["searchTextInput"];function uwe(n,t){if(1&n&&(_(0,"mat-option",21),H(1),b()),2&n){const e=t.$implicit;K("value",e.value),f(),Ae(e.viewValue)}}function hwe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",7)(1,"mat-label"),H(2),b(),_(3,"mat-select",20),Pt("valueChange",function(r){Y(e);const o=C();return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C().selectedDBChanged())}),hn(4,uwe,2,2,"mat-option",21,kn),b()()}if(2&n){const e=C();f(2),Ae(e.globals.languageConfLocal.contactsDatabase),f(),Ot("value",e.selectedDB),f(),mn(e.databases)}}function mwe(n,t){if(1&n&&(_(0,"mat-option",12),H(1),b()),2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.NewCompany," ")}}function pwe(n,t){if(1&n&&(_(0,"mat-option",13),H(1),b()),2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.ExistingCompany," ")}}function fwe(n,t){if(1&n&&(_(0,"mat-option",14),H(1),b()),2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.AnyCompany," ")}}function gwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",22)(2,"mat-label"),H(3),b(),_(4,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Company,r)||(o.extractedContact.Company=r),Q(r)}),b()(),_(5,"mat-form-field",24)(6,"mat-label"),H(7),b(),_(8,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.CompanyEmail,r)||(o.extractedContact.CompanyEmail=r),Q(r)}),b()(),_(9,"mat-form-field",24)(10,"mat-label"),H(11),b(),_(12,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.CompanyPhone,r)||(o.extractedContact.CompanyPhone=r),Q(r)}),b()(),_(13,"mat-form-field",24)(14,"mat-label"),H(15),b(),_(16,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.CompanyFax,r)||(o.extractedContact.CompanyFax=r),Q(r)}),b()(),_(17,"mat-form-field",24)(18,"mat-label"),H(19),b(),_(20,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Url,r)||(o.extractedContact.Url=r),Q(r)}),b()(),_(21,"mat-form-field",24)(22,"mat-label"),H(23),b(),_(24,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Street,r)||(o.extractedContact.Street=r),Q(r)}),b()(),_(25,"mat-form-field",24)(26,"mat-label"),H(27),b(),_(28,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.City,r)||(o.extractedContact.City=r),Q(r)}),b()(),_(29,"mat-form-field",24)(30,"mat-label"),H(31),b(),_(32,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Zip,r)||(o.extractedContact.Zip=r),Q(r)}),b()()()}if(2&n){const e=C();f(3),Ae(e.globals.languageConfLocal.Name),f(),Ot("ngModel",e.extractedContact.Company),f(3),Ae(e.globals.languageConfLocal.Email),f(),Ot("ngModel",e.extractedContact.CompanyEmail),f(3),Ae(e.globals.languageConfLocal.Telephone),f(),Ot("ngModel",e.extractedContact.CompanyPhone),f(3),Ae(e.globals.languageConfLocal.Fax),f(),Ot("ngModel",e.extractedContact.CompanyFax),f(3),Ae(e.globals.languageConfLocal.Web),f(),Ot("ngModel",e.extractedContact.Url),f(3),Ae(e.globals.languageConfLocal.Street),f(),Ot("ngModel",e.extractedContact.Street),f(3),Ae(e.globals.languageConfLocal.City),f(),Ot("ngModel",e.extractedContact.City),f(3),Ae(e.globals.languageConfLocal.Zip),f(),Ot("ngModel",e.extractedContact.Zip)}}function _we(n,t){if(1&n){const e=Ne();_(0,"span",41),ae("click",function(r){return Y(e),Q(C(3).clearTextClicked(r))}),H(1,"cancel"),b()}}function bwe(n,t){1&n&&(_(0,"span",36),H(1,"expand_less"),b())}function ywe(n,t){1&n&&(_(0,"span",36),H(1,"search"),b())}function vwe(n,t){if(1&n&&(_(0,"mat-option",21),H(1),b()),2&n){const e=t.$implicit;K("value",e.value),f(),Ae(e.viewValue)}}function Cwe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",37)(1,"mat-label"),H(2),b(),_(3,"mat-select",20),Pt("valueChange",function(r){Y(e);const o=C(3);return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C(3).selectedDBChanged())}),hn(4,vwe,2,2,"mat-option",21,kn),b()()}if(2&n){const e=C(3);f(2),Ae(e.globals.languageConfLocal.addressDatabase),f(),Ot("value",e.selectedDB),f(),mn(e.databases)}}function wwe(n,t){if(1&n&&(_(0,"div",39),H(1),b()),2&n){const e=C(3);f(),Xe(" ",e.globals.languageConfLocal.recentlyUsed," ")}}function Dwe(n,t){if(1&n){const e=Ne();_(0,"div",42),ae("click",function(r){return Y(e),Q(C(3).clickedElement(r))}),ve(1,"img",43),_(2,"div",44)(3,"span",45),H(4),b(),ve(5,"br"),_(6,"span",46),H(7),b(),ve(8,"br"),b()()}if(2&n){const e=t.$implicit,i=t.$index,r=C(3);K("title",en(r.htmlHelper.parseHtmlEntities(e.lineOne))),Qe("data-fdme",e.fdMe)("data-email",e.email)("data-order",i+1),f(),K("src",r.datasource.getImageSrc(e.image),In),f(2),K("title",en(r.htmlHelper.parseHtmlEntities(e.lineOne+" <"+e.email+">"))),f(),Xe(" ",r.htmlHelper.parseHtmlEntities(e.lineOne+" <"+e.email+">")," "),f(2),K("title",en(r.htmlHelper.parseHtmlEntities(e.lineTwo))),f(),Ae(r.htmlHelper.parseHtmlEntities(e.lineTwo))}}function xwe(n,t){if(1&n){const e=Ne();_(0,"mat-expansion-panel",30,1),ae("closed",function(){return Y(e),Q(C(2).searchResultsPanelClosed())})("opened",function(){return Y(e),Q(C(2).searchResultsPanelOpened())}),_(2,"mat-expansion-panel-header")(3,"mat-panel-title",31)(4,"mat-form-field",32)(5,"mat-label",33),H(6,"Search for company"),b(),_(7,"input",34,2),ae("keydown.Space",function(r){return Y(e),Q(C(2).noCloseOnSpace(r))})("input",function(r){return Y(e),Q(C(2).textChanged(r))})("focus",function(r){return Y(e),Q(C(2).searchInputFocused(r))})("click",function(r){return Y(e),Q(C(2).searchInputClicked(r))}),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.textInSearchInput,r)||(o.textInSearchInput=r),Q(r)}),b()(),te(9,_we,2,0,"span",35),te(10,bwe,2,0,"span",36),te(11,ywe,2,0,"span",36),b()(),te(12,Cwe,6,2,"mat-form-field",37),_(13,"div",38),te(14,wwe,2,1,"div",39),hn(15,Dwe,9,12,"div",40,kn),b()()}if(2&n){const e=rn(8),i=C(2);f(7),Ot("ngModel",i.textInSearchInput),f(2),ne(e.value.length>0?9:-1),f(),ne(i.searchPanelExpanded?10:-1),f(),ne(i.searchPanelExpanded?-1:11),f(),ne(null!=i.databases&&i.databases.length>1?12:-1),f(2),ne(i.showRecentlyUsed?14:-1),f(),mn(i.searchResultsArray)}}function Ewe(n,t){if(1&n){const e=Ne();_(0,"div"),te(1,xwe,17,6,"mat-expansion-panel",25),_(2,"mat-form-field",26),ae("click",function(r){return Y(e),Q(C().showCompanySelector(r))}),_(3,"mat-label",27),H(4),b(),_(5,"span",28,0),H(7,"open_in_new"),b(),_(8,"input",29),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.CompanyName,r)||(o.extractedContact.CompanyName=r),Q(r)}),b()()()}if(2&n){const e=C();f(),ne(e.letThereBeSearch?1:-1),f(),st("has-value",e.extractedContact.CompanyName&&e.extractedContact.CompanyName.length>0)("mat-form-field-should-float",e.extractedContact.CompanyName&&e.extractedContact.CompanyName.length>0),f(2),Ae(e.globals.languageConfLocal.selectCompany),f(),K("title",e.globals.languageConfLocal.selectCompany),f(3),Ot("ngModel",e.extractedContact.CompanyName)}}function Swe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",47)(1,"mat-label"),H(2),b(),_(3,"input",48),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.extractedContact.CompanyAddress,r)||(o.extractedContact.CompanyAddress=r),Q(r)}),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.Address),f(),Ot("ngModel",e.extractedContact.CompanyAddress)}}function kwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",26),ae("click",function(r){return Y(e),Q(C().showCompanySelector(r))}),_(2,"mat-label",27),H(3),b(),_(4,"span",28,0),H(6,"open_in_new"),b(),_(7,"input",29),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.selectedCompany,r)||(o.selectedCompany=r),Q(r)}),b()(),te(8,Swe,4,2,"mat-form-field",47),b()}if(2&n){const e=C();f(),st("has-value",e.selectedCompany&&e.selectedCompany.length>0)("mat-form-field-should-float",e.selectedCompany&&e.selectedCompany.length>0),f(2),Ae(e.globals.languageConfLocal.selectCompany),f(),K("title",e.globals.languageConfLocal.selectCompany),f(3),Ot("ngModel",e.selectedCompany),f(),ne(e.extractedContact.CompanyAddress&&e.extractedContact.CompanyAddress.length>0?8:-1)}}function Awe(n,t){if(1&n&&(_(0,"mat-option",17),H(1),b()),2&n){const e=C();f(),Ae(e.globals.languageConfLocal.NoContact)}}function Twe(n,t){if(1&n&&(_(0,"mat-option",18),H(1),b()),2&n){const e=C();f(),Xe(" ",e.globals.languageConfLocal.NewContact," ")}}function Iwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",24)(2,"mat-label"),H(3),b(),_(4,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.extractedContact.Street,r)||(o.extractedContact.Street=r),Q(r)}),b()(),_(5,"mat-form-field",24)(6,"mat-label"),H(7),b(),_(8,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.extractedContact.City,r)||(o.extractedContact.City=r),Q(r)}),b()(),_(9,"mat-form-field",24)(10,"mat-label"),H(11),b(),_(12,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.extractedContact.Zip,r)||(o.extractedContact.Zip=r),Q(r)}),b()()()}if(2&n){const e=C(2);f(3),Ae(e.globals.languageConfLocal.Street),f(),Ot("ngModel",e.extractedContact.Street),f(3),Ae(e.globals.languageConfLocal.City),f(),Ot("ngModel",e.extractedContact.City),f(3),Ae(e.globals.languageConfLocal.Zip),f(),Ot("ngModel",e.extractedContact.Zip)}}function Mwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",22)(2,"mat-label"),H(3),b(),_(4,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.LastName,r)||(o.extractedContact.LastName=r),Q(r)}),b()(),_(5,"mat-form-field",24)(6,"mat-label"),H(7),b(),_(8,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.FirstName,r)||(o.extractedContact.FirstName=r),Q(r)}),b()(),_(9,"mat-form-field",24)(10,"mat-label"),H(11),b(),_(12,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Department,r)||(o.extractedContact.Department=r),Q(r)}),b()(),_(13,"mat-form-field",24)(14,"mat-label"),H(15),b(),_(16,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Phone,r)||(o.extractedContact.Phone=r),Q(r)}),b()(),_(17,"mat-form-field",24)(18,"mat-label"),H(19),b(),_(20,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Mobile,r)||(o.extractedContact.Mobile=r),Q(r)}),b()(),_(21,"mat-form-field",24)(22,"mat-label"),H(23),b(),_(24,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Fax,r)||(o.extractedContact.Fax=r),Q(r)}),b()(),_(25,"mat-form-field",24)(26,"mat-label"),H(27),b(),_(28,"input",23),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.extractedContact.Email,r)||(o.extractedContact.Email=r),Q(r)}),b()(),te(29,Iwe,13,6,"div"),b()}if(2&n){const e=C();f(3),Ae(e.globals.languageConfLocal.Lastname),f(),Ot("ngModel",e.extractedContact.LastName),f(3),Ae(e.globals.languageConfLocal.Firstname),f(),Ot("ngModel",e.extractedContact.FirstName),f(3),Ae(e.globals.languageConfLocal.Department),f(),Ot("ngModel",e.extractedContact.Department),f(3),Ae(e.globals.languageConfLocal.Telephone),f(),Ot("ngModel",e.extractedContact.Phone),f(3),Ae(e.globals.languageConfLocal.Mobile),f(),Ot("ngModel",e.extractedContact.Mobile),f(3),Ae(e.globals.languageConfLocal.Fax),f(),Ot("ngModel",e.extractedContact.Fax),f(3),Ae(e.globals.languageConfLocal.Email),f(),Ot("ngModel",e.extractedContact.Email),f(),ne("compNo"===e.companyAction?29:-1)}}let Rwe=(()=>{class n{constructor(e,i,r,o,s,a,c){this.globals=e,this.datasource=i,this.htmlHelper=r,this.messageService=o,this.dps=s,this.permissionService=a,this.lsm=c,this.console=new li("ContactCreatorComponent"),this.searchResultsArray=[],this.showRecentlyUsed=!1,this.showExistingCompany=!0,this.showNoContact=!0,this.letThereBeSearch=!1,this.databases=[],this.emailRegex=/^((?!\.)[\w\-_.]*[^.])(@((?!\.)[\w\-_.]*[^.]))(\.\w+(\.\w+)?[^.\W])$/,this.gotFocused=!1,this.extractedContact=new Zc}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"contactCreation"===e.newWindow&&"main"===e.currentWindow&&this.initializeTheView()}),this.globals.contactCreator=this}initializeTheView(){this.getContactDBs();const e=this.globals.infoShower?.extractedContactData;this.extractedContact=e||new Zc,this.globals.infoShower?.displayedDestination&&this.globals.infoShower.displayedDestination.additional.fallback?(this.companyAction="compExist",this.showNoContact=!1):(this.companyAction=this.permissionService.canCreateCompany()?"compNew":"compNo",this.showExistingCompany=!1),this.contactAction=this.permissionService.canCreateContact()?"contNew":"contNo",this.contactActionOldValue=this.contactAction,this.companyActionOldValue=this.companyAction,this.companyMail=this.extractedContact.CompanyEmail||"",this.recognizedMail=this.extractedContact.Email||"",this.companyName=this.extractedContact.Company||"",this.generateDataBaseOnTheEmail(this.contactAction,null,this.companyAction,null),!0===this.globals.infoShower.noFooterInfo&&(this.messageService.showInfo(this.globals.languageConfLocal.noFooterInfoAvailableManualDataNeeded),this.console.info("noFooterInfoAvailableManualDataNeeded"),this.globals.infoShower.noFooterInfo=!1)}creationSelectionChange(e){this.showNoContact="compExist"!==this.companyAction,"compExist"===this.companyAction&&(this.contactAction="contNew"),"compExist"===this.companyAction&&!this.extractedContact.CompanyPointer&&(this.extractedContact.Company=""),"compSelect"===this.companyAction?this.extractedContact.Email=this.globals.infoShower.theSender.email||"":this.extractedContact.Company=this.companyName,this.generateDataBaseOnTheEmail(this.contactAction,this.contactActionOldValue,this.companyAction,this.companyActionOldValue),this.companyActionOldValue=this.companyAction,this.contactActionOldValue=this.contactAction}generateDataBaseOnTheEmail(e,i,r,o){null!=i&&null!=o&&("compNew"===r&&"contNo"===e&&(this.extractedContact.CompanyEmail||(this.extractedContact.CompanyEmail=this.extractedContact.Email)),r===o&&!this.extractedContact.CompanyFax&&(this.extractedContact.CompanyFax=this.extractedContact.Fax),r===o&&!this.extractedContact.CompanyPhone&&(this.extractedContact.CompanyPhone=this.extractedContact.Phone)),"contNew"===e&&!this.extractedContact.Email&&"compSelect"!==r&&(this.extractedContact.Email=this.globals.infoShower.theSender.email),"contNew"===e&&!this.extractedContact.Email&&"compSelect"===r&&(this.extractedContact.Email="")}createClicked(){this.globals.showSpinner();let e=document.querySelectorAll(".textInputControl"),i="";e.forEach(r=>{let o=r;this.htmlHelper.isHtml(o.value)&&(i+="["+o.parentNode.children[1].innerText+"] "+this.globals.languageConfLocal.ContainsDangerousContent+"</br>")}),"contNew"===this.contactAction&&"compNo"!==this.companyAction&&"compSelect"!==this.companyAction&&(this.extractedContact.CompanyAddress=this.extractedContact.Street,(!this.extractedContact.Company||0===this.extractedContact.Company.trim().length)&&(!this.extractedContact.CompanyName||0===this.extractedContact.CompanyName.trim().length)&&(i+=this.globals.languageConfLocal.CompanyNameRequired),this.extractedContact.CompanyEmail&&this.extractedContact.CompanyEmail.length>0&&!this.emailRegex.test(this.extractedContact.CompanyEmail)&&(i+=this.globals.languageConfLocal.EmailCompanyNotInCorrectFormat)),"contNew"===this.contactAction&&"compSelect"!==this.companyAction&&(this.extractedContact.CompanyAddress=this.extractedContact.Street,this.extractedContact.Street="",(!this.extractedContact.LastName||0===this.extractedContact.LastName.trim().length)&&(i+=this.globals.languageConfLocal.LastNameRequired),this.extractedContact.Email&&0!==this.extractedContact.Email.trim().length?this.extractedContact.Email&&this.extractedContact.Email.length>0&&!this.emailRegex.test(this.extractedContact.Email)&&(i+=this.globals.languageConfLocal.EmailContactNotInCorrectFormat):i+=this.globals.languageConfLocal.EmailRequired),"contNew"===this.contactAction&&"compSelect"===this.companyAction&&(0===this.selectedCompany.length?i+=this.globals.languageConfLocal.CompanyNameRequired:(this.extractedContact.CompanyName=this.globals.contactCreator.selectedCompany,this.extractedContact.Company=this.globals.contactCreator.selectedCompany,this.extractedContact.CompanyPointer=this.globals.contactCreator.selectedCompanyData.pointer,(!this.extractedContact.LastName||0===this.extractedContact.LastName.trim().length)&&(i+=this.globals.languageConfLocal.LastNameRequired),this.extractedContact.Email&&0!==this.extractedContact.Email.trim().length?this.extractedContact.Email&&this.extractedContact.Email.length>0&&!this.emailRegex.test(this.extractedContact.Email)&&(i+=this.globals.languageConfLocal.EmailContactNotInCorrectFormat):i+=this.globals.languageConfLocal.EmailRequired),this.console.info("selectedCompany is ",this.globals.contactCreator.selectedCompany),this.console.info("selectedCompanyData is ",this.globals.contactCreator.selectedCompanyData),this.console.info("extractedContact is ",this.globals.contactCreator.extractedContact)),this.datasource.validateDataInBackend(this.extractedContact,this.contactAction,this.companyAction,this.selectedDB).subscribe({next:r=>{"PASS"===r.Validation&&(this.globals.hideSpinner(),this.datasource.quickCreateContact(this.extractedContact,this.contactAction,this.companyAction,this.selectedDB).subscribe({next:o=>{o&&("contNew"===this.contactAction?this.messageService.showSuccess("compNew"===this.companyAction?this.globals.languageConfLocal.NewCompanyAndContactCreated:"compExist"===this.companyAction?this.globals.languageConfLocal.NewContactCreated:"compSelect"===this.companyAction?this.globals.languageConfLocal.NewContactCreatedAndConnected:this.globals.languageConfLocal.NewStandaloneContactCreated):"compNew"===this.companyAction&&this.messageService.showSuccess(this.globals.languageConfLocal.NewCompanyCreated),this.globals.hideSpinner(),this.globals.contactCreated=!0,this.globals.activeWindow="main")},error:o=>{this.globals.hideSpinner()}}))},error:r=>{this.console.error("Error during validation:",r),this.globals.hideSpinner(),r.json?r.json().then(o=>{let s="";Array.isArray(o)?o.forEach(a=>{s+=(a.ErrorMessage||a.Message||"")+" "}):"object"==typeof o&&null!==o?s+=(o.ErrorMessage||o.Message||JSON.stringify(o))+" ":"string"==typeof o&&(s+=o+" "),this.messageService.showError(this.globals.languageConfLocal.companyCreationError+s)}):this.messageService.showError(403==r.status||401==r.status?this.globals.languageConfLocal.companyCreationError+this.globals.languageConfLocal.roleNoperms:this.globals.languageConfLocal.companyCreationError)}}),this.globals.contactCreator.selectedCompany="",this.globals.contactCreator.selectedCompanyData=[]}cancelClicked(){this.globals.activeWindow="main",this.globals.contactCreator.selectedCompany=""}searchResultsPanelOpened(){let e=this.searchExpansionPanel._body.nativeElement.childNodes[0];e.style.paddingRight="3px",e.style.paddingLeft="3px",e.style.paddingBottom="3px",e.style.backgroundColor="#ffffff",e.style.zIndex=5,this.searchPanelExpanded=!0,this.searchTextInput.nativeElement.focus()}searchResultsPanelClosed(){this.searchPanelExpanded=!1}noCloseOnSpace(e){e.stopPropagation()}textChanged(e){this.textInSearchInput.length>0&&this.searchExpansionPanel.open(),this.getCompanies()}clearTextClicked(e){this.textInSearchInput="",this.searchPanelExpanded&&(this.getCompanies(),this.searchTextInput.nativeElement.focus()),e.stopPropagation()}searchInputFocused(e){setTimeout(()=>{this.searchExpansionPanel.open()},100),this.gotFocused=!0}searchInputClicked(e){this.gotFocused&&e.stopPropagation(),this.gotFocused=!1}clickedElement(e){this.selectCompany(e.currentTarget)}getCompanies(){this.datasource.fetchDBs("dbConnections",null).subscribe({next:e=>{}})}selectCompany(e){}getContactDBs(){this.datasource.fetchDBs("dbConnections",null).subscribe({next:e=>{this.console.info("DBs:",e),this.filterForContacts(e)}})}filterForContacts(e){const i={},r=["Contact"];for(const o in e){if("GeOfficeAliases"===o)continue;const s=e[o].type;Array.isArray(s)?s.some(a=>r.includes(a))&&(i[o]=e[o].title):"string"==typeof s?r.includes(s)&&(i[o]=e[o].title):console.warn(`Unerwarteter Typ f\xfcr "type" in Alias ${o}:`,s)}this.generateSelectionArr(i)}generateSelectionArr(e){this.databases=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.databases.push({value:i,viewValue:e[i]});if(this.console.info("database:",this.databases),this.databases.length>0){let i=this.lsm.getValue(Ht.contactDB);null!==i?this.databases.forEach(r=>{r.value===i&&(this.selectedDB=r.value)}):this.selectedDB=this.databases[0].value}}selectedDBChanged(){this.initialDBSelection?this.initialDBSelection=!1:this.lsm.setValue(Ht.contactDB,this.selectedDB)}showCompanySelector(e){e.stopPropagation(),this.globals.activeWindow="companyPage"}onCompanyActionChanged(){"compNew"===this.companyAction&&!this.permissionService.canCreateCompany()&&(this.companyAction="compNo",this.creationSelectionChange({value:this.companyAction}))}onContactActionChanged(){"contNew"===this.contactAction&&!this.permissionService.canCreateContact()&&(this.contactAction="contNo",this.creationSelectionChange({value:this.contactAction}))}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(nr),R(Ys),R(Bn),R(fs),R(pp),R(Qi))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-contact-creator"]],viewQuery:function(i,r){if(1&i&&Jt(lwe,5)(dwe,5),2&i){let o;_e(o=be())&&(r.searchExpansionPanel=o.first),_e(o=be())&&(r.searchTextInput=o.first)}},standalone:!1,decls:33,vars:20,consts:[["allProjectsButton",""],["searchExpansionPanel",""],["searchTextInput",""],[2,"box-shadow","none"],[1,"left-right-align",2,"padding-left","10px !important"],[1,"material-symbols-rounded","green",2,"cursor","pointer",3,"click","title"],[1,"material-symbols-rounded","red",2,"cursor","pointer",3,"click","title"],["appearance","fill",1,"databaseSearchSelect","compact"],[1,"noHeaderText"],["floatLabel","auto",1,"companyActionSelect","compact",2,"width","100%","margin-left","5px","margin-right","5px"],["panelClass","compactSelectPanel",3,"valueChange","selectionChange","value"],["value","compNo"],["value","compNew"],["value","compExist"],["value","compSelect"],[2,"padding-bottom","0px"],["floatLabel","auto",1,"contactActionSelect","compact",2,"width","100%","margin-left","5px","margin-right","5px"],["value","contNo"],["value","contNew"],[1,"cardWithBackground"],[3,"valueChange","selectionChange","value"],[3,"value"],["floatLabel","auto",1,"compact",2,"width","100%","margin-top","5px"],["matInput","",1,"textInputControl",3,"ngModelChange","ngModel"],["floatLabel","auto",1,"compact",2,"width","100%"],["hideToggle","",1,"searchResultsPanel","mat-elevation-z0"],["id","compSelectField","floatLabel","auto",1,"companyActionSelect","compact",2,"width","100%","margin-top","-16px !important",3,"click"],["id","comp-select-label",1,"labelCompSelect"],["matSuffix","",1,"material-symbols-rounded","allProjects",2,"padding-top","6px !important",3,"title"],["id","compSelectInput","matInput","",1,"textInputControl",3,"ngModelChange","ngModel"],["hideToggle","",1,"searchResultsPanel","mat-elevation-z0",3,"closed","opened"],[1,"searchInCRMHeader"],[2,"width","100%","vertical-align","bottom"],[2,"font-size","small"],["matInput","","type","search","id","searchText","name","searchText",3,"keydown.Space","input","focus","click","ngModelChange","ngModel"],[1,"material-symbols-rounded","clearIcon"],[1,"material-symbols-rounded","searchIcon"],["appearance","fill",1,"databaseSearchSelect"],["id","resultsContainer",1,"prevent-select"],[1,"recentlyUsed"],[1,"itemListEntry","resultListEntry",3,"title"],[1,"material-symbols-rounded","clearIcon",3,"click"],[1,"itemListEntry","resultListEntry",3,"click","title"],[1,"normalImage",3,"src"],[1,"resultsLineWrapper"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],["floatLabel","auto",2,"width","100%"],["matInput","","disabled","",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(_(0,"mat-card",3)(1,"mat-card-title",4),H(2),_(3,"div")(4,"span",5),ae("click",function(){return r.createClicked()}),H(5,"check_circle"),b(),_(6,"span",6),ae("click",function(){return r.cancelClicked()}),H(7,"cancel"),b()()(),te(8,hwe,6,2,"mat-form-field",7),_(9,"mat-card-header",8)(10,"mat-form-field",9)(11,"mat-label"),H(12),b(),_(13,"mat-select",10),Pt("valueChange",function(s){return Bt(r.companyAction,s)||(r.companyAction=s),s}),ae("selectionChange",function(s){return r.onCompanyActionChanged(),r.creationSelectionChange(s)}),_(14,"mat-option",11),H(15),b(),te(16,mwe,2,1,"mat-option",12),te(17,pwe,2,1,"mat-option",13),te(18,fwe,2,1,"mat-option",14),b()()(),_(19,"mat-card-content",15),te(20,gwe,33,16,"div"),te(21,Ewe,9,8,"div"),te(22,kwe,9,8,"div"),b()(),_(23,"mat-card",3)(24,"mat-card-header",8)(25,"mat-form-field",16)(26,"mat-label"),H(27),b(),_(28,"mat-select",10),Pt("valueChange",function(s){return Bt(r.contactAction,s)||(r.contactAction=s),s}),ae("selectionChange",function(s){return r.onContactActionChanged(),r.creationSelectionChange(s)}),te(29,Awe,2,1,"mat-option",17),te(30,Twe,2,1,"mat-option",18),b()()(),_(31,"mat-card-content",19),te(32,Mwe,30,15,"div"),b()()),2&i&&(f(2),Xe(" ",r.globals.languageConfLocal.ContactQuickCreation," "),f(2),K("title",r.globals.languageConfLocal.Create),f(2),K("title",r.globals.languageConfLocal.Cancel),f(2),ne(null!=r.databases&&r.databases.length>1?8:-1),f(4),Ae(r.globals.languageConfLocal.CompanyAction),f(),Ot("value",r.companyAction),f(2),Ae(r.globals.languageConfLocal.NoCompany),f(),ne(r.permissionService.canCreateCompany()?16:-1),f(),ne(r.showExistingCompany?17:-1),f(),ne(!r.showExistingCompany&&(r.globals.configJson.webUrl&&r.globals.configJson.webUrl.length>0||"ba"===r.globals.system)?18:-1),f(),Ir("compExist"!==r.companyAction?"cardWithBackground":"cardWithBackgroundDarker"),f(),ne("compNew"===r.companyAction&&r.permissionService.canCreateCompany()?20:-1),f(),ne("compExist"===r.companyAction?21:-1),f(),ne("compSelect"===r.companyAction?22:-1),f(5),Ae(r.globals.languageConfLocal.ContactAction),f(),Ot("value",r.contactAction),f(),ne(r.showNoContact?29:-1),f(),ne(r.permissionService.canCreateContact()?30:-1),f(2),ne("contNew"===r.contactAction&&r.permissionService.canCreateContact()?32:-1))},dependencies:[Io,Jo,ts,mo,Gr,Yse,$a,eo,po,PA,x5,E5,Du,Eu,S5,xu],styles:['@charset "UTF-8";.itemListEntry[_ngcontent-%COMP%]{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;overflow:hidden}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.itemListEntry[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0e0}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true])   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#e0e0e0}[data-selected=true].itemListEntry[_ngcontent-%COMP%], [data-selected=true].itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#d3d3d3}.itemListEntry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}#resultsContainer[_ngcontent-%COMP%]{height:50vh;overflow-y:auto}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%]{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%] + .itemListEntry[_ngcontent-%COMP%]{padding-top:8px}.mat-card-header[_ngcontent-%COMP%]{background-color:#d3d3d3;padding:5px}.resultsLineWrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}#context-menu[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 20px #25282a38;color:#1f194c;width:10em;padding:.8em .6em;font-size:13px;position:fixed;visibility:hidden}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.3em 1.2em}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;cursor:pointer}.btn-group[_ngcontent-%COMP%]{width:100%;padding-top:3px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5f5f5f}.btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}#searchText[_ngcontent-%COMP%]{font-size:12px}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:4.5em;font-size:small}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]{border:#4d4d4d;border-width:3px}.searchResultsPanel[_ngcontent-%COMP%]{width:calc(100% - 1px);z-index:4;border-radius:5px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:transparent!important}.searchIcon[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:22px}.clearIcon[_ngcontent-%COMP%]{position:absolute;right:27px;bottom:22px}.databaseSearchSelect[_ngcontent-%COMP%]{width:100%}.databaseSearchSelect[_ngcontent-%COMP%] + .searchResultsPanel[_ngcontent-%COMP%]{margin-top:-16px}.material-symbols-rounded[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 300,"GRAD" -25,"opsz" 18}  .noHeaderText>div.mat-card-header-text{display:none}.noHeaderText[_ngcontent-%COMP%]{border-top-right-radius:5px;border-top-left-radius:5px;padding-top:4px!important}.cardWithBackground[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:5px}.cardWithBackgroundDarker[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:5px}.mat-input-element[_ngcontent-%COMP%]:disabled{color:#000}span.material-symbols-rounded.red[_ngcontent-%COMP%]:hover{color:red;font-weight:900}span.material-symbols-rounded.green[_ngcontent-%COMP%]:hover{color:#00b800;font-weight:900}.left-right-align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.companySelectorLabel[_ngcontent-%COMP%]   .mat-form-field-label-wrapper[_ngcontent-%COMP%]{pointer-events:auto}#compSelectInput[_ngcontent-%COMP%] +   .mat-form-field-label-wrapper{pointer-events:auto!important;cursor:pointer}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field{height:auto;flex:auto;will-change:auto;max-height:48px;box-sizing:border-box;display:flex;align-items:center;overflow:hidden}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-top:6px!important;padding-bottom:0!important;display:flex;align-items:center;min-height:48px}[_nghost-%COMP%]     input.mat-mdc-input-element, [_nghost-%COMP%]     .mat-mdc-select .mat-mdc-select-trigger{height:auto!important;line-height:20px;padding-top:2px!important;padding-bottom:0!important;display:inline-flex;align-items:center}[_nghost-%COMP%]     .companyActionSelect .mat-mdc-select-arrow-wrapper, [_nghost-%COMP%]     .contactActionSelect .mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center;padding-top:12px}[_nghost-%COMP%]     mat-form-field.compact .mat-mdc-text-field-wrapper.mdc-text-field{max-height:40px;height:40px;padding-top:2px;padding-bottom:2px;display:flex;align-items:center;box-sizing:border-box}[_nghost-%COMP%]     mat-form-field.compact .mat-mdc-form-field-infix{padding-top:6px!important;padding-bottom:2px!important;min-height:36px;display:flex;align-items:center}[_nghost-%COMP%]     mat-form-field.compact input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.compact .mat-mdc-select .mat-mdc-select-trigger{height:auto!important;line-height:20px;padding-top:0!important;padding-bottom:0!important;display:inline-flex;align-items:center;font-size:13px}[_nghost-%COMP%]     mat-form-field.compact .mat-mdc-select .mat-mdc-select-arrow-wrapper{height:24px;padding-top:6px}[_nghost-%COMP%]     mat-form-field.compact{margin-top:-14px!important}[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;font-size:12px!important;color:inherit}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-card, [_nghost-%COMP%]     .mat-card-title, [_nghost-%COMP%]     .mat-mdc-text-field-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-infix, [_nghost-%COMP%]     input.mat-mdc-input-element, [_nghost-%COMP%]     .mat-mdc-select .mat-mdc-select-trigger, [_nghost-%COMP%]     .mat-form-field-label-wrapper{font-family:inherit!important;font-size:inherit!important}[_nghost-%COMP%]     .mat-form-field .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field.compact .mat-mdc-form-field-infix{padding-top:6px!important;padding-bottom:2px!important;font-size:inherit!important}[_nghost-%COMP%]     .mat-form-field-label-wrapper{font-size:inherit!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-select .mat-mdc-select-trigger{font-size:13px!important;line-height:18px!important;height:auto!important;padding-top:0!important;padding-bottom:0!important;display:inline-flex;align-items:center}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact{font-size:13px!important;margin-top:0!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-text-field-wrapper.mdc-text-field, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-text-field-wrapper.mdc-text-field{max-height:36px!important;height:36px!important;display:flex!important;align-items:center!important;box-sizing:border-box!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-form-field-infix{min-height:36px!important;padding-top:4px!important;padding-bottom:2px!important;display:flex!important;align-items:center!important;font-size:inherit!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-select .mat-mdc-select-trigger, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-select .mat-mdc-select-trigger{font-size:12px!important;line-height:18px!important;height:auto!important;padding-top:0!important;padding-bottom:0!important;display:inline-flex!important;align-items:center!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-select .mat-mdc-select-arrow-wrapper, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-select .mat-mdc-select-arrow-wrapper{height:20px!important;padding-top:8px!important;display:inline-flex!important;align-items:center!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-form-field-label-wrapper, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-form-field-label-wrapper{font-size:12px!important}[_nghost-%COMP%]     .compactSelectPanel, [_nghost-%COMP%]     .compactSelectPanel .mat-mdc-option, [_nghost-%COMP%]     .compactSelectPanel .mat-mdc-list .mat-mdc-list-item{font-size:13px!important;line-height:20px!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect{font-size:13px!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-text-field-wrapper.mdc-text-field{max-height:36px!important;height:36px!important;display:flex;align-items:center;box-sizing:border-box}[_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-form-field-infix{min-height:36px!important;padding-top:4px!important;padding-bottom:2px!important;display:flex;align-items:center;font-size:inherit!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-select .mat-mdc-select-trigger{font-size:12px!important;line-height:18px!important;height:auto!important;padding-top:0!important;padding-bottom:0!important;display:inline-flex;align-items:center}[_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-form-field-label-wrapper{font-size:12px!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-select .mat-mdc-select-arrow-wrapper{height:20px!important;padding-top:8px!important}[_nghost-%COMP%]     mat-form-field.contactActionSelect{margin-top:0!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect, [_nghost-%COMP%]     mat-form-field.contactActionSelect, [_nghost-%COMP%]     mat-form-field.companyActionSelect.compact, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact{font-size:13px!important;margin-top:0!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect .mat-mdc-text-field-wrapper.mdc-text-field, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-text-field-wrapper.mdc-text-field, [_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-text-field-wrapper.mdc-text-field, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-text-field-wrapper.mdc-text-field{max-height:36px!important;height:36px!important;display:flex!important;align-items:center!important;box-sizing:border-box!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field.companyActionSelect.compact .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field.contactActionSelect.compact .mat-mdc-form-field-infix{min-height:36px!important;padding-top:4px!important;padding-bottom:2px!important;display:flex!important;align-items:center!important;font-size:inherit!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.contactActionSelect input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field.companyActionSelect .mat-mdc-select .mat-mdc-select-trigger, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-select .mat-mdc-select-trigger{font-size:13px!important;line-height:18px!important;height:auto!important;padding-top:0!important;padding-bottom:0!important;display:inline-flex!important;align-items:center!important}[_nghost-%COMP%]     mat-form-field.companyActionSelect .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field.companyActionSelect .mat-form-field-label-wrapper, [_nghost-%COMP%]     mat-form-field.contactActionSelect .mat-form-field-label-wrapper{font-size:12px!important}[_nghost-%COMP%]     .companyActionSelect .mat-mdc-select .mat-mdc-select-arrow-wrapper, [_nghost-%COMP%]     .contactActionSelect .mat-mdc-select .mat-mdc-select-arrow-wrapper{height:20px!important;padding-top:8px!important;display:inline-flex!important;align-items:center!important}[_nghost-%COMP%]     mat-form-field#compSelectField.companyActionSelect.compact{position:relative!important}[_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:4px!important}[_nghost-%COMP%]     mat-form-field#compSelectField:not(.has-value) .mat-mdc-floating-label{transform:none!important;top:12px!important}[_nghost-%COMP%]     mat-form-field#compSelectField.has-value .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field#compSelectField.mat-focused .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field#compSelectField.mat-form-field-should-float .mat-mdc-floating-label{transform:translateY(-16px) scale(.85)!important;top:22px!important;transform-origin:left top!important;transition:transform .12s,top .12s!important}[_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-form-field-icon-suffix, [_nghost-%COMP%]     mat-form-field#compSelectField [matSuffix], [_nghost-%COMP%]     mat-form-field#compSelectField .allProjects{position:absolute!important;right:5px!important;top:42%!important;transform:translateY(-50%)!important;padding-top:0!important;pointer-events:none!important}[_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-floating-label, [_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-form-field-infix, [_nghost-%COMP%]     mat-form-field#compSelectField input.mat-mdc-input-element, [_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-select .mat-mdc-select-trigger{color:#000000de!important;opacity:1!important}[_nghost-%COMP%]     mat-form-field#compSelectField mat-label.labelCompSelect, [_nghost-%COMP%]     mat-form-field#compSelectField .mat-mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))!important}']})}}return n})();const uT={appVersion:ue(8330).rE+" - alpha",buildDate:ue(8330).$y,production:!0,basehref:"businessmail-alpha"};let Owe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d){this.globals=e,this.messageService=i,this.mailLoadedService=r,this.ref=o,this.translate=s,this.waitList=a,this.datasource=c,this.lsm=l,this.dps=d}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"about"===e.newWindow&&"main"===e.currentWindow&&this.initializeTheView()})}initializeTheView(){this.crmVersion=this.globals.languageConfLocal.notConnected,this.datasource.getProductVersion().subscribe(i=>{if(this.globals.backendVersion=i,i&&i.trim()){let r=i;this.crmVersion=this.globals.system.toUpperCase()+" "+r,this.crmVersion.includes("BA")&&(this.crmVersion=this.crmVersion.replace("BA","CXM"))}}),this.appVersion=uT.appVersion,this.buildDate=uT.buildDate,this.disclaimer=this.globals.languageConfLocal.Disclaimer.replace("{{currentYear}}",(new Date).getFullYear().toString())}closeClicked(){this.globals.activeWindow="main"}openGedys(){window.open("http://www.gedys.com","_blank")}licenseInfo(){window.open("assets/licenseInfo.txt","_blank")}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Bn),R(Tu),R(qt),R(zn),R(ki),R(nr),R(Qi),R(fs))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-about"]],standalone:!1,decls:20,vars:9,consts:[[2,"text-align","center"],[2,"margin-top","25px"],["href","#",3,"click"],["mat-button","",2,"background-color","rgb(212, 212, 212)","position","fixed","bottom","30px","left","40%",3,"click"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"h1",1),H(2,"BusinessMail4Outlook"),b(),_(3,"h6"),H(4),ve(5,"br"),H(6),pr(7,"date"),b(),_(8,"h6"),H(9),b(),_(10,"div"),H(11),_(12,"a",2),ae("click",function(){return r.openGedys()}),H(13,"www.gedys.com"),b()(),_(14,"div"),ve(15,"br"),_(16,"a",2),ae("click",function(){return r.licenseInfo()}),H(17),b()(),_(18,"button",3),ae("click",function(){return r.closeClicked()}),H(19),b()()),2&i&&(f(4),Xe("Addin version: ",r.appVersion),f(2),Xe(" (",eN(7,6,r.buildDate,"dd.MM.yyyy HH:mm"),")"),f(3),Xe("CRM version: ",r.crmVersion),f(2),Xe("",r.disclaimer," "),f(6),Ae(r.globals.languageConfLocal.licenseInfo),f(2),Ae(r.globals.languageConfLocal.Close))},dependencies:[Ra,FL],styles:['.itemListEntry[_ngcontent-%COMP%]{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;overflow:hidden}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.itemListEntry[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0e0}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true])   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#e0e0e0}[data-selected=true].itemListEntry[_ngcontent-%COMP%], [data-selected=true].itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#d3d3d3}.itemListEntry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}#resultsContainer[_ngcontent-%COMP%]{height:50vh;overflow-y:auto}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%]{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}#resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%] + .itemListEntry[_ngcontent-%COMP%]{padding-top:8px}.resultsLineWrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}#context-menu[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 20px #25282a38;color:#1f194c;width:10em;padding:.8em .6em;font-size:13px;position:fixed;visibility:hidden}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.3em 1.2em}#context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;cursor:pointer}.btn-group[_ngcontent-%COMP%]{width:100%;padding-top:3px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5f5f5f}.btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}#searchText[_ngcontent-%COMP%]{font-size:12px}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:4.5em;font-size:small}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]{border:#4d4d4d;border-width:3px}.searchResultsPanel[_ngcontent-%COMP%]{width:calc(100% - 1px);z-index:4;border-radius:5px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:transparent!important}.searchIcon[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:22px}.clearIcon[_ngcontent-%COMP%]{position:absolute;right:27px;bottom:22px}.databaseSearchSelect[_ngcontent-%COMP%]{width:100%}.databaseSearchSelect[_ngcontent-%COMP%] + .searchResultsPanel[_ngcontent-%COMP%]{margin-top:-16px}']})}}return n})(),Pwe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u){this.globals=e,this.messageService=i,this.mailLoadedService=r,this.ref=o,this.translate=s,this.waitList=a,this.datasource=c,this.lsm=l,this.http=d,this.dps=u}ngOnInit(){this.http.get("assets/licenseInfo.txt",{responseType:"text"}).subscribe(e=>{this.licInfo=e})}closeClicked(){this.globals.activeWindow="about"}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Bn),R(Tu),R(qt),R(zn),R(ki),R(nr),R(Qi),R(rm),R(fs))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-license-information"]],standalone:!1,decls:6,vars:2,consts:[[2,"text-align","center"],[2,"margin-bottom","0px","height","calc(100vh - 1px)","text-align","justify"],["mat-button","",2,"background-color","rgb(212, 212, 212)","position","fixed","bottom","30px","left","40%",3,"click"]],template:function(i,r){1&i&&(_(0,"div",0)(1,"div")(2,"pre",1),H(3),b()(),_(4,"button",2),ae("click",function(){return r.closeClicked()}),H(5),b()()),2&i&&(f(3),Xe("      ",r.licInfo,"\n    "),f(2),Ae(r.globals.languageConfLocal.Close))},dependencies:[Ra],encapsulation:2})}}return n})();const Nwe=["projectSelectorPanel"],Lwe=["searchProjectsInput"],Fwe=["searchDocumentInput"],A4=["tagsInput"],Bwe=["chipsInMain"];function Hwe(n,t){if(1&n){const e=Ne();_(0,"mat-chip",10),ae("removed",function(){const r=Y(e).$implicit;return Q(C(2).removeTag(r))}),_(1,"div",11),H(2),b(),_(3,"button",12)(4,"span",13),H(5,"cancel"),b()()()}if(2&n){const e=t.$implicit;K("removable",!0)("title",e[1]),f(2),Ae(e[1])}}function jwe(n,t){if(1&n){const e=Ne();_(0,"mat-option",14),ae("mousedown",function(r){return Y(e),Q(C(2).onOptionMouseDown(r))})("mouseup",function(){return Y(e),Q(C(2).onOptionMouseUp())})("touchstart",function(r){return Y(e),Q(C(2).onOptionMouseDown(r))})("touchend",function(){return Y(e),Q(C(2).onOptionMouseUp())}),_(1,"div",15)(2,"div",16),H(3),b()()()}if(2&n){const e=t.$implicit,i=C(2);K("value",e),Qe("data-key",e[0]),f(2),K("title",en(i.htmlHelp.parseHtmlEntities(e[1]))),f(),Xe(" ",i.htmlHelp.parseHtmlEntities(e[1])," ")}}function Uwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-form-field",3)(2,"mat-label",4),H(3),b(),_(4,"mat-chip-grid",5,0),ae("mousedown",function(r){return Y(e),Q(C().onChipListMouseDown(r))})("click",function(r){return Y(e),Q(C().focusTagsInput(r))}),hn(6,Hwe,6,3,"mat-chip",6,kn),_(8,"input",7,1),ae("input",function(r){return Y(e),Q(C().searchTags(r))})("focus",function(){return Y(e),Q(C().onTagsInputFocus())})("keydown",function(r){return Y(e),Q(C().onTagInputKeyDown(r))})("blur",function(r){return Y(e),Q(C().onTagsInputBlur(r))}),b(),_(10,"mat-autocomplete",8,2),ae("optionSelected",function(r){return Y(e),Q(C().autoTagsSelected(r))})("opened",function(){return Y(e),Q(C().autocompleteOpened("tagsAuto"))}),hn(12,jwe,4,5,"mat-option",9,kn),b()()()()}if(2&n){const e=rn(5),i=rn(11),r=C();f(3),Ae(r.getTagsLabel()),f(3),mn(r.enums),f(2),K("matChipInputFor",e)("matAutocomplete",i),f(4),mn(r.filteredParticipatedResultsArray)}}let Vwe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h){this.globals=e,this.mailLoadedService=i,this.ref=r,this.snack=o,this.translate=s,this.datasource=a,this.zone=c,this.lsm=l,this.dps=d,this.htmlHelp=u,this.graph=h,this.optionPointerActive=!1,this.console=new li("TagsSelectorComponent"),this.searchResultsArray=[],this.allowNewTagValues=!1,this.tagsLabelKey="tags",this.searchTextInput="",this.availableTags=[],this.databases=[],this.searchValue="",this.showRecentlyUsed=!0,this.destinationDirectProjectsCount=0,this.participatingProjectsFilter="",this.lastOfficeDB=null,this.addressFetched=!1,this.addresses=[],this.filteredAdditionalValues={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){this.enums=[],this.tagsVisible=!0;let e=Office.context.mailbox.item;e&&(this.tagsVisible="appointment"!==e.itemType),"gi"===this.globals.system?(this.showRecentlyUsed=!1,this.tagsVisible=!0,this.tagsLabelKey="catchwords"):this.tagsLabelKey="tags",this.dps.addThingToClose("tagsAuto",()=>{this.projectsAutocompleteTrigger?.closePanel()}),this.globals.infoShower.waitForItemRecognition().subscribe(i=>{"appointment"===e?.itemType&&this.graph.getExtendedData(i).subscribe(r=>{})}),this.globals.infoShower.waitForUpdateBM4ODataCommand().subscribe(i=>{}),this.globals.tagSelector=this}onOfficeDbChanged(e,i){i?.init||this.getTags()}detectChanges(){this.ref.detectChanges()}removeTag(e){this.enums.splice(this.enums.findIndex(i=>i[0]===e[0]),1),this.tagsChipsChanged(),this.scrollChipsToTop()}tagsChipsChanged(){let e=this.globals.infoShower.currentItemId;if(e){let i=JSON.stringify(this.enums);this.console.info("=== TAGS CHIPS CHANGED ==="),this.console.info("Current tags (this.enums):",this.enums),this.console.info("Serialized tags data:",i),this.console.info("Item ID:",e),this.lsm.setValue(Ht.selectedTags,i),this.graph.getExtendedData(e).subscribe(r=>{r.tags=i,this.console.info("Saving tags to Graph API:",r),this.graph.saveExtendedData(e,r).subscribe(o=>{this.console.info("Tags saved for system:",this.globals.system),this.console.info("Graph API save result:",o)})})}}textChanged(e){let i=e.target.value;"ba"===this.globals.system&&(this.showRecentlyUsed=0===i.length),i.length>0&&!this.searchPanelExpanded?this.searchPanelExpanded=!0:0===i.length&&this.searchPanelExpanded&&(this.searchPanelExpanded=!1),this.searchValue=i,this.getTags()}searchTags(e){this.participatingProjectsFilter=e.target.value,this.console.info("Search filter set to:",this.participatingProjectsFilter)}getTags(){this.console.info("=== TAGS SELECTOR: LOADING TAGS ==="),this.console.info("Loading tags for system:",this.globals.system);const e=this.globals.infoShower?.selectedOfficeDB||"";null!==this.lastOfficeDB&&e&&e!==this.lastOfficeDB&&this.clearAllTagsDueToOfficeDbChange(e),this.datasource.getKeyword?(this.console.info("getKeyword method available, calling it..."),this.datasource.getKeyword().subscribe({next:i=>{this.console.info("=== TAGS SELECTOR: RECEIVED RESPONSE ==="),this.console.info("getKeyword response:",i),i&&i.test&&i.test.values?(this.allowNewTagValues=!0===i.test.allowNewValues,this.searchResultsArray=this.convertGITagsToFormat(i.test),this.console.info("GI Tags loaded:",this.searchResultsArray),this.console.info("Allow new tag values:",this.allowNewTagValues),this.enforceGiOfficeDbTagPolicy(e),this.lastOfficeDB=e,this.detectChanges()):(this.console.info("No GI data, using BA fallback"),this.allowNewTagValues=!1,this.useBATagsMethod())},error:i=>{this.console.info("getKeyword failed, using BA fallback:",i),this.allowNewTagValues=!1,this.useBATagsMethod()}})):(this.console.info("No getKeyword method, using BA method"),this.allowNewTagValues=!1,this.useBATagsMethod())}useBATagsMethod(){try{this.allowNewTagValues=this.globals.configJson&&!0===this.globals.configJson.allowFreeTags}catch{this.allowNewTagValues=!1}this.datasource.getEnumValues("CD5C4D16-354E-40F3-A978-CB467D5A0E3A").subscribe({next:e=>{this.searchResultsArray=e,this.console.info("BA Tags loaded via getEnumValues:",e),this.detectChanges()},error:e=>{console.error("Error fetching BA tags:",e),this.searchResultsArray=[],this.detectChanges()}})}convertGITagsToFormat(e){return this.console.info("Converting GI data:",e),e.values&&Array.isArray(e.values)?e.values.map(i=>[i[0],i[1]]):(console.warn("Unexpected GI data format:",e),[])}enforceGiOfficeDbTagPolicy(e){if("gi"!==this.globals.system)return;if(this.allowNewTagValues)return void this.console.info("GI policy: new values allowed for Office DB",e,"- keeping selected tags as-is.");const i=new Set((this.searchResultsArray||[]).map(s=>(s?.[0]??"").toLowerCase())),r=this.enums?.length??0;this.enums=(this.enums||[]).filter(s=>i.has((s?.[0]??"").toLowerCase()));const o=r-this.enums.length;o>0?(this.console.info(`GI policy: Removed ${o} tag(s) not allowed in Office DB '${e}'.`),this.tagsChipsChanged()):this.console.info("GI policy: No invalid tags found to remove for current Office DB.")}clearAllTagsDueToOfficeDbChange(e){this.console.info(`Office DB changed from '${this.lastOfficeDB}' to '${e}'. Clearing ALL selected tag chips.`),this.enums=[],this.tagsChipsChanged(),this.detectChanges()}autoTagsSelected(e){this.addOneProjectChip(e.option.value),this.participatingProjectsFilter="",this.tagsInput.nativeElement.value=""}addOneProjectChip(e){this.console.info("=== ADDING TAG CHIP ==="),this.console.info("Tag to add:",e),this.console.info("Current enums before:",this.enums),this.enums.push(e),this.console.info("Current enums after:",this.enums),this.console.info("Calling tagsChipsChanged..."),this.tagsChipsChanged(),this.detectChanges(),this.scrollChipsToTop()}scrollChipsToTop(){setTimeout(()=>{this.chipsContainer?.nativeElement&&(this.chipsContainer.nativeElement.scrollTop=0)})}get filteredParticipatedResultsArray(){let e=this.participatingProjectsFilter?.toLowerCase();return this.searchResultsArray.filter(r=>!this.enums.map(o=>o[0]).some(o=>o===r[0])&&(!e||r[1].toLowerCase().includes(e)))}autocompleteOpened(e){0===this.searchResultsArray.length&&(this.console.info("Autocomplete opened but no tags loaded, loading now..."),this.getTags())}onTagsInputFocus(){this.console.info("Tags input focused, loading tags..."),this.getTags()}onTagsInputBlur(e){if(this.optionPointerActive)return void setTimeout(()=>{this.optionPointerActive=!1},0);const i=e.relatedTarget,r=document.querySelector(".cdk-overlay-container");r&&i&&r.contains(i)&&this.optionPointerActive||(this.tryAddNewTagFromInput(),this.projectsAutocompleteTrigger?.closePanel(),this.clearTagsInput())}onOptionMouseDown(e){this.optionPointerActive=!0}onOptionMouseUp(){this.optionPointerActive=!1}onDocPointerUp(){this.optionPointerActive=!1}onTagInputKeyDown(e){"Enter"===e.key&&(e.preventDefault(),this.tryAddNewTagFromInput())}tryAddNewTagFromInput(){const e=this.tagsInput?.nativeElement;if(!e)return;const i=e.value.trim();i&&(this.allowNewTagValues&&this.canAddNewTag(i)?(this.console.info("Adding new tag (allowNewValues=true):",i),this.addOneProjectChip([i,i]),e.value="",this.participatingProjectsFilter=""):this.allowNewTagValues?this.console.info("Tag already exists or invalid:",i):this.console.info("New tags not allowed (allowNewValues=false)"))}canAddNewTag(e){return!this.enums.some(r=>r[0].toLowerCase()===e.toLowerCase()||r[1].toLowerCase()===e.toLowerCase())||(this.console.info("Tag already selected:",e),!1)}getTagsLabel(){return this.globals.languageConfLocal[this.tagsLabelKey]||("catchwords"===this.tagsLabelKey?"Schlagw\xf6rter":"Tags")}clearTagsInput(){this.participatingProjectsFilter="",this.tagsInput?.nativeElement&&(this.tagsInput.nativeElement.value=""),this.detectChanges()}focusTagsInput(e){const i=e?.target;if(i&&i.closest("button,[matChipRemove]"))return;const r=this.tagsInput?.nativeElement;if(r){r.focus();const o=r.value?.length??0;try{r.setSelectionRange(o,o)}catch{}(this.searchResultsArray?.length??0)>0&&this.projectsAutocompleteTrigger?.openPanel()}}onChipListMouseDown(e){const i=e.target;i&&i.closest("button,[matChipRemove]")||e.preventDefault()}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(Tu),R(qt),R(Bd),R(zn),R(nr),R($e),R(Qi),R(fs),R(Ys),R(Ks))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-tags-selector"]],viewQuery:function(i,r){if(1&i&&Jt(Nwe,5)(Lwe,5)(Fwe,5)(A4,5)(A4,5,yo)(Bwe,5,nt),2&i){let o;_e(o=be())&&(r.projectSelectorPanel=o.first),_e(o=be())&&(r.searchProjectsInput=o.first),_e(o=be())&&(r.searchDocumentInput=o.first),_e(o=be())&&(r.tagsInput=o.first),_e(o=be())&&(r.projectsAutocompleteTrigger=o.first),_e(o=be())&&(r.chipsContainer=o.first)}},hostBindings:function(i,r){1&i&&ae("pointerup",function(){return r.onDocPointerUp()},w1)},standalone:!1,decls:1,vars:1,consts:[["chipsInMain",""],["tagsInput",""],["auto","matAutocomplete"],["id","mainInputTagsSelector",2,"width","100%"],[2,"font-size","small"],[1,"tagsChipsHolder",3,"mousedown","click"],[3,"removable","title"],["matInput","",1,"tagsChipsInput",3,"input","focus","keydown","blur","matChipInputFor","matAutocomplete"],[1,"tagsSelectorAutocomplete",3,"optionSelected","opened"],[1,"tagsOption",3,"value"],[3,"removed","removable","title"],[1,"chipBase"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded"],[1,"tagsOption",3,"mousedown","mouseup","touchstart","touchend","value"],[2,"float","left"],[1,"listEntryItemMainLine",3,"title"]],template:function(i,r){1&i&&te(0,Uwe,14,3,"div"),2&i&&ne(!r.globals.infoShower.noneSelected&&r.tagsVisible&&r.globals.configJson.allowTagsFeature?0:-1)},dependencies:[mo,Gr,eo,po,vo,vl,Cl,yl,b5,yo],styles:['.tagsSelectorAutocomplete .mat-option,.tagsOption>.mat-option-text,.itemListEntry{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.tagsSelectorAutocomplete .mat-option>div,.tagsOption>.mat-option-text>div,.itemListEntry>div,.tagsSelectorAutocomplete .mat-option a,.tagsOption>.mat-option-text a,.itemListEntry a,.tagsSelectorAutocomplete .mat-option a>div,.tagsOption>.mat-option-text a>div,.itemListEntry a>div{display:block;overflow:hidden}.tagsSelectorAutocomplete .mat-option>div>[class^=listEntryItem],.tagsOption>.mat-option-text>div>[class^=listEntryItem],.itemListEntry>div>[class^=listEntryItem],.tagsSelectorAutocomplete .mat-option a>[class^=listEntryItem],.tagsOption>.mat-option-text a>[class^=listEntryItem],.itemListEntry a>[class^=listEntryItem],.tagsSelectorAutocomplete .mat-option a>div>[class^=listEntryItem],.tagsOption>.mat-option-text a>div>[class^=listEntryItem],.itemListEntry a>div>[class^=listEntryItem]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.tagsSelectorAutocomplete .mat-option:not(:last-child),.tagsOption>.mat-option-text:not(:last-child),.itemListEntry:not(:last-child){border-bottom:1px solid #e0e0e0}.tagsSelectorAutocomplete .mat-option:hover:not([data-selected=true]),.tagsOption>.mat-option-text:hover:not([data-selected=true]),.itemListEntry:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.tagsSelectorAutocomplete .mat-option:hover:not([data-selected=true]) .resultsLineWrapper,.tagsOption>.mat-option-text:hover:not([data-selected=true]) .resultsLineWrapper,.itemListEntry:hover:not([data-selected=true]) .resultsLineWrapper{background-color:#e0e0e0}.tagsSelectorAutocomplete [data-selected=true].mat-option,.tagsOption>[data-selected=true].mat-option-text,[data-selected=true].itemListEntry{background-color:#d3d3d3}.tagsSelectorAutocomplete [data-selected=true].mat-option .resultsLineWrapper,.tagsOption>[data-selected=true].mat-option-text .resultsLineWrapper,[data-selected=true].itemListEntry .resultsLineWrapper{background-color:#d3d3d3}.tagsSelectorAutocomplete .mat-option img,.tagsOption>.mat-option-text img,.itemListEntry img{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.tagsSelectorAutocomplete .mat-option .resultsLineWrapper,.tagsOption>.mat-option-text .resultsLineWrapper,.itemListEntry .resultsLineWrapper{overflow:hidden;text-overflow:ellipsis}.prevent-select{-webkit-user-select:none;user-select:none}.item{padding:.3em 1.2em}.btn-group{width:100%;padding-top:3px}.btn-group button{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group:after{content:"";clear:both;display:table}.btn-group button:first-child{border-radius:5px 0 0 5px}.btn-group button:last-child{border-radius:0 5px 5px 0}.btn-group button:not(:last-child){border-right:none}.chipRemoveButton{margin-top:0!important;margin-left:0!important}.chipImage{height:1.5em;margin-right:3px;margin-left:-1px}.chipBase{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.mat-form-field .tagsChipsInput{width:100%;margin:0;line-height:1.8em;height:0}.mat-form-field .tagsChipsInput:focus{height:auto}.mat-form-field.mat-focused .tagsChipsInput{height:auto}.tagsOption{height:2.5em!important;padding-left:.5em!important}.tagsOption>.mat-option-text{display:flex!important;border-bottom:none!important}.tagsChipsHolder>.mat-chip-list-wrapper{max-height:7.5em;overflow-x:hidden;overflow-y:auto;scrollbar-gutter:stable;margin:0!important;grid-gap:4px;padding:4px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.tagsChipsHolder>.mat-chip-list-wrapper>.mat-chip{margin:0;background-color:#0000000a}.tagsChipsHolder>.mat-chip-list-wrapper>.mat-chip:first-of-type:last-of-type{grid-column:span 2}.listEntryItemMainLine{font-size:13px}.listEntryItemSubLine{font-size:12px}.mat-expansion-panel-header-title{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header{padding:0!important}.mat-expansion-panel-header:hover{background-color:transparent!important}.tagsOption span.mat-option-text{grid-gap:4px}:host ::ng-deep mat-form-field#mainInputTagsSelector.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label,:host ::ng-deep mat-form-field#mainInputTagsSelector.mat-mdc-form-field .mdc-text-field--no-label .mat-mdc-floating-label,:host ::ng-deep mat-form-field#mainInputTagsSelector.mat-mdc-form-field .mdc-text-field--filled .mat-mdc-floating-label{top:20px!important}:host ::ng-deep mat-form-field#mainInputTagsSelector.mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:4px!important;min-height:40px!important}.tagsChipsHolder{padding-top:0!important;overflow-y:auto;max-height:58px!important;margin-top:-1px!important;padding-bottom:9px!important;--mat-chip-container-height: 24px}.tagsChipsHolder:has(mat-chip:first-of-type:last-of-type){max-height:32px!important;padding-bottom:0!important}#mainInputTagsSelector{--mat-chip-container-height: 24px}#mainInputTagsSelector .mat-mdc-standard-chip{height:24px!important}#mainInputTagsSelector .mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:8px!important;padding-right:8px!important}#mainInputTagsSelector .mat-mdc-standard-chip .mdc-evolution-chip__action--trailing{padding-left:4px!important;padding-right:5px!important}\n'],encapsulation:2})}}return n})();const zwe=["projectSelectorPanel"],qwe=["searchProjectsInput"],$we=["destinationProjectsInputRO"],T4=["destinationProjectsInput"],I4=["searchProjectPhasesInput"],Gwe=["allProjectsButton"];function Wwe(n,t){if(1&n&&(_(0,"mat-option",21),H(1),b()),2&n){const e=t.$implicit,i=C(3);K("value",e.value),f(),Ae(i.htmlHelp.parseHtmlEntities(e.viewValue))}}function Kwe(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",11)(1,"mat-label"),H(2),b(),_(3,"mat-select",20),Pt("valueChange",function(r){Y(e);const o=C(2);return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C(2).getProjects(!1))}),hn(4,Wwe,2,2,"mat-option",21,kn),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.projectDatabase),f(),Ot("value",e.selectedDB),f(),mn(e.databases)}}function Ywe(n,t){if(1&n&&(_(0,"div",13),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.htmlHelp.parseHtmlEntities(e.globals.languageConfLocal.recentlyUsed)," ")}}function Qwe(n,t){if(1&n){const e=Ne();_(0,"div",28),ae("click",function(r){Y(e);const o=C().$implicit,s=C(2);return r.stopPropagation(),Q(s.datasource.addDocumentLinkToMail(o))}),_(1,"span",29),H(2,"link"),b()()}if(2&n){const e=C(3);f(),K("title",e.htmlHelp.parseHtmlEntities(e.globals.languageConfLocal.addLinkTextToMail))}}function Xwe(n,t){if(1&n){const e=Ne();_(0,"div",22),ae("click",function(r){return Y(e),Q(C(2).dblClickedElement(r))}),ve(1,"img",23),_(2,"div",24)(3,"span",25),H(4),b(),ve(5,"br"),_(6,"span",26),H(7),b(),ve(8,"br"),_(9,"span",26),H(10),b(),ve(11,"br"),b(),te(12,Qwe,3,1,"div",27),b()}if(2&n){const e=t.$implicit,i=t.$index,r=C(2);K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),Qe("data-order",i+1)("data-fdme",e.fdMe)("data-displayname",r.htmlHelp.parseHtmlEntities(e.lineOne))("data-image",e.image),f(),K("src",r.datasource.getImageSrc(e.image),In)("title",r.htmlHelp.parseHtmlEntities(e.lineOne)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineOne)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineTwo)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineThree)),f(2),ne(r.settings.LinkOptionActive&&!r.globals.infoShower.isReadMode?12:-1)}}function Zwe(n,t){if(1&n){const e=Ne();_(0,"mat-chip",30),ae("removed",function(){const r=Y(e).$implicit;return Q(C(2).removeProject(r))}),ve(1,"img",31),_(2,"div",32),H(3),b(),_(4,"button",33)(5,"span",34),H(6,"cancel"),b()()()}if(2&n){const e=t.$implicit,i=C(2);K("removable",!0)("title",i.htmlHelp.parseHtmlEntities(e.name)),Qe("data-pointer",e.pointer),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),Ae(i.htmlHelp.parseHtmlEntities(e.name))}}function Jwe(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-card",3,0)(3,"mat-card-title",4),H(4),_(5,"div",5)(6,"span",6),ae("click",function(){return Y(e),Q(C().confirmSelection())}),H(7,"check_circle"),b(),_(8,"span",7),ae("click",function(){return Y(e),Q(C().cancelSelection())}),H(9,"cancel"),b()()(),_(10,"mat-card-content",8)(11,"mat-form-field",9)(12,"mat-label"),H(13),b(),_(14,"input",10,1),ae("input",function(r){return Y(e),Q(C().textChanged(r))}),b()(),te(16,Kwe,6,2,"mat-form-field",11),ve(17,"br"),_(18,"div",12),te(19,Ywe,2,1,"div",13),hn(20,Xwe,13,18,"div",14,kn),b()(),_(22,"mat-card-footer",15),ve(23,"mat-divider",16),_(24,"mat-chip-grid",17,2),hn(26,Zwe,7,5,"mat-chip",18,kn),ve(28,"input",19),b()()()()}if(2&n){const e=rn(25),i=C();f(4),Xe(" ",i.globals.languageConfLocal.projectSelection," "),f(2),K("title",i.globals.languageConfLocal.Apply),f(2),K("title",i.globals.languageConfLocal.Cancel),f(5),Ae(i.globals.languageConfLocal.searchProjectsInCRM),f(3),ne(null!=i.databases&&i.databases.length>0?16:-1),f(3),ne(i.showRecentlyUsed?19:-1),f(),mn(i.searchResultsArray),f(6),mn(i.projects),f(2),K("matChipInputFor",e)}}let e0e=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h){this.globals=e,this.ref=i,this.snack=r,this.translate=o,this.datasource=s,this.settings=a,this.zone=c,this.lsm=l,this.dps=d,this.graph=u,this.htmlHelp=h,this.console=new li("ProjectSelectorPageComponent"),this.projectSelectorPanelVisible=!1,this.searchTextInput="",this.searchResultsArray=[],this.projectPhaseResultArray=[],this.projectPhaseSearchResultArray=[],this.projectPhaseFilter="",this.participatedResultsArray=[],this.databases=[],this.searchValue="",this.showRecentlyUsed=!0,this.destinationDirectProjectsCount=0,this.destinationProjects=new es(""),this.projectPhasesControl=new es(""),this.participatingProjectsFilter="",this.addressFetched=!1,this.addresses=[],this.filteredAdditionalValues={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"projectPage"===e.newWindow&&"main"===e.currentWindow&&this.initializeTheView()})}initializeTheView(){this.databases=[],this.searchValue="",this.searchProjectsInput.nativeElement.value="",this.searchResultsArray=[],this.projects=[...this.globals.projectSelector.projects],"gi"===this.globals.system&&(this.showRecentlyUsed=!1),this.getProjectDBs(this.globals.infoShower.primaryPointer),this.getProjects(!1),setTimeout(()=>{this.searchProjectsInput.nativeElement.focus()},0)}detectChanges(){this.ref.detectChanges()}confirmSelection(){this.globals.projectSelector.projects=this.projects,this.globals.activeWindow="main"}cancelSelection(){this.globals.activeWindow="main"}removeProject(e){this.projects.splice(this.projects.findIndex(i=>i.pointer===e.pointer),1),this.projectChipsChanged()}removeProjectPhase(e){this.projectPhases.splice(this.projects.findIndex(i=>i.pointer===e.pointer),1),this.projectPhaseChipsChanged()}projectChipsChanged(){if(Office.context.mailbox.item){let i=JSON.stringify(this.projects.concat(this.projectPhases)),r=this.globals.infoShower.currentItemId;this.lsm.setValue(Ht.selectedProjects,i),this.graph.getExtendedData(r).subscribe(o=>{o.selectedProjects=i,this.graph.saveExtendedData(r,o).subscribe(s=>{})})}if(this.projects.length>0){this.destinationProjectsInput?.nativeElement.classList.add("hasProjects"),this.destinationProjectsInputRO?.nativeElement.classList.add("hasProjects"),this.allProjectsButton?.nativeElement.classList.add("hasProjects");let i=this.projects.map(r=>r.pointer);this.datasource.getPhasesOfPointer(i).subscribe(r=>{this.projectPhaseResultArray=r,this.console.info("Projectphases:",this.projectPhaseResultArray)})}else this.destinationProjectsInput?.nativeElement.classList.remove("hasProjects"),this.destinationProjectsInputRO?.nativeElement.classList.remove("hasProjects"),this.allProjectsButton?.nativeElement.classList.remove("hasProjects")}projectPhaseChipsChanged(){if(Office.context.mailbox.item){let i=JSON.stringify(this.projects.concat(this.projectPhases)),r=this.globals.infoShower.currentItemId;this.lsm.setValue(Ht.selectedProjects,i),this.graph.getExtendedData(r).subscribe(o=>{o.selectedProjects=i,this.graph.saveExtendedData(r,o).subscribe(s=>{})})}}textChanged(e){let i=e.target.value;"ba"===this.globals.system&&(this.showRecentlyUsed=0===i.length),i.length>0&&!this.searchPanelExpanded?this.searchPanelExpanded=!0:0===i.length&&this.searchPanelExpanded&&(this.searchPanelExpanded=!1),this.searchValue=i,this.getProjects(!1)}searchParticipatingProjects(e){this.participatingProjectsFilter=e.target.value}searchProjectPhases(e){this.projectPhaseFilter=e.target.value}dblClickedElement(e){let i=e.currentTarget;if(!this.projects.some(r=>r.pointer===i.dataset.fdme)){let r=new Ga;r.name=i.dataset.displayname,r.pointer=i.dataset.fdme,r.image=i.dataset.image,this.datasource.addToRecentlyUsed(i.dataset.fdme),this.projects.push(r),setTimeout(()=>{const o=document.querySelector(".allProjectsFooter .mat-chip-list-wrapper");o&&(o.scrollTop=o.scrollHeight),this.blinkChip(r.pointer)},10),this.projectChipsChanged()}}blinkChip(e){document.querySelector('mat-chip[data-pointer="'+e+'"]')?.classList.add("fade-it")}getProjectDBs(e){const i={};e?i.pointer=e:i.onlyOptions=!0;const r=new Yt({fromObject:i});this.datasource.fetchDBs("projects",r).subscribe(o=>{this.console.info("ProjectDBs:",o),o&&this.generateSelectionArrProjectDbs(o.databases,e)})}generateSelectionArrProjectDbs(e,i){for(const s of e)this.databases.push({value:s.alias,viewValue:s.title});this.console.info("this.databases:",this.databases),this.databases.length>0&&(this.selectedDB=this.databases[0].value)}getProjects(e){e&&!this.globals.infoShower.primaryPointer||this.datasource.searchProjects(this.selectedDB,e?this.globals.infoShower.primaryPointer:"",this.searchValue).subscribe({next:i=>{i.MessageDetail&&i.MessageDetail.indexOf("BM4OProjects")>0?this.globals.noProjects=!0:(this.searchResultsArray=this.datasource.handleSearchResult(i,Oa.projects,{participantProjects:e}),e&&(this.destinationDirectProjectsCount=this.searchResultsArray.length,this.participatedResultsArray=this.datasource.handleSearchResult(i,Oa.projects,{participantProjects:e}),this.zone.run(()=>{setTimeout(()=>{this.showProjectSnack()},0)})),this.detectChanges(),this.console.info("ProjectSearchResults:",this.searchResultsArray))}})}showProjectSnack(){this.globals.infoShower.isReadMode||(this.projectSnack?.dismiss(),1===this.destinationDirectProjectsCount?(this.projectSnack=this.snack.open(this.globals.languageConfLocal.selectedAddressHasAssignedProject,this.globals.languageConfLocal.LC73057,{duration:7500}),this.projectSnack.afterOpened().subscribe(()=>{this.detectChanges()}),this.projectSnack.onAction().subscribe(()=>{this.projects=[],this.addOneProjectChip(this.searchResultsArray[0])})):this.destinationDirectProjectsCount>1&&(this.projectSnack=this.snack.open(this.globals.languageConfLocal.selectedAddressHasAssignedProjects,"OK",{duration:9500}),this.projectSnack.afterOpened().subscribe(()=>{this.detectChanges()}),this.projectSnack.onAction().subscribe(()=>{setTimeout(()=>{this.projectsAutocompleteTrigger?.openPanel(),this.destinationProjectsInput.nativeElement.focus()},10)})))}autoProjectSelected(e){this.addOneProjectChip(e.option.value),this.participatingProjectsFilter="",this.destinationProjectsInput.nativeElement.value=""}autoProjectPhaseSelected(e){this.addOneProjectPhaseChip(e.option.value),this.projectPhaseFilter=""}addOneProjectChip(e){let i=new Ga;i.name=e.lineOne,i.pointer=e.fdMe,i.image=e.image,this.datasource.addToRecentlyUsed(e.fdme),this.projects.push(i),this.projectChipsChanged()}addOneProjectPhaseChip(e){let i=new Ga;i.name=e.lineOne,i.pointer=e.fdMe,i.image=e.image,this.datasource.addToRecentlyUsed(e.fdme),this.projectPhases.push(i);let r=this.projects.findIndex(o=>o.pointer===e.parentPointer);-1!==r&&this.projects.splice(r,1),this.projectPhaseChipsChanged()}get filteredParticipatedResultsArray(){let e=this.participatingProjectsFilter?.toLowerCase();return this.participatedResultsArray.filter(i=>!this.projects.map(r=>r.pointer).some(r=>r===i.fdMe)&&(!e||i.lineOne.toLowerCase().includes(e)||i.lineTwo?.toLowerCase().includes(e)||i.lineThree?.toLowerCase().includes(e)))}get filteredProjectPhases(){let e=this.projectPhaseFilter?.toLowerCase();return this.projectPhaseResultArray.filter(i=>!this.projectPhases.map(r=>r.pointer).some(r=>r===i.fdMe)&&(!e||i.lineOne.toLowerCase().includes(e)||i.lineTwo?.toLowerCase().includes(e)||i.lineThree?.toLowerCase().includes(e)))}getProjectsLabel(){return this.projects.length>0?this.globals.languageConfLocal.selectedProjects:this.destinationDirectProjectsCount>0?this.globals.languageConfLocal.assignedProjects+" ("+this.destinationDirectProjectsCount+")":this.globals.languageConfLocal.selectProjectsCRM}autocompleteOpened(e){this.dps.closeAll(e)}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(qt),R(Bd),R(zn),R(nr),R(ns),R($e),R(Qi),R(fs),R(Ks),R(Ys))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-project-selector-page"]],viewQuery:function(i,r){if(1&i&&Jt(zwe,5)(qwe,5)($we,5)(T4,5)(I4,5)(Gwe,5)(T4,5,yo)(I4,5,yo),2&i){let o;_e(o=be())&&(r.projectSelectorPanel=o.first),_e(o=be())&&(r.searchProjectsInput=o.first),_e(o=be())&&(r.destinationProjectsInputRO=o.first),_e(o=be())&&(r.destinationProjectsInput=o.first),_e(o=be())&&(r.searchProjectPhasesInput=o.first),_e(o=be())&&(r.allProjectsButton=o.first),_e(o=be())&&(r.projectsAutocompleteTrigger=o.first),_e(o=be())&&(r.phasesAutocompleteTrigger=o.first)}},standalone:!1,decls:1,vars:1,consts:[["projectSelectorPanel",""],["searchProjectsInput",""],["chipsInCard",""],[1,"allProjectsCard"],[1,"left-right-align"],[1,"iconsDiv"],[1,"material-symbols-rounded","green","customSize",2,"cursor","pointer",3,"click","title"],[1,"material-symbols-rounded","red","customSize",2,"cursor","pointer",3,"click","title"],[1,"allProjectsContent"],[2,"width","100%"],["matInput","","type","text",3,"input"],["appearance","fill",1,"databaseSearchSelect"],["id","resultsContainer",1,"prevent-select"],[1,"recentlyUsed"],[1,"itemListEntry","resultListEntry","hoverArea",3,"title"],[1,"allProjectsFooter"],[2,"padding-bottom","2px"],[1,"projectsChipsHolder"],[2,"width","90% !important",3,"removable","title"],["matInput","","readonly","",2,"width","100%","height","0px","margin","0px",3,"matChipInputFor"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"itemListEntry","resultListEntry","hoverArea",3,"click","title"],[3,"src","title"],[1,"resultsLineWrapper"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],[1,"overlayLinkMail"],[1,"overlayLinkMail",3,"click"],[1,"material-symbols-rounded",3,"title"],[2,"width","90% !important",3,"removed","removable","title"],[1,"chipImage",3,"src"],[1,"chipBase"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded"]],template:function(i,r){1&i&&te(0,Jwe,29,7,"div"),2&i&&ne(r.globals.infoShower&&(!r.globals.infoShower.noneSelected&&!r.globals.noProjects||r.globals.addressActivities.documentsAsDestinations.length>0)?0:-1)},dependencies:[gv,mo,Gr,$a,eo,po,Du,Eu,Cp,xu,vo,vl,Cl,yl],styles:['.projectSelectorAutocomplete .mat-option,.projectOption>.mat-option-text,.itemListEntry{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.projectSelectorAutocomplete .mat-option>div,.projectOption>.mat-option-text>div,.itemListEntry>div,.projectSelectorAutocomplete .mat-option a,.projectOption>.mat-option-text a,.itemListEntry a,.projectSelectorAutocomplete .mat-option a>div,.projectOption>.mat-option-text a>div,.itemListEntry a>div{display:block;overflow:hidden}.projectSelectorAutocomplete .mat-option>div>[class^=listEntryItem],.projectOption>.mat-option-text>div>[class^=listEntryItem],.itemListEntry>div>[class^=listEntryItem],.projectSelectorAutocomplete .mat-option a>[class^=listEntryItem],.projectOption>.mat-option-text a>[class^=listEntryItem],.itemListEntry a>[class^=listEntryItem],.projectSelectorAutocomplete .mat-option a>div>[class^=listEntryItem],.projectOption>.mat-option-text a>div>[class^=listEntryItem],.itemListEntry a>div>[class^=listEntryItem]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.projectSelectorAutocomplete .mat-option:not(:last-child),.projectOption>.mat-option-text:not(:last-child),.itemListEntry:not(:last-child){border-bottom:1px solid #e0e0e0}.projectSelectorAutocomplete .mat-option:hover:not([data-selected=true]),.projectOption>.mat-option-text:hover:not([data-selected=true]),.itemListEntry:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.projectSelectorAutocomplete .mat-option:hover:not([data-selected=true]) .resultsLineWrapper,.projectOption>.mat-option-text:hover:not([data-selected=true]) .resultsLineWrapper,.itemListEntry:hover:not([data-selected=true]) .resultsLineWrapper{background-color:#e0e0e0}.projectSelectorAutocomplete [data-selected=true].mat-option,.projectOption>[data-selected=true].mat-option-text,[data-selected=true].itemListEntry{background-color:#d3d3d3}.projectSelectorAutocomplete [data-selected=true].mat-option .resultsLineWrapper,.projectOption>[data-selected=true].mat-option-text .resultsLineWrapper,[data-selected=true].itemListEntry .resultsLineWrapper{background-color:#d3d3d3}.projectSelectorAutocomplete .mat-option img,.projectOption>.mat-option-text img,.itemListEntry img{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.projectSelectorAutocomplete .mat-option .resultsLineWrapper,.projectOption>.mat-option-text .resultsLineWrapper,.itemListEntry .resultsLineWrapper{overflow:hidden;text-overflow:ellipsis}.allProjectsContent #resultsContainer{height:50vh;overflow-y:auto}.allProjectsContent #resultsContainer>.recentlyUsed{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.allProjectsContent #resultsContainer>.recentlyUsed+.itemListEntry{padding-top:8px}.resultsLineWrapper{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select{-webkit-user-select:none;user-select:none}.item{padding:.3em 1.2em}.btn-group{width:100%;padding-top:3px}.btn-group button{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group:after{content:"";clear:both;display:table}.btn-group button:first-child{border-radius:5px 0 0 5px}.btn-group button:last-child{border-radius:0 5px 5px 0}.btn-group button:not(:last-child){border-right:none}.chipRemoveButton{margin-top:-.5em;margin-left:0!important}#searchText{font-size:12px}.searchResultsPanel{width:calc(100% - 1px);z-index:4;border-radius:5px}.chipImage{height:1.5em;margin-right:3px;margin-left:-3px}.chipBase{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.mat-form-field .projectChipsInput{width:100%;margin:0;line-height:1.8em;height:0}.mat-form-field .projectChipsInput:focus{height:auto}.mat-form-field.mat-focused .projectChipsInput{height:auto}.allProjects{cursor:pointer;position:absolute;right:-.1em;top:0}.allProjects.hasProjects{top:-.7em}.projectOption{height:4em;padding-left:.5em!important}.projectOption>.mat-option-text{display:flex!important;border-bottom:none!important}.projectsChipsHolder>.mat-chip-list-wrapper{max-height:7.5em;overflow-x:hidden;overflow-y:auto;scrollbar-gutter:stable;margin:0!important;grid-gap:4px;padding:4px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip{margin:0;background-color:#0000000a}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip:first-of-type:last-of-type{grid-column:span 2}.projectChipsNoInput:not(.hasProjects){display:block;height:0}.projectChipsNoInput.hasProjects{display:none}.allProjectsCard{z-index:10;width:100%;height:100vh;display:flex!important;flex-direction:column;box-shadow:none!important}.allProjectsTitle{flex-shrink:0;font-size:21px;font-weight:100;font-family:Segoe UI,"Segoe UI Web (West European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}.allProjectsContent{flex-grow:1;overflow:auto;font-size:12px;margin-bottom:0!important}.allProjectsContent #resultsContainer{height:max-content;overflow:auto;max-height:calc(100% - 50px)}.allProjectsFooter{padding-bottom:.3em;padding-left:6px}.listEntryItemMainLine{font-size:13px}.listEntryItemSubLine{font-size:12px}.mat-expansion-panel-header-title{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header{padding:0!important}.mat-expansion-panel-header:hover{background-color:transparent!important}.projectOption span.mat-option-text{grid-gap:4px}@keyframes green-fade{0%{background:#4e850c}to{background:#fcfcfc}}.fade-it{animation:green-fade 1s ease-in-out 0s}.customSize{font-size:22px!important}span.material-symbols-rounded.red:hover{color:#ff2727;font-weight:900}span.material-symbols-rounded.green:hover{color:#13e813;font-weight:900}span.material-symbols-rounded.red,span.material-symbols-rounded.green{border-radius:16px;color:#a9a9a9;font-weight:900}.iconsDiv{display:flex}.left-right-align{display:flex;justify-content:space-between}.imgAndLink{padding-right:3px}.LinkToMailButton{color:#000000de;opacity:.7;padding-right:0!important;padding-left:0!important;display:flex;cursor:pointer;align-items:center;margin-right:-6px;background-color:#fff;border-radius:16px;padding-bottom:0;padding-top:0}.hoverArea{position:relative;height:auto}.hoverArea:hover .overlayLinkMail{visibility:visible!important}.overlayLinkMail{visibility:hidden;width:24px;height:24px;color:#202020;text-align:center;background-color:#fff;border-radius:16px;padding-top:0;padding-right:24px;padding-bottom:-2px;margin-right:8px;margin-top:12px;color:#000000de;opacity:.7;transition:background-color .3s ease}.overlayLinkMail:hover{background-color:#a9a9a9}.projectsChipsHolder>.mat-mdc-chip,.projectsChipsHolder>.mat-chip,.projectsChipsHolder>mat-chip{display:inline-flex!important;align-items:center!important;gap:6px!important;padding:0 6px!important;box-sizing:border-box!important;white-space:nowrap!important}.projectsChipsHolder .chipImage{display:inline-block!important;flex:0 0 auto!important;height:1.5em!important;margin-right:6px!important;vertical-align:middle!important}.projectsChipsHolder .chipBase{display:inline-block!important;flex:1 1 auto!important;width:auto!important;max-width:calc(100% - 2.2em)!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;vertical-align:middle!important}.projectsChipsHolder .chipRemoveButton{display:inline-flex!important;align-items:center!important;justify-content:center!important;align-self:center!important;height:auto!important;padding:0 6px!important;margin-top:0!important;transform:translateY(0)!important;line-height:1!important}.projectsChipsHolder>.mat-mdc-chip .chipRemoveButton,.projectsChipsHolder>.mat-chip .chipRemoveButton,.projectsChipsHolder>mat-chip .chipRemoveButton{margin-top:0!important}\n'],encapsulation:2})}}return n})();const t0e=["tooltip"],i0e=new Z("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=p(kt);return()=>Pd(n,{scrollThrottle:20})}}),r0e=new Z("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})}),M4="tooltip-panel",R4=sb({passive:!0});let l0e=(()=>{class n{_elementRef=p(nt);_ngZone=p($e);_platform=p(oi);_ariaDescriber=p(p5);_focusMonitor=p(js);_dir=p(Nr);_injector=p(kt);_viewContainerRef=p(Un);_animationsDisabled=Yn();_defaultOptions=p(r0e,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=d0e;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Zi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){const i=Zi(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ka(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ka(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){const i=this._message;this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Oe;_isDestroyed=!1;constructor(){const e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($t(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,R4)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Id(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe($t(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof nt)return this._overlayRef;this._detach()}const i=this._injector.get(um).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${M4}`,o=mm(this._injector,this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i).withPopoverLocation("global");return o.positionChanges.pipe($t(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Kc(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(i0e)(),disableAnimations:this._animationsDisabled,usePopover:!0}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($t(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($t(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($t(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Ti(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe($t(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),pi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${M4}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,R4)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._injector.get(Ut).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||pi({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&st("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),d0e=(()=>{class n{_changeDetectorRef=p(qt);_elementRef=p(nt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Yn();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Oe;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=qe({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Jt(t0e,7),2&i){let o;_e(o=be())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){1&i&&ae("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(1&i){const o=Ne();_(0,"div",1,0),ae("animationend",function(a){return Y(o),Q(r._handleAnimationEnd(a))}),_(2,"div",2),H(3),b()()}2&i&&(st("mdc-tooltip--multiline",r._isMultiline),K("ngClass",r.tooltipClass),f(3),Ae(r.message))},dependencies:[zh],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}\n'],encapsulation:2,changeDetection:0})}return n})();const u0e=["openAfterCreate"],h0e=["linkOptionActive"],m0e=["autoDocument"],p0e=["autoCategoryMark"],f0e=["syncUserSettings"],g0e=(n,t)=>t.id;function _0e(n,t){if(1&n){const e=Ne();_(0,"span",17),ae("click",function(){return Y(e),Q(C().saveSettings())}),H(1,"check_circle"),b()}2&n&&K("title",C().globals.languageConfLocal.Apply)}function b0e(n,t){if(1&n){const e=Ne();_(0,"div",20)(1,"mat-label",29),H(2),b(),_(3,"mat-form-field",30)(4,"input",31),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.categoryName,r)||(o.categoryName=r),Q(r)}),b()()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.categoryNameLabel),f(2),Ot("ngModel",e.categoryName),K("placeholder",e.globals.languageConfLocal.categoryNamePlaceholder)}}function y0e(n,t){if(1&n&&(_(0,"mat-option",34),H(1),b()),2&n){const e=C(3);f(),Ae(e.globals.languageConfLocal.postDocLoadingFolders)}}function v0e(n,t){if(1&n&&(_(0,"mat-option",34),H(1),b()),2&n){const e=C(3);f(),Ae(e.globals.languageConfLocal.postDocNoFolders)}}function C0e(n,t){if(1&n&&(_(0,"mat-option",35),H(1),b()),2&n){const e=t.$implicit;K("value",e.id),f(),Ae(e.displayName)}}function w0e(n,t){if(1&n){const e=Ne();_(0,"div",28)(1,"mat-label",29),H(2),b(),_(3,"mat-form-field",32)(4,"mat-select",33),Pt("ngModelChange",function(r){Y(e);const o=C(2);return Bt(o.postDocFolderId,r)||(o.postDocFolderId=r),Q(r)}),ae("selectionChange",function(r){return Y(e),Q(C(2).onFolderSelected(r))}),te(5,y0e,2,1,"mat-option",34),te(6,v0e,2,1,"mat-option",34),hn(7,C0e,2,2,"mat-option",35,g0e),b()()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.postDocSelectFolder),f(2),Ot("ngModel",e.postDocFolderId),K("placeholder",e.globals.languageConfLocal.postDocSelectFolder),f(),ne(e.mailFoldersLoading?5:-1),f(),ne(e.mailFoldersLoading||0!==e.mailFolders.length?-1:6),f(),mn(e.mailFolders)}}function D0e(n,t){if(1&n){const e=Ne();_(0,"div",18)(1,"mat-label"),H(2),b(),ve(3,"mat-checkbox",null,2),b(),ve(5,"div",15),_(6,"div",18)(7,"mat-label"),H(8),b(),ve(9,"mat-checkbox",null,3),b(),ve(11,"div",15),_(12,"div",18)(13,"mat-label"),H(14),b(),ve(15,"mat-checkbox",null,4),b(),ve(17,"div",15),_(18,"div",18)(19,"mat-label"),H(20),b(),_(21,"mat-checkbox",19,5),ae("change",function(r){return Y(e),Q(C().onAutoCategoryMarkChange(r))}),b()(),te(23,b0e,5,3,"div",20),ve(24,"div",15),_(25,"div",21)(26,"mat-label",22),H(27),b(),_(28,"mat-form-field",23)(29,"mat-select",24),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.postDocAction,r)||(o.postDocAction=r),Q(r)}),_(30,"mat-select-trigger"),H(31),b(),_(32,"mat-option",25),H(33),b(),_(34,"mat-option",26),H(35),b(),_(36,"mat-option",27),H(37),b()()()(),te(38,w0e,9,5,"div",28),ve(39,"div",15),_(40,"div",18)(41,"mat-label"),H(42),b(),ve(43,"mat-checkbox",null,6),b()}if(2&n){const e=rn(22),i=C();f(2),Ae(i.globals.languageConfLocal.autoOpenNew),f(6),Ae(i.globals.languageConfLocal.activateLinkOption),f(6),Ae(i.globals.languageConfLocal.autoDocument),f(6),Ae(i.globals.languageConfLocal.autoCategoryMark),f(3),ne(null!=e&&e.checked?23:-1),f(3),K("matTooltip",en(i.globals.languageConfLocal.postDocSendActionLabelTooltip)),f(),Ae(i.globals.languageConfLocal.postDocSendActionLabel),f(2),Ot("ngModel",i.postDocAction),f(2),Xe(" ",i.getPostDocActionLabel()," "),f(2),Ae(i.globals.languageConfLocal.postDocNone),f(2),Ae(i.globals.languageConfLocal.postDocDelete),f(2),Ae(i.globals.languageConfLocal.postDocMove),f(),ne("move"===i.postDocAction?38:-1),f(4),Ae(i.globals.languageConfLocal.syncUserSettings)}}let x0e=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u){this.globals=e,this.ref=i,this.snack=r,this.messageService=o,this.translate=s,this.datasource=a,this.ngZone=c,this.connectionService=l,this.settings=d,this.graph=u,this.postDocAction="none",this.postDocFolderId="",this.postDocFolderName="",this.mailFolders=[],this.mailFoldersLoading=!1,this.categoryName=""}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"userSettings"===e.newWindow&&(this.initializeTheView(),this.globals.loggedIn||this.openWebIntModal())})}initializeTheView(){void 0!==this.openAfterCreate&&(this.openAfterCreate.checked="true"===this.settings.get(Kt.USopenAfterCreate)),void 0!==this.linkOptionActive&&(this.linkOptionActive.checked="true"===this.settings.get(Kt.USlinkOptionActive)),void 0!==this.autoDocument&&(this.autoDocument.checked="true"===this.settings.get(Kt.USautoDocument)),void 0!==this.autoCategoryMark&&(this.autoCategoryMark.checked="true"===this.settings.get(Kt.USautoCategoryMark));let e=this.settings.CategoryName;(null===e||""===e)&&(e=this.globals.languageConfLocal?.documented||"Documented"),this.categoryName=e;const i=this.settings.get(Kt.USpostDocAction)||"none";this.postDocAction=i,this.postDocFolderId=this.settings.get(Kt.USpostDocFolderId)||"",this.postDocFolderName=this.settings.get(Kt.USpostDocFolderName)||"",this.globals.graphLoaded?this.loadMailFolders():(this.mailFolders=[],this.mailFoldersLoading=!1),void 0!==this.syncUserSettings&&(this.syncUserSettings.checked="true"===this.settings.get(Kt.USsyncUserSettings))}getPostDocActionLabel(){switch(this.postDocAction){case"delete":return this.globals.languageConfLocal.postDocDelete||"Delete";case"move":return this.globals.languageConfLocal.postDocMove||"Move to folder";default:return this.globals.languageConfLocal.postDocNone||"Keep in mailbox"}}detectChanges(){this.ref.detectChanges()}saveSettings(){this.settings.set(Kt.USopenAfterCreate,String(this.openAfterCreate.checked)),this.linkOptionActive&&this.settings.set(Kt.USlinkOptionActive,String(this.linkOptionActive.checked)),this.autoDocument&&this.settings.set(Kt.USautoDocument,String(this.autoDocument.checked)),this.autoCategoryMark&&this.settings.set(Kt.USautoCategoryMark,String(this.autoCategoryMark.checked)),this.settings.set(Kt.UScategoryName,this.categoryName||this.globals.languageConfLocal?.documented),this.settings.set(Kt.USpostDocAction,this.postDocAction),this.settings.set(Kt.USpostDocFolderId,this.postDocFolderId),this.settings.set(Kt.USpostDocFolderName,this.postDocFolderName),this.syncUserSettings&&this.settings.setSyncUserSettings(this.syncUserSettings.checked),this.settings.save().subscribe({next:e=>{"succeeded"===e.status?(this.globals.activeWindow="main",this.ngZone.run(()=>{setTimeout(()=>{this.globals.infoShower?.resetPendingDocActionState?.(),this.messageService.showSuccess(this.globals.languageConfLocal.settingsSaved)},0)})):this.messageService.showError(this.globals.languageConfLocal.errorOnSettingsSave),this.globals.activeWindow="main"},error:e=>{this.messageService.showError(this.globals.languageConfLocal.errorOnSettingsSave)}})}cancelChanges(){this.globals.activeWindow="main"}onAutoCategoryMarkChange(e){this.ref.detectChanges()}openWebIntModal(){this.connectionService.waitForWebIntModal().subscribe(e=>{e()})}loadMailFolders(){this.mailFoldersLoading=!0,this.graph.listMailFolders().subscribe({next:e=>{this.mailFolders=e||[],this.mailFoldersLoading=!1,this.ref.detectChanges()},error:()=>{this.mailFolders=[],this.mailFoldersLoading=!1,this.ref.detectChanges()}})}onFolderSelected(e){const i=e.value,r=this.mailFolders.find(o=>o.id===i);this.postDocFolderId=i||"",this.postDocFolderName=r?.displayName||""}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(qt),R(Bd),R(Bn),R(zn),R(nr),R($e),R(Lr),R(ns),R(Ks))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-user-settings"]],viewQuery:function(i,r){if(1&i&&Jt(u0e,5)(h0e,5)(m0e,5)(p0e,5)(f0e,5),2&i){let o;_e(o=be())&&(r.openAfterCreate=o.first),_e(o=be())&&(r.linkOptionActive=o.first),_e(o=be())&&(r.autoDocument=o.first),_e(o=be())&&(r.autoCategoryMark=o.first),_e(o=be())&&(r.syncUserSettings=o.first)}},standalone:!1,decls:17,vars:5,consts:[["projectSelectorPanel",""],["firstEle",""],["openAfterCreate",""],["linkOptionActive",""],["autoDocument",""],["autoCategoryMark",""],["syncUserSettings",""],[1,"settingsCard"],[1,"left-right-align"],[1,"iconsDiv"],[1,"material-symbols-rounded","green","customSize",2,"cursor","pointer",3,"title"],[1,"material-symbols-rounded","red","customSize",2,"cursor","pointer",3,"click","title"],[1,"settingsContent"],[2,"padding","0px 12px !important"],["mat-menu-item","",2,"padding-left","0px !important",3,"click"],[1,"settingsSeparator"],[1,"settingsFooter"],[1,"material-symbols-rounded","green","customSize",2,"cursor","pointer",3,"click","title"],[1,"settingsHolder"],[3,"change"],[1,"settingsHolder","settingsHolderBlock","categoryNameRow"],[1,"settingsHolder","settingsHolderBlock"],[3,"matTooltip"],["appearance","outline",1,"postDocActionSelect",2,"margin-top","8px !important"],[3,"ngModelChange","ngModel"],["value","none"],["value","delete"],["value","move"],[1,"settingsHolder","settingsHolderBlock","postDocFolderRow"],[1,"settingsBlockLabel"],["appearance","outline",1,"categoryNameInput"],["matInput","",3,"ngModelChange","ngModel","placeholder"],["appearance","outline",1,"postDocFolderSelect"],[3,"ngModelChange","selectionChange","ngModel","placeholder"],["disabled",""],[3,"value"]],template:function(i,r){if(1&i){const o=Ne();_(0,"div")(1,"mat-card",7,0)(3,"mat-card-title",8),H(4),_(5,"div",9),te(6,_0e,2,1,"span",10),_(7,"span",11),ae("click",function(){return Y(o),Q(r.cancelChanges())}),H(8,"cancel"),b()()(),_(9,"mat-card-content",12)(10,"div",13)(11,"span",14,1),ae("click",function(){return Y(o),Q(r.openWebIntModal())}),H(13),b()(),ve(14,"div",15),te(15,D0e,45,15),b(),ve(16,"mat-card-footer",16),b()()}2&i&&(f(4),Xe(" ",r.globals.languageConfLocal.userSettings," "),f(2),ne(r.globals.loggedIn?6:-1),f(),K("title",r.globals.languageConfLocal.Cancel),f(6),Xe(" ",r.globals.languageConfLocal.webIntConfig," "),f(2),ne(r.globals.loggedIn?15:-1))},dependencies:[Io,Jo,ts,bu,mo,Gr,$a,M5,eo,po,Du,Eu,Cp,xu,Fv,l0e],styles:['.projectSelectorAutocomplete .mat-option,.projectOption>.mat-option-text,.itemListEntry{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.projectSelectorAutocomplete .mat-option>div,.projectOption>.mat-option-text>div,.itemListEntry>div,.projectSelectorAutocomplete .mat-option a,.projectOption>.mat-option-text a,.itemListEntry a,.projectSelectorAutocomplete .mat-option a>div,.projectOption>.mat-option-text a>div,.itemListEntry a>div{display:block;overflow:hidden}.projectSelectorAutocomplete .mat-option>div>[class^=listEntryItem],.projectOption>.mat-option-text>div>[class^=listEntryItem],.itemListEntry>div>[class^=listEntryItem],.projectSelectorAutocomplete .mat-option a>[class^=listEntryItem],.projectOption>.mat-option-text a>[class^=listEntryItem],.itemListEntry a>[class^=listEntryItem],.projectSelectorAutocomplete .mat-option a>div>[class^=listEntryItem],.projectOption>.mat-option-text a>div>[class^=listEntryItem],.itemListEntry a>div>[class^=listEntryItem]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.projectSelectorAutocomplete .mat-option:not(:last-child),.projectOption>.mat-option-text:not(:last-child),.itemListEntry:not(:last-child){border-bottom:1px solid #e0e0e0}.projectSelectorAutocomplete .mat-option:hover:not([data-selected=true]),.projectOption>.mat-option-text:hover:not([data-selected=true]),.itemListEntry:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.projectSelectorAutocomplete .mat-option:hover:not([data-selected=true]) .resultsLineWrapper,.projectOption>.mat-option-text:hover:not([data-selected=true]) .resultsLineWrapper,.itemListEntry:hover:not([data-selected=true]) .resultsLineWrapper{background-color:#e0e0e0}.projectSelectorAutocomplete [data-selected=true].mat-option,.projectOption>[data-selected=true].mat-option-text,[data-selected=true].itemListEntry{background-color:#d3d3d3}.projectSelectorAutocomplete [data-selected=true].mat-option .resultsLineWrapper,.projectOption>[data-selected=true].mat-option-text .resultsLineWrapper,[data-selected=true].itemListEntry .resultsLineWrapper{background-color:#d3d3d3}.projectSelectorAutocomplete .mat-option img,.projectOption>.mat-option-text img,.itemListEntry img{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.projectSelectorAutocomplete .mat-option .resultsLineWrapper,.projectOption>.mat-option-text .resultsLineWrapper,.itemListEntry .resultsLineWrapper{overflow:hidden;text-overflow:ellipsis}.settingsContent #resultsContainer{height:50vh;overflow-y:auto}.settingsContent #resultsContainer>.recentlyUsed{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.settingsContent #resultsContainer>.recentlyUsed+.itemListEntry{padding-top:8px}.resultsLineWrapper{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select{-webkit-user-select:none;user-select:none}.item{padding:.3em 1.2em}.btn-group{width:100%;padding-top:3px}.btn-group button{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group:after{content:"";clear:both;display:table}.btn-group button:first-child{border-radius:5px 0 0 5px}.btn-group button:last-child{border-radius:0 5px 5px 0}.btn-group button:not(:last-child){border-right:none}.chipRemoveButton{margin-top:-.5em;margin-left:0!important}#searchText{font-size:12px}.searchResultsPanel{width:calc(100% - 1px);z-index:4;border-radius:5px}.chipImage{height:1.5em;margin-right:3px;margin-left:-3px}.chipBase{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.mat-form-field .projectChipsInput{width:100%;margin:0;line-height:1.8em;height:0}.mat-form-field .projectChipsInput:focus{height:auto}.mat-form-field.mat-focused .projectChipsInput{height:auto}.projectOption{height:4em;padding-left:.5em!important}.projectOption>.mat-option-text{display:flex!important;border-bottom:none!important}.projectsChipsHolder>.mat-chip-list-wrapper{max-height:7.5em;overflow-x:hidden;overflow-y:auto;scrollbar-gutter:stable;margin:0!important;grid-gap:4px;padding:4px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip{margin:0;background-color:#0000000a}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip:first-of-type:last-of-type{grid-column:span 2}.projectChipsNoInput:not(.hasProjects){display:block;height:0}.projectChipsNoInput.hasProjects{display:none}.settingsCard{z-index:10;width:100%;height:100vh;display:flex!important;flex-direction:column;box-shadow:none!important}.settingsTitle{flex-shrink:0;font-size:21px;font-weight:100;font-family:Segoe UI,"Segoe UI Web (West European)",Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}.settingsContent{flex-grow:1;overflow:auto;font-size:12px;margin-bottom:0!important}.settingsContent .settingsHolder{display:grid;grid-template-columns:93.5% 8% 1%;padding:1em 12px .5em;align-items:center}.settingsContent .settingsHolder .mat-checkbox-background,.settingsContent .settingsHolder .mat-checkbox-frame{border-radius:0%!important}.settingsContent .settingsHolderBlock{display:block;padding-top:1em;padding-bottom:.5em}.settingsContent .settingsHolderBlock .settingsBlockLabel{display:block;margin-bottom:8px}.settingsContent .settingsSeparator{height:1px;background-color:#e0e0e0;margin:0 12px}.settingsContent .categoryNameRow{grid-template-columns:1fr auto;padding-left:12px;margin-top:-18px;margin-bottom:10px}.settingsContent .categoryNameInput{width:100%;max-width:140px}.settingsContent .categoryNameInput .mat-mdc-form-field-infix{padding-top:4px!important;padding-bottom:4px!important;min-height:28px!important}.settingsContent .categoryNameInput input{font-size:12px}.settingsContent .categoryNameInput .mat-mdc-form-field-subscript-wrapper{display:none}.settingsContent .settingsHolder.settingsHolderBlock .categoryNameInput{max-width:none;width:100%}.settingsContent .settingsHolder:has(.postDocActionSelect){grid-template-columns:1fr auto;margin-bottom:6px}.settingsContent .postDocActionSelect{width:100%;max-width:140px}.settingsContent .postDocActionSelect .mat-mdc-form-field-infix{padding-top:2px!important;padding-bottom:2px!important;min-height:24px!important}.settingsContent .postDocActionSelect .mat-mdc-select{font-size:12px}.settingsContent .postDocActionSelect .mat-mdc-form-field-subscript-wrapper{display:none}.settingsContent .settingsHolder.settingsHolderBlock .postDocActionSelect,.settingsContent .settingsHolder.settingsHolderBlock .postDocFolderSelect{max-width:none;width:100%}.settingsContent .postDocFolderRow{grid-template-columns:1fr auto;padding-left:12px;margin-top:-10px;margin-bottom:10px}.settingsContent .postDocFolderSelect{width:100%;max-width:140px}.settingsContent .postDocFolderSelect .mat-mdc-form-field-infix{padding-top:2px!important;padding-bottom:2px!important;min-height:24px!important}.settingsContent .postDocFolderSelect .mat-mdc-select{font-size:12px}.settingsContent .postDocFolderSelect .mat-mdc-form-field-subscript-wrapper{display:none}.settingsContent #resultsContainer{height:max-content;overflow:auto;max-height:calc(100% - 50px)}.settingsFooter{padding-bottom:.3em;padding-left:6px}.listEntryItemMainLine{font-size:13px}.listEntryItemSubLine{font-size:12px}.mat-expansion-panel-header-title{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header{padding:0!important}.mat-expansion-panel-header:hover{background-color:transparent!important}.projectOption span.mat-option-text{grid-gap:4px}@keyframes green-fade{0%{background:#4e850c}to{background:#fcfcfc}}.fade-it{animation:green-fade 1s ease-in-out 0s}.customSize{font-size:22px!important}span.material-symbols-rounded.red:hover{color:#ff2727;font-weight:900}span.material-symbols-rounded.green:hover{color:#13e813;font-weight:900}span.material-symbols-rounded.red,span.material-symbols-rounded.green{border-radius:16px;color:#a9a9a9;font-weight:900}.iconsDiv{display:flex;align-items:center}.left-right-align{display:flex;justify-content:space-between;margin-bottom:16px;margin-right:16px;margin-left:12px}.mat-menu-item{font:400 12px/20px Arial,Verdana,Helvetica,sans-serif;height:100%;padding-top:10px;padding-bottom:10px}.settingsContent .mat-mdc-checkbox .mdc-checkbox__surface,.settingsContent .mat-mdc-checkbox .mdc-checkbox__background,.settingsHolder .mat-mdc-checkbox .mdc-checkbox__surface,.settingsHolder .mat-mdc-checkbox .mdc-checkbox__background{border-radius:0!important;box-sizing:border-box!important;overflow:visible!important}.settingsContent .mat-mdc-checkbox .mdc-checkbox__native-control,.settingsHolder .mat-mdc-checkbox .mdc-checkbox__native-control{width:14px!important;height:14px!important;margin:0!important}.settingsContent .mat-checkbox .mat-checkbox-frame,.settingsContent .mat-checkbox .mat-checkbox-background,.settingsContent .mat-checkbox .mat-checkbox-inner-container,.settingsHolder .mat-checkbox .mat-checkbox-frame,.settingsHolder .mat-checkbox .mat-checkbox-background,.settingsHolder .mat-checkbox .mat-checkbox-inner-container{border-radius:0!important;box-sizing:border-box!important}.settingsContent .settingsHolder mat-checkbox{display:inline-block;transform:translate(-12px);will-change:transform}.settingsContent .settingsHolder mat-checkbox .mat-mdc-checkbox{transform:translate(-12px);will-change:transform}\n'],encapsulation:2})}}return n})();const E0e=["searchTextInput"],S0e=["projectSelectorPanel"],k0e=["destinationProjectsInputRO"],O4=["destinationProjectsInput"],P4=["searchProjectPhasesInput"],A0e=["allProjectsButton"];function T0e(n,t){if(1&n&&(_(0,"mat-option",21),H(1),b()),2&n){const e=t.$implicit,i=C(3);K("value",e),f(),vd(" ",i.htmlHelp.parseHtmlEntities(i.datasource.getDisplayedType(e.type)),": ",i.htmlHelp.parseHtmlEntities(e.title)," ")}}function I0e(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",11)(1,"mat-label"),H(2),b(),_(3,"mat-select",20),Pt("valueChange",function(r){Y(e);const o=C(2);return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C(2).changeSelectedDB())}),hn(4,T0e,2,3,"mat-option",21,kn),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.SelectDatabase),f(),Ot("value",e.selectedDB),f(),mn(e.entriesArray)}}function M0e(n,t){if(1&n&&(_(0,"div",13),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.globals.languageConfLocal.recentlyUsed," ")}}function R0e(n,t){if(1&n&&ve(0,"img",24),2&n){const e=C().$implicit,i=C(2);K("src",i.datasource.getBase64Image(e.imageBase64),In)("title",i.htmlHelp.parseHtmlEntities(e.lineOne))}}function O0e(n,t){if(1&n&&ve(0,"img",25),2&n){const e=C().$implicit,i=C(2);K("src",i.datasource.getImageSrc(e.image),In)("title",i.htmlHelp.parseHtmlEntities(e.lineOne))}}function P0e(n,t){if(1&n){const e=Ne();_(0,"div",30),ae("click",function(r){Y(e);const o=C().$implicit,s=C(2);return r.stopPropagation(),Q(s.datasource.addDocumentLinkToMail(o))}),_(1,"span",31),H(2,"link"),b()()}if(2&n){const e=C(3);f(),K("title",e.globals.languageConfLocal.addLinkTextToMail)}}function N0e(n,t){if(1&n){const e=Ne();_(0,"div",22),ae("click",function(r){return Y(e),Q(C(2).dblClickedElement(r))}),_(1,"div",23),te(2,R0e,1,2,"img",24),te(3,O0e,1,2,"img",25),b(),_(4,"div",26)(5,"span",27),H(6),b(),ve(7,"br"),_(8,"span",28),H(9),b(),ve(10,"br"),_(11,"span",28),H(12),b(),ve(13,"br"),b(),te(14,P0e,3,1,"div",29),b()}if(2&n){const e=t.$implicit,i=t.$index,r=C(2);K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),Qe("data-order",i+1)("data-fdme",e.fdMe)("data-displayname",r.htmlHelp.parseHtmlEntities(e.lineOne))("data-image",e.image),f(2),ne(e.imageBase64?2:-1),f(),ne(e.imageBase64?-1:3),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineOne)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineTwo)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineThree)),f(2),ne(r.settings.LinkOptionActive&&!r.globals.infoShower.isReadMode?14:-1)}}function L0e(n,t){if(1&n){const e=Ne();_(0,"mat-chip",32),ae("removed",function(){const r=Y(e).$implicit;return Q(C(2).removeDocument(r))}),ve(1,"img",33),_(2,"div",34),H(3),b(),_(4,"button",35)(5,"span",36),H(6,"cancel"),b()()()}if(2&n){const e=t.$implicit,i=C(2);K("removable",!0)("title",i.htmlHelp.parseHtmlEntities(e.name)),Qe("data-pointer",e.pointer),f(),K("src",i.datasource.getImageSrc(e.image),In)("title",i.htmlHelp.parseHtmlEntities(e.name)),f(2),Ae(i.htmlHelp.parseHtmlEntities(e.name))}}function F0e(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-card",3,0)(3,"mat-card-title",4),H(4),_(5,"div",5)(6,"span",6),ae("click",function(){return Y(e),Q(C().cancelSelection())}),H(7,"cancel"),b()()(),_(8,"mat-card-content",7)(9,"mat-form-field",8)(10,"mat-label",9),H(11),b(),_(12,"input",10,1),ae("input",function(){Y(e);const r=rn(13);return Q(C().textChanged(r.value))}),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.textInSearchInput,r)||(o.textInSearchInput=r),Q(r)}),b()(),te(14,I0e,6,2,"mat-form-field",11),ve(15,"br"),_(16,"div",12),te(17,M0e,2,1,"div",13),hn(18,N0e,15,18,"div",14,kn),b()(),_(20,"mat-card-footer",15),ve(21,"mat-divider",16),_(22,"mat-chip-grid",17,2),hn(24,L0e,7,6,"mat-chip",18,kn),ve(26,"input",19),b()()()()}if(2&n){const e=rn(23),i=C();f(4),Xe(" ","ba"===i.globals.system?i.globals.languageConfLocal.doucmentSelectionBA:i.globals.languageConfLocal.doucmentSelection," "),f(2),K("title",i.globals.languageConfLocal.Cancel),f(5),Xe(" ","ba"===i.globals.system?i.globals.languageConfLocal.searchDocumentsInBACRM:i.globals.languageConfLocal.searchDocumentsInCRM," "),f(),Ot("ngModel",i.textInSearchInput),f(2),ne(null!=i.entriesArray&&i.entriesArray.length>0&&!i.isAppointment?14:-1),f(3),ne(i.showRecentlyUsed?17:-1),f(),mn(i.searchResultsArray),f(6),mn(i.documents),f(2),K("matChipInputFor",e)}}let B0e=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d){this.globals=e,this.ref=i,this.translate=r,this.datasource=o,this.zone=s,this.lsm=a,this.settings=c,this.dps=l,this.htmlHelp=d,this.console=new li("DocumentSelectorPageComponent"),this.projectSelectorPanelVisible=!1,this.searchResultsArray=[],this.projectPhaseResultArray=[],this.projectPhaseSearchResultArray=[],this.projectPhaseFilter="",this.participatedResultsArray=[],this.initialDBSelection=!1,this.entriesArray=[],this.searchValue="",this.showRecentlyUsed=!0,this.destinationDirectProjectsCount=0,this.destinationProjects=new es(""),this.projectPhasesControl=new es(""),this.participatingProjectsFilter="",this.addressFetched=!1,this.addresses=[],this.filteredAdditionalValues={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"documentationTargetSelector"===e.newWindow&&"main"===e.currentWindow&&this.initializeTheView()})}initializeTheView(){this.databases=[],this.searchValue="",this.searchTextInput.nativeElement.value="",this.searchResultsArray=[],this.documents=[],this.textInSearchInput="","gi"===this.globals.system&&(this.showRecentlyUsed=!1),this.datasource.getDocumentDBs().subscribe(e=>{this.entriesArray=e,null!==this.entriesArray?(this.selectedDB=e[0],this.changeSelectedDB()):(this.selectedDB="",this.getEntries(),setTimeout(()=>{this.searchTextInput.nativeElement.focus()},0))})}confirmSelection(){if(this.globals.addressActivities.documentsAsDestinations=this.documents,this.globals.activeWindow="main",this.lastSelectedDocument){const e=this.lastSelectedDocument.name,i=this.lastSelectedDocument.pointer,r=this.datasource.getImageSrc(this.lastSelectedDocument.image);this.globals.addressActivities.destinationActivitySelectorClicked({checked:!0,source:{name:i}},e,r)}this.globals.showSelectedDocuments=!1}cancelSelection(){this.globals.addressActivities.documentsAsDestinations=[],this.globals.activeWindow="main",this.globals.showSelectedDocuments=!1}removeDocument(e){this.documents.splice(this.documents.findIndex(i=>i.pointer===e.pointer),1),this.lastSelectedDocument=!1}blinkChip(e){document.querySelector('mat-chip[data-pointer="'+e+'"]')?.classList.add("fade-it")}changeSelectedDB(){this.textInSearchInput="",this.getEntries(),setTimeout(()=>{this.searchTextInput.nativeElement.focus()},0)}textChanged(e){this.searchValue=e,setTimeout(()=>{this.getEntries()},100)}getEntries(){this.console.info("selectedDB in getEntries is: ",this.selectedDB),"ba"===this.globals.system&&(this.showRecentlyUsed=!this.textInSearchInput||0===this.textInSearchInput?.length),this.datasource.searchDocuments(this.selectedDB,void 0,this.textInSearchInput).subscribe({next:e=>{this.searchResultsArray=this.datasource.handleSearchResult(e,this.selectedDB.type)}})}dblClickedElement(e){this.documents=[];let i=e.currentTarget;if(!this.documents.some(r=>r.pointer===i.dataset.fdme)){let r=new Ga;r.name=i.dataset.displayname,r.pointer=i.dataset.fdme,r.image=i.dataset.image,this.datasource.addToRecentlyUsed(i.dataset.fdme),this.documents.push(r),this.lastSelectedDocument=r,setTimeout(()=>{const o=document.querySelector(".allDocumentFooter .mat-chip-list-wrapper");o&&(o.scrollTop=o.scrollHeight),this.blinkChip(r.pointer)},10)}this.confirmSelection()}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(qt),R(zn),R(nr),R($e),R(Qi),R(ns),R(fs),R(Ys))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-document-selector-page"]],viewQuery:function(i,r){if(1&i&&Jt(E0e,5)(S0e,5)(k0e,5)(O4,5)(P4,5)(A0e,5)(O4,5,yo)(P4,5,yo),2&i){let o;_e(o=be())&&(r.searchTextInput=o.first),_e(o=be())&&(r.projectSelectorPanel=o.first),_e(o=be())&&(r.destinationProjectsInputRO=o.first),_e(o=be())&&(r.destinationProjectsInput=o.first),_e(o=be())&&(r.searchProjectPhasesInput=o.first),_e(o=be())&&(r.allProjectsButton=o.first),_e(o=be())&&(r.projectsAutocompleteTrigger=o.first),_e(o=be())&&(r.phasesAutocompleteTrigger=o.first)}},standalone:!1,decls:1,vars:1,consts:[["projectSelectorPanel",""],["searchTextInput",""],["chipsInCard",""],[1,"allDocumentsCard"],[1,"left-right-align"],[1,"iconsDiv"],[1,"material-symbols-rounded","red","customSize",2,"cursor","pointer",3,"click","title"],[1,"allDocumentsContent"],[2,"width","100%"],[2,"font-size","small"],["matInput","","type","text",3,"input","ngModelChange","ngModel"],["appearance","fill",1,"databaseSearchSelect"],["id","resultsContainer",1,"prevent-select"],[1,"recentlyUsed"],[1,"itemListEntry","resultListEntry","hoverArea",3,"title"],[1,"allDocumentFooter"],[2,"padding-bottom","2px"],[1,"projectsChipsHolder"],[3,"removable","title"],["matInput","","readonly","",2,"width","100%","height","0px","margin","0px",3,"matChipInputFor"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"itemListEntry","resultListEntry","hoverArea",3,"click","title"],[1,"imgAndLink"],[1,"normalImage",3,"src","title"],[3,"src","title"],[1,"resultsLineWrapper"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],[1,"overlayLinkMail"],[1,"overlayLinkMail",3,"click"],[1,"material-symbols-rounded",3,"title"],[3,"removed","removable","title"],[1,"chipImage",3,"src","title"],[1,"chipBase"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded"]],template:function(i,r){1&i&&te(0,F0e,27,7,"div"),2&i&&ne(r.globals.infoShower?0:-1)},dependencies:[Io,Jo,ts,gv,mo,Gr,$a,eo,po,Du,Eu,Cp,xu,vo,vl,Cl,yl],styles:['.itemListEntry{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.itemListEntry>div,.itemListEntry a,.itemListEntry a>div{display:block;overflow:hidden}.itemListEntry>div>[class^=listEntryItem],.itemListEntry a>[class^=listEntryItem],.itemListEntry a>div>[class^=listEntryItem]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.itemListEntry:not(:last-child){border-bottom:1px solid #e0e0e0}.itemListEntry:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.itemListEntry:hover:not([data-selected=true]) .resultsLineWrapper{background-color:#e0e0e0}[data-selected=true].itemListEntry,[data-selected=true].itemListEntry .resultsLineWrapper{background-color:#d3d3d3}.itemListEntry img{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.itemListEntry .resultsLineWrapper{overflow:hidden;text-overflow:ellipsis}.allDocumentsContent #resultsContainer{height:50vh;overflow-y:auto}.allDocumentsContent #resultsContainer>.recentlyUsed{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.allDocumentsContent #resultsContainer>.recentlyUsed+.itemListEntry{padding-top:8px}.resultsLineWrapper{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select{-webkit-user-select:none;user-select:none;font-weight:600}.item{padding:.3em 1.2em}.btn-group{width:100%;padding-top:3px}.btn-group button{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group:after{content:"";clear:both;display:table}.btn-group button:first-child{border-radius:5px 0 0 5px}.btn-group button:last-child{border-radius:0 5px 5px 0}.btn-group button:not(:last-child){border-right:none}.chipRemoveButton{margin-top:-.5em;margin-left:0!important}#searchText{font-size:12px}.searchResultsPanel{width:calc(100% - 1px);z-index:4;border-radius:5px}.chipImage{height:1.5em;margin-right:3px;margin-left:-3px}.chipBase{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.mat-form-field .projectChipsInput{width:100%;margin:0;line-height:1.8em;height:0}.mat-form-field .projectChipsInput:focus{height:auto}.mat-form-field.mat-focused .projectChipsInput{height:auto}.allProjects{cursor:pointer;position:absolute;right:-.1em;top:0}.allProjects.hasProjects{top:-.7em}.projectsChipsHolder>.mat-chip-list-wrapper{max-height:7.5em;overflow-x:hidden;overflow-y:auto;scrollbar-gutter:stable;margin:0!important;grid-gap:4px;padding:4px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip{margin:0;background-color:#0000000a}.projectsChipsHolder>.mat-chip-list-wrapper>.mat-chip:first-of-type:last-of-type{grid-column:span 2}.projectChipsNoInput:not(.hasProjects){display:block;height:0}.projectChipsNoInput.hasProjects{display:none}.allDocumentsCard{z-index:10;width:100%;height:100vh;display:flex!important;flex-direction:column;box-shadow:none!important}.allDocumentsContent{flex-grow:1;overflow:auto;font-size:12px;margin-bottom:0!important}.allDocumentsContent #resultsContainer{height:max-content;overflow:auto;max-height:calc(100% - 50px)}.allDocumentFooter{padding-bottom:.3em;padding-left:6px}.listEntryItemMainLine{font-size:13px}.listEntryItemSubLine{font-size:12px}.mat-expansion-panel-header-title{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header{padding:0!important}.mat-expansion-panel-header:hover{background-color:transparent!important}@keyframes green-fade{0%{background:#4e850c}to{background:#fcfcfc}}.fade-it{animation:green-fade 1s ease-in-out 0s}.customSize{font-size:22px!important}span.material-symbols-rounded.red:hover{color:#ff2727;font-weight:900}span.material-symbols-rounded.green:hover{color:#13e813;font-weight:900}span.material-symbols-rounded.red,span.material-symbols-rounded.green{border-radius:16px;color:#a9a9a9;font-weight:900}.iconsDiv{display:flex}.left-right-align{display:flex;justify-content:space-between;font-size:large;font-weight:500;padding-left:16px;padding-top:8px}.imgAndLink{padding-right:5px}.LinkToMailButton{color:#000000de;opacity:.7;padding-right:0!important;padding-left:0!important;display:flex;cursor:pointer;align-items:center;margin-right:-6px;background-color:#fff;border-radius:16px;padding-bottom:0;padding-top:0}.hoverArea{position:relative;height:auto}.hoverArea:hover .overlayLinkMail{visibility:visible!important}.overlayLinkMail{visibility:hidden;width:24px;height:24px;color:#202020;text-align:center;background-color:#fff;border-radius:16px;padding-top:0;padding-right:24px;padding-bottom:-2px;margin-right:8px;margin-top:12px;color:#000000de;opacity:.7;transition:background-color .3s ease}.overlayLinkMail:hover{background-color:#a9a9a9}\n'],encapsulation:2})}}return n})();const H0e=["searchTextInput"],j0e=["projectSelectorPanel"],U0e=["destinationProjectsInputRO"],N4=["destinationProjectsInput"],L4=["searchProjectPhasesInput"],V0e=["allProjectsButton"],z0e=()=>[];function q0e(n,t){if(1&n&&(_(0,"mat-option",21),H(1),b()),2&n){const e=t.$implicit,i=C(3);K("value",e),f(),vd(" ",i.datasource.getDisplayedType(e.type),": ",e.title," ")}}function $0e(n,t){if(1&n){const e=Ne();_(0,"mat-form-field",11)(1,"mat-label"),H(2),b(),_(3,"mat-select",20),Pt("valueChange",function(r){Y(e);const o=C(2);return Bt(o.selectedDB,r)||(o.selectedDB=r),Q(r)}),ae("selectionChange",function(){return Y(e),Q(C(2).changeSelectedDB())}),hn(4,q0e,2,3,"mat-option",21,kn),b()()}if(2&n){const e=C(2);f(2),Ae(e.globals.languageConfLocal.SelectDatabase),f(),Ot("value",e.selectedDB),f(),mn("Array"===e.entriesArray.constructor.name?e.entriesArray:Oh(2,z0e))}}function G0e(n,t){if(1&n&&(_(0,"div",13),H(1),b()),2&n){const e=C(2);f(),Xe(" ",e.globals.languageConfLocal.recentlyUsed," ")}}function W0e(n,t){if(1&n&&ve(0,"img",23),2&n){const e=C().$implicit;K("src",C(2).datasource.getBase64Image(e.imageBase64),In)}}function K0e(n,t){if(1&n&&ve(0,"img",24),2&n){const e=C().$implicit;K("src",C(2).datasource.getImageSrc(e.image),In)}}function Y0e(n,t){if(1&n){const e=Ne();_(0,"div",22),ae("click",function(r){return Y(e),Q(C(2).dblClickedElement(r))}),te(1,W0e,1,1,"img",23),te(2,K0e,1,1,"img",24),_(3,"div",25)(4,"span",26),H(5),b(),ve(6,"br"),_(7,"span",27),H(8),b(),ve(9,"br"),_(10,"span",27),H(11),b(),ve(12,"br"),b()()}if(2&n){const e=t.$implicit,i=t.$index,r=C(2);K("title",en(e.lineOne)),Qe("data-order",i+1)("data-fdme",e.fdMe)("data-displayname",r.htmlHelp.parseHtmlEntities(e.lineOne))("data-image",e.image),f(),ne(e.imageBase64?1:-1),f(),ne(e.imageBase64?-1:2),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineOne))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineOne)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineTwo))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineTwo)),f(2),K("title",en(r.htmlHelp.parseHtmlEntities(e.lineThree))),f(),Ae(r.htmlHelp.parseHtmlEntities(e.lineThree))}}function Q0e(n,t){if(1&n&&(_(0,"mat-chip",18),ve(1,"img",28),_(2,"div",29),H(3),b(),_(4,"button",30)(5,"span",31),H(6,"cancel"),b()()()),2&n){const e=t.$implicit,i=C(2);K("removable",!0)("title",e.name),Qe("data-pointer",e.pointer),f(),K("src",i.datasource.getImageSrc(e.image),In),f(2),Ae(e.name)}}function X0e(n,t){if(1&n){const e=Ne();_(0,"div")(1,"mat-card",3,0)(3,"mat-card-title",4),H(4),_(5,"div",5)(6,"span",6),ae("click",function(){return Y(e),Q(C().cancelSelection())}),H(7,"cancel"),b()()(),_(8,"mat-card-content",7)(9,"mat-form-field",8)(10,"mat-label",9),H(11),b(),_(12,"input",10,1),ae("input",function(){Y(e);const r=rn(13);return Q(C().textChanged(r.value))}),Pt("ngModelChange",function(r){Y(e);const o=C();return Bt(o.textInSearchInput,r)||(o.textInSearchInput=r),Q(r)}),b()(),te(14,$0e,6,3,"mat-form-field",11),ve(15,"br"),_(16,"div",12),te(17,G0e,2,1,"div",13),hn(18,Y0e,13,17,"div",14,kn),b()(),_(20,"mat-card-footer",15),ve(21,"mat-divider",16),_(22,"mat-chip-grid",17,2),hn(24,Q0e,7,5,"mat-chip",18,kn),ve(26,"input",19),b()()()()}if(2&n){const e=rn(23),i=C();f(4),Xe(" ",i.globals.languageConfLocal.selectCompany," "),f(2),K("title",i.globals.languageConfLocal.Cancel),f(5),Xe(" ",i.globals.languageConfLocal.searchCompanyInCRM," "),f(),Ot("ngModel",i.textInSearchInput),f(2),ne("Array"===i.entriesArray.constructor.name&&i.entriesArray.length>1&&!i.isAppointment?14:-1),f(3),ne(i.showRecentlyUsed?17:-1),f(),mn(i.searchResultsArray),f(6),mn(i.documents),f(2),K("matChipInputFor",e)}}let Z0e=(()=>{class n{constructor(e,i,r,o,s,a,c,l){this.globals=e,this.ref=i,this.translate=r,this.datasource=o,this.zone=s,this.lsm=a,this.dps=c,this.htmlHelp=l,this.console=new li("CompanySelectorPageComponent"),this.projectSelectorPanelVisible=!1,this.searchResultsArray=[],this.projectPhaseResultArray=[],this.projectPhaseSearchResultArray=[],this.projectPhaseFilter="",this.participatedResultsArray=[],this.initialDBSelection=!1,this.entriesArray=[],this.searchValue="",this.showRecentlyUsed=!0,this.destinationDirectProjectsCount=0,this.destinationProjects=new es(""),this.projectPhasesControl=new es(""),this.participatingProjectsFilter="",this.addressFetched=!1,this.addresses=[],this.filteredAdditionalValues={},this.docImage={background:"transparent no-repeat url(assets/images/icons_business_mail.png)"},this.attachRdy=!1,this.attachDelete=!1}ngOnInit(){this.globals.onActiveWindowChange().subscribe(e=>{"companyPage"===e.newWindow&&"contactCreation"===e.currentWindow&&this.initializeTheView()})}initializeTheView(){this.databases=[],this.searchValue="",this.searchTextInput.nativeElement.value="",this.searchResultsArray=[],this.documents=[],this.textInSearchInput="","gi"===this.globals.system&&(this.showRecentlyUsed=!1),this.datasource.getCompanies().subscribe(e=>{this.entriesArray=e,null!==this.entriesArray?(this.selectedDB=Array.isArray(e)?e[0]:e,this.changeSelectedDB()):(this.selectedDB="",this.getEntries()),setTimeout(()=>{this.searchTextInput.nativeElement.focus()},0)})}confirmSelection(){this.globals.activeWindow="contactCreation"}cancelSelection(){this.globals.activeWindow="contactCreation"}changeSelectedDB(){this.textInSearchInput="",this.getEntries(),setTimeout(()=>{this.searchTextInput.nativeElement.focus()},0)}textChanged(e){this.searchValue=e,this.getEntries()}getEntries(){this.console.info("selectedDB in getEntries is: ",this.selectedDB),"ba"===this.globals.system&&(this.showRecentlyUsed=!this.textInSearchInput||0===this.textInSearchInput?.length),this.datasource.searchDocuments(this.selectedDB,void 0,this.textInSearchInput).subscribe({next:e=>{this.searchResultsArray=this.datasource.handleSearchResult(e,this.selectedDB.type)}}),this.console.info("searchResultsArray is: ",this.searchResultsArray)}dblClickedElement(e){let i=e.currentTarget;if(!this.documents.some(r=>r.pointer===i.dataset.fdme)){let r=new Ga;r.name=i.dataset.displayname,r.pointer=i.dataset.fdme,r.image=i.dataset.image,this.datasource.addToRecentlyUsed(i.dataset.fdme),setTimeout(()=>{const o=document.querySelector(".allDocumentFooter .mat-chip-list-wrapper");o&&(o.scrollTop=o.scrollHeight)},10),this.globals.contactCreator.selectedCompany=r.name,this.globals.contactCreator.selectedCompanyData=r,this.globals.contactCreator&&this.globals.contactCreator.extractedContact&&(this.globals.contactCreator.extractedContact.CompanyName=r.name,this.globals.contactCreator.extractedContact.CompanyPointer=r.pointer)}this.confirmSelection()}static{this.\u0275fac=function(i){return new(i||n)(R(Dt),R(qt),R(zn),R(nr),R($e),R(Qi),R(fs),R(Ys))}}static{this.\u0275cmp=qe({type:n,selectors:[["app-company-selector-page"]],viewQuery:function(i,r){if(1&i&&Jt(H0e,5)(j0e,5)(U0e,5)(N4,5)(L4,5)(V0e,5)(N4,5,yo)(L4,5,yo),2&i){let o;_e(o=be())&&(r.searchTextInput=o.first),_e(o=be())&&(r.projectSelectorPanel=o.first),_e(o=be())&&(r.destinationProjectsInputRO=o.first),_e(o=be())&&(r.destinationProjectsInput=o.first),_e(o=be())&&(r.searchProjectPhasesInput=o.first),_e(o=be())&&(r.allProjectsButton=o.first),_e(o=be())&&(r.projectsAutocompleteTrigger=o.first),_e(o=be())&&(r.phasesAutocompleteTrigger=o.first)}},standalone:!1,decls:1,vars:1,consts:[["projectSelectorPanel",""],["searchTextInput",""],["chipsInCard",""],[1,"allCompaniesCard"],[1,"left-right-align"],[1,"iconsDiv"],[1,"material-symbols-rounded","red","customSize",2,"cursor","pointer",3,"click","title"],[1,"allCompaniesContent"],[2,"width","100%"],[2,"font-size","small"],["matInput","","type","text",3,"input","ngModelChange","ngModel"],["appearance","fill",1,"databaseSearchSelect"],["id","resultsContainer",1,"prevent-select"],[1,"recentlyUsed"],[1,"itemListEntry","resultListEntry",3,"title"],[1,"allDocumentFooter"],[2,"padding-bottom","2px"],[1,"projectsChipsHolder"],[3,"removable","title"],["matInput","","readonly","",2,"width","100%","height","0px","margin","0px",3,"matChipInputFor"],[3,"valueChange","selectionChange","value"],[3,"value"],[1,"itemListEntry","resultListEntry",3,"click","title"],[1,"normalImage",3,"src"],[3,"src"],[1,"resultsLineWrapper"],[1,"listEntryItemMainLine",3,"title"],[1,"listEntryItemSubLine",3,"title"],[1,"chipImage",3,"src"],[1,"chipBase"],["matChipRemove","",1,"chipRemoveButton"],[1,"material-symbols-rounded"]],template:function(i,r){1&i&&te(0,X0e,27,7,"div"),2&i&&ne(r.globals.infoShower?0:-1)},dependencies:[Io,Jo,ts,gv,mo,Gr,$a,eo,po,Du,Eu,Cp,xu,vo,vl,Cl,yl],styles:['.itemListEntry[_ngcontent-%COMP%]{line-height:1.3!important;white-space:nowrap;display:flex;padding:4px 0;grid-gap:4px}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;overflow:hidden}.itemListEntry[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%], .itemListEntry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [class^=listEntryItem][_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%}.itemListEntry[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0e0}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true]){background-color:#e0e0e0;cursor:pointer}.itemListEntry[_ngcontent-%COMP%]:hover:not([data-selected=true])   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#e0e0e0}[data-selected=true].itemListEntry[_ngcontent-%COMP%], [data-selected=true].itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{background-color:#d3d3d3}.itemListEntry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;box-sizing:content-box;padding:1px 0 0!important}.itemListEntry[_ngcontent-%COMP%]   .resultsLineWrapper[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.allCompaniesContent[_ngcontent-%COMP%]   #resultsContainer[_ngcontent-%COMP%]{height:50vh;overflow-y:auto}.allCompaniesContent[_ngcontent-%COMP%]   #resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%]{width:100%;text-align:center;color:#a9a9a9;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.allCompaniesContent[_ngcontent-%COMP%]   #resultsContainer[_ngcontent-%COMP%] > .recentlyUsed[_ngcontent-%COMP%] + .itemListEntry[_ngcontent-%COMP%]{padding-top:8px}.resultsLineWrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis}.prevent-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.item[_ngcontent-%COMP%]{padding:.3em 1.2em}.btn-group[_ngcontent-%COMP%]{width:100%;padding-top:3px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#bfbfbf;border:1px solid;padding:10px 24px;cursor:pointer;float:left;width:100%}.btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}.chipRemoveButton[_ngcontent-%COMP%]{margin-top:-.5em;margin-left:0!important}#searchText[_ngcontent-%COMP%]{font-size:12px}.searchResultsPanel[_ngcontent-%COMP%]{width:calc(100% - 1px);z-index:4;border-radius:5px}.chipImage[_ngcontent-%COMP%]{height:1.5em;margin-right:3px;margin-left:-3px}.chipBase[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.mat-form-field[_ngcontent-%COMP%]   .projectChipsInput[_ngcontent-%COMP%]{width:100%;margin:0;line-height:1.8em;height:0}.mat-form-field[_ngcontent-%COMP%]   .projectChipsInput[_ngcontent-%COMP%]:focus{height:auto}.mat-form-field.mat-focused[_ngcontent-%COMP%]   .projectChipsInput[_ngcontent-%COMP%]{height:auto}.allProjects[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-.1em;top:0}.allProjects.hasProjects[_ngcontent-%COMP%]{top:-.7em}.projectsChipsHolder[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%]{max-height:7.5em;overflow-x:hidden;overflow-y:auto;scrollbar-gutter:stable;margin:0!important;grid-gap:4px;padding:4px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.projectsChipsHolder[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%] > .mat-chip[_ngcontent-%COMP%]{margin:0;background-color:#0000000a}.projectsChipsHolder[_ngcontent-%COMP%] > .mat-chip-list-wrapper[_ngcontent-%COMP%] > .mat-chip[_ngcontent-%COMP%]:first-of-type:last-of-type{grid-column:span 2}.projectChipsNoInput[_ngcontent-%COMP%]:not(.hasProjects){display:block;height:0}.projectChipsNoInput.hasProjects[_ngcontent-%COMP%]{display:none}.allCompaniesCard[_ngcontent-%COMP%]{z-index:10;width:100%;height:100vh;display:flex!important;flex-direction:column;box-shadow:none!important}.allCompaniesContent[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;font-size:12px;margin-bottom:0!important}.allCompaniesContent[_ngcontent-%COMP%]   #resultsContainer[_ngcontent-%COMP%]{height:max-content;overflow:auto;max-height:calc(100% - 50px)}.allDocumentFooter[_ngcontent-%COMP%]{padding-bottom:.3em;padding-left:6px}.listEntryItemMainLine[_ngcontent-%COMP%]{font-size:13px}.listEntryItemSubLine[_ngcontent-%COMP%]{font-size:12px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-direction:column;align-items:start;margin-right:0!important}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:transparent!important}@keyframes _ngcontent-%COMP%_green-fade{0%{background:#4e850c}to{background:#fcfcfc}}.fade-it[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_green-fade 1s ease-in-out 0s}.customSize[_ngcontent-%COMP%]{font-size:22px!important}span.material-symbols-rounded.red[_ngcontent-%COMP%]:hover{color:#ff2727;font-weight:900}span.material-symbols-rounded.green[_ngcontent-%COMP%]:hover{color:#13e813;font-weight:900}span.material-symbols-rounded.red[_ngcontent-%COMP%]{border-radius:16px;color:#e60000;font-weight:900}span.material-symbols-rounded.green[_ngcontent-%COMP%]{border-radius:16px;color:#04d804;font-weight:900}.iconsDiv[_ngcontent-%COMP%]{display:flex}.left-right-align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}']})}}return n})();function J0e(){return new cu({auth:{clientId:"00000000-0000-0000-0000-000000000000",authority:"https://login.microsoftonline.com/common",redirectUri:typeof window<"u"?window.location.origin+window.location.pathname:"/",postLogoutRedirectUri:typeof window<"u"?window.location.origin+window.location.pathname:"/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}})}let F4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=wt({type:n,bootstrap:[eA]})}static{this.\u0275inj=bt({providers:[Dt,Xk,Lr,NE,{provide:HB,useClass:Uie,multi:!0},{provide:fv,useFactory:J0e},gu,Hie(jc(Ea.LegacyInterceptors,[{provide:$B,useFactory:Iie},{provide:im,useExisting:$B,multi:!0}]))],imports:[nF,uie,hie,o_e,Xme,jpe,Boe,jbe,vb,aae,hye,Xc,_ye,aH,fve,Z_e,dbe,vbe,Xpe,Dbe,Abe,Bye,$ye,sse,q_e,C_e,Cve,gme,Ma,qie.forRoot({defaultLanguage:"en",loader:{provide:om,useClass:f_e}})]})}}return n})();!function WP(n,t,e){const i=n.\u0275cmp;i.directiveDefs=Cg(t,CR),i.pipeDefs=Cg(e,Do)}(eA,function(){return[qh,Ra,v_e,hfe,ffe,p_e,vve,wve,Hve,Owe,TCe,Rwe,GCe,WCe,cwe,e0e,Vwe,Pwe,x0e,B0e,Z0e]},[]);try{Office.initialize=()=>{JL().bootstrapModule(F4,{applicationProviders:[RN()]})}}catch{JL().bootstrapModule(F4,{applicationProviders:[RN()]}).catch(t=>console.error(t))}},2201:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(w,"__esModule",{value:!0}),w.decodeHTML=w.decodeHTMLStrict=w.decodeXML=void 0;var we=ye(ue(4374)),he=ye(ue(1554)),de=ye(ue(7178)),$=ye(ue(331)),S=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function I(k){var U=M(k);return function(x){return String(x).replace(S,U)}}w.decodeXML=I(de.default),w.decodeHTMLStrict=I(we.default);var O=function(k,U){return k<U?1:-1};function M(k){return function(x){if("#"===x.charAt(1)){var P=x.charAt(2);return $.default("X"===P||"x"===P?parseInt(x.substr(3),16):parseInt(x.substr(2),10))}return k[x.slice(1,-1)]||x}}w.decodeHTML=function(){for(var k=Object.keys(he.default).sort(O),U=Object.keys(we.default).sort(O),x=0,P=0;x<U.length;x++)k[P]===U[x]?(U[x]+=";?",P++):U[x]+=";";var N=new RegExp("&(?:"+U.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),A=M(we.default);function B(G){return";"!==G.substr(-1)&&(G+=";"),A(G)}return function(G){return String(G).replace(N,B)}}()},2521:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function(se){return se&&se.__esModule?se:{default:se}};Object.defineProperty(w,"__esModule",{value:!0});var we=ye(ue(331)),he=ye(ue(4374)),de=ye(ue(1554)),$=ye(ue(7178));function S(se){return" "===se||"\n"===se||"\t"===se||"\f"===se||"\r"===se}function I(se){return se>="a"&&se<="z"||se>="A"&&se<="Z"}function O(se,D,Ze){var Ye=se.toLowerCase();return se===Ye?function(Mt,sn){sn===Ye?Mt._state=D:(Mt._state=Ze,Mt._index--)}:function(Mt,sn){sn===Ye||sn===se?Mt._state=D:(Mt._state=Ze,Mt._index--)}}function M(se,D){var Ze=se.toLowerCase();return function(Ye,Mt){Mt===Ze||Mt===se?Ye._state=D:(Ye._state=3,Ye._index--)}}var k=O("C",24,16),U=O("D",25,16),x=O("A",26,16),P=O("T",27,16),N=O("A",28,16),A=M("R",35),B=M("I",36),G=M("P",37),me=M("T",38),Te=O("R",40,1),z=O("I",41,1),oe=O("P",42,1),L=O("T",43,1),W=M("Y",45),T=M("L",46),le=M("E",47),Ce=O("Y",49,1),V=O("L",50,1),X=O("E",51,1),ee=M("I",54),ge=M("T",55),Me=M("L",56),Fe=M("E",57),Be=O("I",58,1),mt=O("T",59,1),Le=O("L",60,1),Ve=O("E",61,1),ce=O("#",63,64),xe=O("X",66,65),ke=function(){function se(D,Ze){var Ye;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=Ze,this.xmlMode=!!D?.xmlMode,this.decodeEntities=null===(Ye=D?.decodeEntities)||void 0===Ye||Ye}return se.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},se.prototype.write=function(D){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=D,this.parse()},se.prototype.end=function(D){this.ended&&this.cbs.onerror(Error(".end() after done!")),D&&this.write(D),this.ended=!0,this.running&&this.finish()},se.prototype.pause=function(){this.running=!1},se.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},se.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},se.prototype.stateText=function(D){"<"===D?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&"&"===D&&(1===this.special||4===this.special)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},se.prototype.isTagStartChar=function(D){return I(D)||this.xmlMode&&!S(D)&&"/"!==D&&">"!==D},se.prototype.stateBeforeTagName=function(D){"/"===D?this._state=5:"<"===D?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===D||1!==this.special||S(D)?this._state=1:"!"===D?(this._state=15,this.sectionStart=this._index+1):"?"===D?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(D)?(this._state=this.xmlMode||"s"!==D&&"S"!==D?this.xmlMode||"t"!==D&&"T"!==D?3:52:32,this.sectionStart=this._index):this._state=1},se.prototype.stateInTagName=function(D){("/"===D||">"===D||S(D))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},se.prototype.stateBeforeClosingTagName=function(D){S(D)||(">"===D?this._state=1:1!==this.special?4===this.special||"s"!==D&&"S"!==D?4!==this.special||"t"!==D&&"T"!==D?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(D)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},se.prototype.stateInClosingTagName=function(D){(">"===D||S(D))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},se.prototype.stateAfterClosingTagName=function(D){">"===D&&(this._state=1,this.sectionStart=this._index+1)},se.prototype.stateBeforeAttributeName=function(D){">"===D?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===D?this._state=4:S(D)||(this._state=9,this.sectionStart=this._index)},se.prototype.stateInSelfClosingTag=function(D){">"===D?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):S(D)||(this._state=8,this._index--)},se.prototype.stateInAttributeName=function(D){("="===D||"/"===D||">"===D||S(D))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},se.prototype.stateAfterAttributeName=function(D){"="===D?this._state=11:"/"===D||">"===D?(this.cbs.onattribend(void 0),this._state=8,this._index--):S(D)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},se.prototype.stateBeforeAttributeValue=function(D){'"'===D?(this._state=12,this.sectionStart=this._index+1):"'"===D?(this._state=13,this.sectionStart=this._index+1):S(D)||(this._state=14,this.sectionStart=this._index,this._index--)},se.prototype.handleInAttributeValue=function(D,Ze){D===Ze?(this.emitToken("onattribdata"),this.cbs.onattribend(Ze),this._state=8):this.decodeEntities&&"&"===D&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},se.prototype.stateInAttributeValueDoubleQuotes=function(D){this.handleInAttributeValue(D,'"')},se.prototype.stateInAttributeValueSingleQuotes=function(D){this.handleInAttributeValue(D,"'")},se.prototype.stateInAttributeValueNoQuotes=function(D){S(D)||">"===D?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===D&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},se.prototype.stateBeforeDeclaration=function(D){this._state="["===D?23:"-"===D?18:16},se.prototype.stateInDeclaration=function(D){">"===D&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateInProcessingInstruction=function(D){">"===D&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateBeforeComment=function(D){"-"===D?(this._state=19,this.sectionStart=this._index+1):this._state=16},se.prototype.stateInComment=function(D){"-"===D&&(this._state=21)},se.prototype.stateInSpecialComment=function(D){">"===D&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},se.prototype.stateAfterComment1=function(D){this._state="-"===D?22:19},se.prototype.stateAfterComment2=function(D){">"===D?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==D&&(this._state=19)},se.prototype.stateBeforeCdata6=function(D){"["===D?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},se.prototype.stateInCdata=function(D){"]"===D&&(this._state=30)},se.prototype.stateAfterCdata1=function(D){this._state="]"===D?31:29},se.prototype.stateAfterCdata2=function(D){">"===D?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==D&&(this._state=29)},se.prototype.stateBeforeSpecialS=function(D){"c"===D||"C"===D?this._state=34:"t"===D||"T"===D?this._state=44:(this._state=3,this._index--)},se.prototype.stateBeforeSpecialSEnd=function(D){this._state=2!==this.special||"c"!==D&&"C"!==D?3!==this.special||"t"!==D&&"T"!==D?1:48:39},se.prototype.stateBeforeSpecialLast=function(D,Ze){("/"===D||">"===D||S(D))&&(this.special=Ze),this._state=3,this._index--},se.prototype.stateAfterSpecialLast=function(D,Ze){">"===D||S(D)?(this.special=1,this._state=6,this.sectionStart=this._index-Ze,this._index--):this._state=1},se.prototype.parseFixedEntity=function(D){if(void 0===D&&(D=this.xmlMode?$.default:he.default),this.sectionStart+1<this._index){var Ze=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(D,Ze)&&(this.emitPartial(D[Ze]),this.sectionStart=this._index+1)}},se.prototype.parseLegacyEntity=function(){for(var D=this.sectionStart+1,Ze=Math.min(this._index-D,6);Ze>=2;){var Ye=this.buffer.substr(D,Ze);if(Object.prototype.hasOwnProperty.call(de.default,Ye))return this.emitPartial(de.default[Ye]),void(this.sectionStart+=Ze+1);Ze--}},se.prototype.stateInNamedEntity=function(D){";"===D?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(D<"0"||D>"9")&&!I(D)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==D&&this.parseFixedEntity(de.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},se.prototype.decodeNumericEntity=function(D,Ze,Ye){var Mt=this.sectionStart+D;if(Mt!==this._index){var sn=this.buffer.substring(Mt,this._index),sr=parseInt(sn,Ze);this.emitPartial(we.default(sr)),this.sectionStart=Ye?this._index+1:this._index}this._state=this.baseState},se.prototype.stateInNumericEntity=function(D){";"===D?this.decodeNumericEntity(2,10,!0):(D<"0"||D>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},se.prototype.stateInHexEntity=function(D){";"===D?this.decodeNumericEntity(3,16,!0):(D<"a"||D>"f")&&(D<"A"||D>"F")&&(D<"0"||D>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},se.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},se.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var D=this.buffer.charAt(this._index);1===this._state?this.stateText(D):12===this._state?this.stateInAttributeValueDoubleQuotes(D):9===this._state?this.stateInAttributeName(D):19===this._state?this.stateInComment(D):20===this._state?this.stateInSpecialComment(D):8===this._state?this.stateBeforeAttributeName(D):3===this._state?this.stateInTagName(D):6===this._state?this.stateInClosingTagName(D):2===this._state?this.stateBeforeTagName(D):10===this._state?this.stateAfterAttributeName(D):13===this._state?this.stateInAttributeValueSingleQuotes(D):11===this._state?this.stateBeforeAttributeValue(D):5===this._state?this.stateBeforeClosingTagName(D):7===this._state?this.stateAfterClosingTagName(D):32===this._state?this.stateBeforeSpecialS(D):21===this._state?this.stateAfterComment1(D):14===this._state?this.stateInAttributeValueNoQuotes(D):4===this._state?this.stateInSelfClosingTag(D):16===this._state?this.stateInDeclaration(D):15===this._state?this.stateBeforeDeclaration(D):22===this._state?this.stateAfterComment2(D):18===this._state?this.stateBeforeComment(D):33===this._state?this.stateBeforeSpecialSEnd(D):53===this._state?Be(this,D):39===this._state?Te(this,D):40===this._state?z(this,D):41===this._state?oe(this,D):34===this._state?A(this,D):35===this._state?B(this,D):36===this._state?G(this,D):37===this._state?me(this,D):38===this._state?this.stateBeforeSpecialLast(D,2):42===this._state?L(this,D):43===this._state?this.stateAfterSpecialLast(D,6):44===this._state?W(this,D):29===this._state?this.stateInCdata(D):45===this._state?T(this,D):46===this._state?le(this,D):47===this._state?this.stateBeforeSpecialLast(D,3):48===this._state?Ce(this,D):49===this._state?V(this,D):50===this._state?X(this,D):51===this._state?this.stateAfterSpecialLast(D,5):52===this._state?ee(this,D):54===this._state?ge(this,D):55===this._state?Me(this,D):56===this._state?Fe(this,D):57===this._state?this.stateBeforeSpecialLast(D,4):58===this._state?mt(this,D):59===this._state?Le(this,D):60===this._state?Ve(this,D):61===this._state?this.stateAfterSpecialLast(D,5):17===this._state?this.stateInProcessingInstruction(D):64===this._state?this.stateInNamedEntity(D):23===this._state?k(this,D):62===this._state?ce(this,D):24===this._state?U(this,D):25===this._state?x(this,D):30===this._state?this.stateAfterCdata1(D):31===this._state?this.stateAfterCdata2(D):26===this._state?P(this,D):27===this._state?N(this,D):28===this._state?this.stateBeforeCdata6(D):66===this._state?this.stateInHexEntity(D):65===this._state?this.stateInNumericEntity(D):63===this._state?xe(this,D):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},se.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},se.prototype.handleTrailingData=function(){var D=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(D):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(D):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(D):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},se.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},se.prototype.emitToken=function(D){this.cbs[D](this.getSection()),this.sectionStart=-1},se.prototype.emitPartial=function(D){1!==this.baseState?this.cbs.onattribdata(D):this.cbs.ontext(D)},se}();w.default=ke},2559:tt=>{"use strict";tt.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},2683:(tt,w,ue)=>{const{InlineTextBuilder:ye}=ue(8734);class we{constructor(M=null){this.next=M}getRoot(){return this.next?this.next:this}}tt.exports={BlockStackItem:class he extends we{constructor(M,k=null,U=1,x=void 0){super(k),this.leadingLineBreaks=U,this.inlineTextBuilder=new ye(M,x),this.rawText="",this.stashedLineBreaks=0,this.isPre=k&&k.isPre}},StackItem:we,TableCellStackItem:class S extends we{constructor(M,k=null,U=void 0){super(k),this.inlineTextBuilder=new ye(M,U),this.rawText="",this.stashedLineBreaks=0,this.isPre=k&&k.isPre}},TableRowStackItem:class $ extends we{constructor(M=null){super(M),this.cells=[],this.isPre=M&&M.isPre}},TableStackItem:class de extends we{constructor(M=null){super(M),this.rows=[],this.isPre=M&&M.isPre}},TransformerStackItem:class I extends we{constructor(M=null,k){super(M),this.transform=k}}}},2704:(tt,w)=>{"use strict";var ue,we;Object.defineProperty(w,"__esModule",{value:!0}),w.Doctype=w.CDATA=w.Tag=w.Style=w.Script=w.Comment=w.Directive=w.Text=w.Root=w.isTag=w.ElementType=void 0,(we=ue=w.ElementType||(w.ElementType={})).Root="root",we.Text="text",we.Directive="directive",we.Comment="comment",we.Script="script",we.Style="style",we.Tag="tag",we.CDATA="cdata",we.Doctype="doctype",w.isTag=function ye(we){return we.type===ue.Tag||we.type===ue.Script||we.type===ue.Style},w.Root=ue.Root,w.Text=ue.Text,w.Directive=ue.Directive,w.Comment=ue.Comment,w.Script=ue.Script,w.Style=ue.Style,w.Tag=ue.Tag,w.CDATA=ue.CDATA,w.Doctype=ue.Doctype},2933:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.findAll=w.existsOne=w.findOne=w.findOneChild=w.find=w.filter=void 0;var ye=ue(3268);function he(O,M,k,U){for(var x=[],P=0,N=M;P<N.length;P++){var A=N[P];if(O(A)&&(x.push(A),--U<=0))break;if(k&&(0,ye.hasChildren)(A)&&A.children.length>0){var B=he(O,A.children,k,U);if(x.push.apply(x,B),(U-=B.length)<=0)break}}return x}w.filter=function we(O,M,k,U){return void 0===k&&(k=!0),void 0===U&&(U=1/0),Array.isArray(M)||(M=[M]),he(O,M,k,U)},w.find=he,w.findOneChild=function de(O,M){return M.find(O)},w.findOne=function $(O,M,k){void 0===k&&(k=!0);for(var U=null,x=0;x<M.length&&!U;x++){var P=M[x];(0,ye.isTag)(P)&&(O(P)?U=P:k&&P.children.length>0&&(U=$(O,P.children)))}return U},w.existsOne=function S(O,M){return M.some(function(k){return(0,ye.isTag)(k)&&(O(k)||k.children.length>0&&S(O,k.children))})},w.findAll=function I(O,M){for(var k,P,U=[],x=M.filter(ye.isTag);P=x.shift();){var N=null===(k=P.children)||void 0===k?void 0:k.filter(ye.isTag);N&&N.length>0&&x.unshift.apply(x,N),O(P)&&U.push(P)}return U}},3268:function(tt,w,ue){"use strict";var ye=this&&this.__createBinding||(Object.create?function(O,M,k,U){void 0===U&&(U=k);var x=Object.getOwnPropertyDescriptor(M,k);(!x||("get"in x?!M.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return M[k]}}),Object.defineProperty(O,U,x)}:function(O,M,k,U){void 0===U&&(U=k),O[U]=M[k]}),we=this&&this.__exportStar||function(O,M){for(var k in O)"default"!==k&&!Object.prototype.hasOwnProperty.call(M,k)&&ye(M,O,k)};Object.defineProperty(w,"__esModule",{value:!0}),w.DomHandler=void 0;var he=ue(2704),de=ue(9282);we(ue(9282),w);var $=/\s+/g,S={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},I=function(){function O(M,k,U){this.dom=[],this.root=new de.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof k&&(U=k,k=S),"object"==typeof M&&(k=M,M=void 0),this.callback=M??null,this.options=k??S,this.elementCB=U??null}return O.prototype.onparserinit=function(M){this.parser=M},O.prototype.onreset=function(){this.dom=[],this.root=new de.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},O.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},O.prototype.onerror=function(M){this.handleCallback(M)},O.prototype.onclosetag=function(){this.lastNode=null;var M=this.tagStack.pop();this.options.withEndIndices&&(M.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(M)},O.prototype.onopentag=function(M,k){var x=new de.Element(M,k,void 0,this.options.xmlMode?he.ElementType.Tag:void 0);this.addNode(x),this.tagStack.push(x)},O.prototype.ontext=function(M){var k=this.options.normalizeWhitespace,U=this.lastNode;if(U&&U.type===he.ElementType.Text)k?U.data=(U.data+M).replace($," "):U.data+=M,this.options.withEndIndices&&(U.endIndex=this.parser.endIndex);else{k&&(M=M.replace($," "));var x=new de.Text(M);this.addNode(x),this.lastNode=x}},O.prototype.oncomment=function(M){if(this.lastNode&&this.lastNode.type===he.ElementType.Comment)this.lastNode.data+=M;else{var k=new de.Comment(M);this.addNode(k),this.lastNode=k}},O.prototype.oncommentend=function(){this.lastNode=null},O.prototype.oncdatastart=function(){var M=new de.Text(""),k=new de.NodeWithChildren(he.ElementType.CDATA,[M]);this.addNode(k),M.parent=k,this.lastNode=M},O.prototype.oncdataend=function(){this.lastNode=null},O.prototype.onprocessinginstruction=function(M,k){var U=new de.ProcessingInstruction(M,k);this.addNode(U)},O.prototype.handleCallback=function(M){if("function"==typeof this.callback)this.callback(M,this.dom);else if(M)throw M},O.prototype.addNode=function(M){var k=this.tagStack[this.tagStack.length-1],U=k.children[k.children.length-1];this.options.withStartIndices&&(M.startIndex=this.parser.startIndex),this.options.withEndIndices&&(M.endIndex=this.parser.endIndex),k.children.push(M),U&&(M.prev=U,U.next=M),M.parent=k,this.lastNode=null},O}();w.DomHandler=I,w.default=I},3679:()=>{},3692:(tt,w,ue)=>{const{hp2Builder:ye}=ue(7410),we=ue(8813),he=ue(8772),de=ue(4588),$=ue(1e3),{BlockTextBuilder:S}=ue(1738),I=ue(4181),{limitedDepthRecursive:O,mergeDuplicatesPreferLast:M,get:k}=ue(8051);ue(3679);const U={baseElements:{selectors:["body"],orderBy:"selectors",returnDomByDefault:!0},decodeOptions:{isAttributeValue:!1,strict:!1},formatters:{},limits:{ellipsis:"...",maxBaseElements:void 0,maxChildNodes:void 0,maxDepth:void 0,maxInputLength:1<<24},longWordSplit:{forceWrapOnLimit:!1,wrapCharacters:[]},preserveNewlines:!1,selectors:[{selector:"*",format:"inline"},{selector:"a",format:"anchor",options:{baseUrl:null,hideLinkHrefIfSameAsText:!1,ignoreHref:!1,linkBrackets:["[","]"],noAnchorUrl:!0}},{selector:"article",format:"block"},{selector:"aside",format:"block"},{selector:"blockquote",format:"blockquote",options:{leadingLineBreaks:2,trailingLineBreaks:2,trimEmptyLines:!0}},{selector:"br",format:"lineBreak"},{selector:"div",format:"block"},{selector:"footer",format:"block"},{selector:"form",format:"block"},{selector:"h1",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h2",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h3",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h4",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h5",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h6",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"header",format:"block"},{selector:"hr",format:"horizontalLine",options:{leadingLineBreaks:2,length:void 0,trailingLineBreaks:2}},{selector:"img",format:"image",options:{baseUrl:null,linkBrackets:["[","]"]}},{selector:"main",format:"block"},{selector:"nav",format:"block"},{selector:"ol",format:"orderedList",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"p",format:"paragraph",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"pre",format:"pre",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"section",format:"block"},{selector:"table",format:"table",options:{colSpacing:3,leadingLineBreaks:2,maxColumnWidth:60,rowSpacing:0,trailingLineBreaks:2,uppercaseHeaderCells:!0}},{selector:"ul",format:"unorderedList",options:{itemPrefix:" * ",leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"wbr",format:"wbr"}],tables:[],whitespaceCharacters:" \t\r\n\f\u200b",wordwrap:80},P=(L,W,T)=>[...W],N=(L,W,T)=>L.some(le=>"object"==typeof le)?((L,W)=>[...L,...W])(L,W):P(0,W);function A(L={}){(L=we(U,L,{arrayMerge:P,customMerge:X=>"selectors"===X?N:void 0})).formatters=Object.assign({},I,L.formatters),L.selectors=M(L.selectors,X=>X.selector),function me(L){const W=L.selectors;if(L.tags){const Ce=Object.entries(L.tags).map(([V,X])=>({...X,selector:V||"*"}));W.push(...Ce)}function T(Ce,V,X){const ee=V.pop();for(const ge of V){let Me=Ce[ge];Me||(Me={},Ce[ge]=Me),Ce=Me}Ce[ee]=X}function le(Ce,V,X){if(void 0!==L[Ce])for(const ee of W)ee.format===V&&T(ee,["options",X],L[Ce])}if(le("hideLinkHrefIfSameAsText","anchor","hideLinkHrefIfSameAsText"),le("ignoreHref","anchor","ignoreHref"),le("linkHrefBaseUrl","anchor","baseUrl"),le("noAnchorUrl","anchor","noAnchorUrl"),le("noLinkBrackets","anchor","noLinkBrackets"),le("linkHrefBaseUrl","image","baseUrl"),le("unorderedListItemPrefix","unorderedList","itemPrefix"),le("uppercaseHeadings","heading","uppercase"),le("uppercaseHeadings","table","uppercaseHeadings"),le("uppercaseHeadings","dataTable","uppercaseHeadings"),L.ignoreImage)for(const Ce of W)"image"===Ce.format&&(Ce.format="skip");if(L.singleNewLineParagraphs)for(const Ce of W)("paragraph"===Ce.format||"pre"===Ce.format)&&(T(Ce,["options","leadingLineBreaks"],1),T(Ce,["options","trailingLineBreaks"],1));if(L.baseElement){const Ce=L.baseElement;T(L,["baseElements","selectors"],Array.isArray(Ce)?Ce:[Ce])}void 0!==L.returnDomByDefault&&T(L,["baseElements","returnDomByDefault"],L.returnDomByDefault);for(const Ce of W)"anchor"===Ce.format&&k(Ce,["options","noLinkBrackets"])&&T(Ce,["options","linkBrackets"],!1)}(L);const W=L.selectors.filter(X=>!X.format);if(W.length)throw new Error("Following selectors have no specified format: "+W.map(X=>`\`${X.selector}\``).join(", "));const T=new $.DecisionTree(L.selectors.map(X=>[X.selector,X])).build(ye),le=new $.DecisionTree(L.baseElements.selectors.map((X,ee)=>[X,ee+1])).build(ye);function Ce(X){return function Te(L,W,T){const le=[];return O(W.limits.maxDepth,function Ce(X,ee){ee=ee.slice(0,W.limits.maxChildNodes);for(const ge of ee){if("tag"!==ge.type)continue;const Me=T.pick1(ge);if(Me>0?le.push({selectorIndex:Me,element:ge}):ge.children&&X(ge.children),le.length>=W.limits.maxBaseElements)return}})(L),"occurrence"!==W.baseElements.orderBy&&le.sort((X,ee)=>X.selectorIndex-ee.selectorIndex),W.baseElements.returnDomByDefault&&0===le.length?L:le.map(X=>X.element)}(X,L,le)}const V=O(L.limits.maxDepth,z,function(X,ee){ee.addInline(L.limits.ellipsis||"")});return function(X){return function B(L,W,T,le,Ce){const V=W.limits.maxInputLength;V&&L&&L.length>V&&(console.warn(`Input length ${L.length} is above allowed limit of ${V}. Truncating without ellipsis.`),L=L.substring(0,V));const X=new de.DomHandler;new de.Parser(X,{decodeEntities:!1}).parseComplete(L);const ee=le(X.dom),ge=new S(W,T);return Ce(ee,ge),ge.toString()}(X,L,T,Ce,V)}}function G(L,W={}){return A(W)(L)}function z(L,W,T){if(!W)return;const le=T.options;W.length>le.limits.maxChildNodes&&(W=W.slice(0,le.limits.maxChildNodes)).push({data:le.limits.ellipsis,type:"text"});for(const V of W)switch(V.type){case"text":T.addInline(he.decode(V.data,le.decodeOptions));break;case"tag":{const X=T.picker.pick1(V);(0,le.formatters[X.format])(V,L,T,X.options||{});break}}}tt.exports={compile:A,convert:G,fromString:(L,W={})=>G(L,W),htmlToText:G}},3703:(tt,w,ue)=>{tt.exports=ue(3692)},3823:(tt,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.attributeNames=w.elementNames=void 0,w.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),w.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},3825:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(w,"__esModule",{value:!0}),w.escapeUTF8=w.escape=w.encodeNonAsciiHTML=w.encodeHTML=w.encodeXML=void 0;var he=O(ye(ue(7178)).default),de=M(he);w.encodeXML=G(he);var S=O(ye(ue(4374)).default),I=M(S);function O(me){return Object.keys(me).sort().reduce(function(Te,z){return Te[me[z]]="&"+z+";",Te},{})}function M(me){for(var Te=[],z=[],oe=0,L=Object.keys(me);oe<L.length;oe++){var W=L[oe];1===W.length?Te.push("\\"+W):z.push(W)}Te.sort();for(var T=0;T<Te.length-1;T++){for(var le=T;le<Te.length-1&&Te[le].charCodeAt(1)+1===Te[le+1].charCodeAt(1);)le+=1;var Ce=1+le-T;Ce<3||Te.splice(T,Ce,Te[T]+"-"+Te[le])}return z.unshift("["+Te.join("")+"]"),new RegExp(z.join("|"),"g")}w.encodeHTML=function P(me,Te){return function(z){return z.replace(Te,function(oe){return me[oe]}).replace(k,x)}}(S,I),w.encodeNonAsciiHTML=G(S);var k=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,U=null!=String.prototype.codePointAt?function(me){return me.codePointAt(0)}:function(me){return 1024*(me.charCodeAt(0)-55296)+me.charCodeAt(1)-56320+65536};function x(me){return"&#x"+(me.length>1?U(me):me.charCodeAt(0)).toString(16).toUpperCase()+";"}var N=new RegExp(de.source+"|"+k.source,"g");function G(me){return function(Te){return Te.replace(N,function(z){return me[z]||x(z)})}}w.escape=function A(me){return me.replace(N,x)},w.escapeUTF8=function B(me){return me.replace(de,x)}},4181:(tt,w,ue)=>{const ye=ue(8772),{get:we,numberToLetterSequence:he,numberToRoman:de,splitClassesAndIds:$,trimCharacter:S}=ue(8051);function M(V,X,ee,ge){ee.openBlock({leadingLineBreaks:ge.leadingLineBreaks}),X(V.children,ee),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks})}function G(V,X){return X?("string"==typeof X[0]?X[0]:"[")+V+("string"==typeof X[1]?X[1]:"]"):V}function z(V,X,ee,ge,Me){const Fe="li"===we(V,["parent","name"]);let Be=0;const mt=(V.children||[]).filter(ce=>"text"!==ce.type||!/^\s*$/.test(ce.data)).map(function(ce){if("li"!==ce.name)return{node:ce,prefix:""};const xe=Fe?Me().trimStart():Me();return xe.length>Be&&(Be=xe.length),{node:ce,prefix:xe}});if(!mt.length)return;const Le=Be,Ve="\n"+" ".repeat(Le);ee.openBlock({leadingLineBreaks:Fe?1:ge.leadingLineBreaks||2});for(const{node:ce,prefix:xe}of mt)ee.openBlock({leadingLineBreaks:1,reservedLineLength:Le}),X([ce],ee),ee.closeBlock({trailingLineBreaks:1,blockTransform:ke=>xe+" ".repeat(Le-xe.length)+ke.replace(/\n/g,Ve)});ee.closeBlock({trailingLineBreaks:Fe?1:ge.trailingLineBreaks||2})}function Ce(V,X,ee,ge){function Me(Be){const mt=+we(Be,["attribs","colspan"])||1,Le=+we(Be,["attribs","rowspan"])||1;ee.openTableCell({maxColumnWidth:ge.maxColumnWidth}),X(Be.children,ee),ee.closeTableCell({colspan:mt,rowspan:Le})}ee.openTable(),V.children.forEach(function Fe(Be){if("tag"!==Be.type)return;const mt=!1!==ge.uppercaseHeaderCells?Le=>{ee.pushWordTransform(Ve=>Ve.toUpperCase()),Me(Le),ee.popWordTransform()}:Me;switch(Be.name){case"thead":case"tbody":case"tfoot":case"center":return void Be.children.forEach(Fe);case"tr":ee.openTableRow();for(const Le of Be.children)if("tag"===Le.type)switch(Le.name){case"th":mt(Le);break;case"td":Me(Le)}ee.closeTableRow()}}),ee.closeTable({colSpacing:ge.colSpacing,leadingLineBreaks:ge.leadingLineBreaks,rowSpacing:ge.rowSpacing,trailingLineBreaks:ge.trailingLineBreaks})}ue(3679),tt.exports={anchor:function Te(V,X,ee,ge){const Fe=function Me(){if(ge.ignoreHref||!V.attribs||!V.attribs.href)return"";let Be=V.attribs.href.replace(/^mailto:/,"");return ge.noAnchorUrl&&"#"===Be[0]?"":(Be=ge.baseUrl&&"/"===Be[0]?ge.baseUrl+Be:Be,ye.decode(Be,ee.options.decodeOptions))}();if(Fe){let Be="";ee.pushWordTransform(Le=>(Le&&(Be+=Le),Le)),X(V.children,ee),ee.popWordTransform(),ge.hideLinkHrefIfSameAsText&&Fe===Be||ee.addInline(Be?" "+G(Fe,ge.linkBrackets):Fe,{noWordTransform:!0})}else X(V.children,ee)},block:M,blockquote:function B(V,X,ee,ge){ee.openBlock({leadingLineBreaks:ge.leadingLineBreaks||2,reservedLineLength:2}),X(V.children,ee),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks||2,blockTransform:Me=>(!1!==ge.trimEmptyLines?S(Me,"\n"):Me).split("\n").map(Fe=>"> "+Fe).join("\n")})},dataTable:Ce,heading:function A(V,X,ee,ge){ee.openBlock({leadingLineBreaks:ge.leadingLineBreaks||2}),!1!==ge.uppercase?(ee.pushWordTransform(Me=>Me.toUpperCase()),X(V.children,ee),ee.popWordTransform()):X(V.children,ee),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks||2})},horizontalLine:function x(V,X,ee,ge){ee.openBlock({leadingLineBreaks:ge.leadingLineBreaks||2}),ee.addInline("-".repeat(ge.length||ee.options.wordwrap||40)),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks||2})},image:function me(V,X,ee,ge){const Me=V.attribs||{},Fe=Me.alt?ye.decode(Me.alt,ee.options.decodeOptions):"",Be=Me.src?ge.baseUrl&&0===Me.src.indexOf("/")?ge.baseUrl+Me.src:Me.src:"",mt=Be?Fe?Fe+" "+G(Be,ge.linkBrackets):G(Be,ge.linkBrackets):Fe;ee.addInline(mt)},inline:function O(V,X,ee,ge){X(V.children,ee)},lineBreak:function k(V,X,ee,ge){ee.addLineBreak()},orderedList:function L(V,X,ee,ge){let Me=Number(V.attribs.start||"1");const Fe=function W(V="1"){switch(V){case"a":return X=>he(X,"a");case"A":return X=>he(X,"A");case"i":return X=>de(X).toLowerCase();case"I":return X=>de(X);default:return X=>X.toString()}}(V.attribs.type);return z(V,X,ee,ge,()=>" "+Fe(Me++)+". ")},paragraph:function P(V,X,ee,ge){ee.openBlock({leadingLineBreaks:ge.leadingLineBreaks||2}),X(V.children,ee),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks||2})},pre:function N(V,X,ee,ge){ee.openBlock({isPre:!0,leadingLineBreaks:ge.leadingLineBreaks||2}),X(V.children,ee),ee.closeBlock({trailingLineBreaks:ge.trailingLineBreaks||2})},skip:function I(V,X,ee,ge){},table:function le(V,X,ee,ge){return function T(V,X){if(!0===X)return!0;if(!V)return!1;const{classes:ee,ids:ge}=$(X),Me=(V.class||"").split(" "),Fe=(V.id||"").split(" ");return Me.some(Be=>ee.includes(Be))||Fe.some(Be=>ge.includes(Be))}(V.attribs,ee.options.tables)?Ce(V,X,ee,ge):M(V,X,ee,ge)},unorderedList:function oe(V,X,ee,ge){const Me=ge.itemPrefix||" * ";return z(V,X,ee,ge,()=>Me)},wbr:function U(V,X,ee,ge){ee.addWordBreakOpportunity()}}},4374:tt=>{"use strict";tt.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\u{1d504}","afr":"\u{1d51e}","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1d538}","aopf":"\u{1d552}","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\u{1d49c}","ascr":"\u{1d4b6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\u{1d505}","bfr":"\u{1d51f}","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\u{1d539}","bopf":"\u{1d553}","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\u{1d4b7}","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\u{1d520}","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\u{1d554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\u{1d49e}","cscr":"\u{1d4b8}","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\u{1d507}","dfr":"\u{1d521}","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\u{1d53b}","dopf":"\u{1d555}","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\u{1d49f}","dscr":"\u{1d4b9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1d508}","efr":"\u{1d522}","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1d53c}","eopf":"\u{1d556}","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\u{1d509}","ffr":"\u{1d523}","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\u{1d53d}","fopf":"\u{1d557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\u{1d4bb}","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\u{1d50a}","gfr":"\u{1d524}","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\u{1d53e}","gopf":"\u{1d558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\u{1d4a2}","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\u{1d525}","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\u{1d559}","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1d4bd}","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\u{1d526}","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\u{1d540}","iopf":"\u{1d55a}","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\u{1d4be}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1d50d}","jfr":"\u{1d527}","jmath":"\u0237","Jopf":"\u{1d541}","jopf":"\u{1d55b}","Jscr":"\u{1d4a5}","jscr":"\u{1d4bf}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\u{1d50e}","kfr":"\u{1d528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\u{1d542}","kopf":"\u{1d55c}","Kscr":"\u{1d4a6}","kscr":"\u{1d4c0}","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\u{1d50f}","lfr":"\u{1d529}","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\u{1d543}","lopf":"\u{1d55d}","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\u{1d4c1}","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\u{1d510}","mfr":"\u{1d52a}","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\u{1d544}","mopf":"\u{1d55e}","mp":"\u2213","mscr":"\u{1d4c2}","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1d511}","nfr":"\u{1d52b}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\u{1d55f}","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\u{1d4a9}","nscr":"\u{1d4c3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\u{1d512}","ofr":"\u{1d52c}","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\u{1d546}","oopf":"\u{1d560}","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\u{1d4aa}","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\u{1d513}","pfr":"\u{1d52d}","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\u{1d561}","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\u{1d4ab}","pscr":"\u{1d4c5}","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\u{1d514}","qfr":"\u{1d52e}","qint":"\u2a0c","qopf":"\u{1d562}","Qopf":"\u211a","qprime":"\u2057","Qscr":"\u{1d4ac}","qscr":"\u{1d4c6}","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\u{1d52f}","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\u{1d563}","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\u{1d4c7}","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1d516}","sfr":"\u{1d530}","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\u{1d54a}","sopf":"\u{1d564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\u{1d4ae}","sscr":"\u{1d4c8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\u{1d517}","tfr":"\u{1d531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\u{1d54b}","topf":"\u{1d565}","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\u{1d4af}","tscr":"\u{1d4c9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\u{1d518}","ufr":"\u{1d532}","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1d54c}","uopf":"\u{1d566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\u{1d4b0}","uscr":"\u{1d4ca}","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\u{1d519}","vfr":"\u{1d533}","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\u{1d54d}","vopf":"\u{1d567}","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\u{1d4b1}","vscr":"\u{1d4cb}","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1d51a}","wfr":"\u{1d534}","Wopf":"\u{1d54e}","wopf":"\u{1d568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1d4b2}","wscr":"\u{1d4cc}","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\u{1d51b}","xfr":"\u{1d535}","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\u{1d54f}","xopf":"\u{1d569}","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\u{1d4b3}","xscr":"\u{1d4cd}","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\u{1d51c}","yfr":"\u{1d536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1d550}","yopf":"\u{1d56a}","Yscr":"\u{1d4b4}","yscr":"\u{1d4ce}","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\u{1d537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\u{1d56b}","Zopf":"\u2124","Zscr":"\u{1d4b5}","zscr":"\u{1d4cf}","zwj":"\u200d","zwnj":"\u200c"}')},4588:function(tt,w,ue){"use strict";var ye=this&&this.__createBinding||(Object.create?function(N,A,B,G){void 0===G&&(G=B),Object.defineProperty(N,G,{enumerable:!0,get:function(){return A[B]}})}:function(N,A,B,G){void 0===G&&(G=B),N[G]=A[B]}),we=this&&this.__setModuleDefault||(Object.create?function(N,A){Object.defineProperty(N,"default",{enumerable:!0,value:A})}:function(N,A){N.default=A}),he=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var A={};if(null!=N)for(var B in N)"default"!==B&&Object.prototype.hasOwnProperty.call(N,B)&&ye(A,N,B);return we(A,N),A},de=this&&this.__exportStar||function(N,A){for(var B in N)"default"!==B&&!Object.prototype.hasOwnProperty.call(A,B)&&ye(A,N,B)},$=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(w,"__esModule",{value:!0}),w.RssHandler=w.DefaultHandler=w.DomUtils=w.ElementType=w.Tokenizer=w.createDomStream=w.parseDOM=w.parseDocument=w.DomHandler=w.Parser=void 0;var S=ue(8121);Object.defineProperty(w,"Parser",{enumerable:!0,get:function(){return S.Parser}});var I=ue(3268);function O(N,A){var B=new I.DomHandler(void 0,A);return new S.Parser(B,A).end(N),B.root}Object.defineProperty(w,"DomHandler",{enumerable:!0,get:function(){return I.DomHandler}}),Object.defineProperty(w,"DefaultHandler",{enumerable:!0,get:function(){return I.DomHandler}}),w.parseDocument=O,w.parseDOM=function M(N,A){return O(N,A).children},w.createDomStream=function k(N,A,B){var G=new I.DomHandler(N,A,B);return new S.Parser(G,A)};var U=ue(2521);Object.defineProperty(w,"Tokenizer",{enumerable:!0,get:function(){return $(U).default}});var x=he(ue(2704));w.ElementType=x,de(ue(5892),w),w.DomUtils=he(ue(449));var P=ue(5892);Object.defineProperty(w,"RssHandler",{enumerable:!0,get:function(){return P.FeedHandler}})},4715:function(tt,w,ue){"use strict";var ye=this&&this.__assign||function(){return ye=Object.assign||function(z){for(var oe,L=1,W=arguments.length;L<W;L++)for(var T in oe=arguments[L])Object.prototype.hasOwnProperty.call(oe,T)&&(z[T]=oe[T]);return z},ye.apply(this,arguments)},we=this&&this.__createBinding||(Object.create?function(z,oe,L,W){void 0===W&&(W=L),Object.defineProperty(z,W,{enumerable:!0,get:function(){return oe[L]}})}:function(z,oe,L,W){void 0===W&&(W=L),z[W]=oe[L]}),he=this&&this.__setModuleDefault||(Object.create?function(z,oe){Object.defineProperty(z,"default",{enumerable:!0,value:oe})}:function(z,oe){z.default=oe}),de=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var oe={};if(null!=z)for(var L in z)"default"!==L&&Object.prototype.hasOwnProperty.call(z,L)&&we(oe,z,L);return he(oe,z),oe};Object.defineProperty(w,"__esModule",{value:!0});var $=de(ue(2704)),S=ue(7799),I=ue(3823),O=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),k=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function U(z,oe){void 0===oe&&(oe={});for(var L=("length"in z?z:[z]),W="",T=0;T<L.length;T++)W+=x(L[T],oe);return W}function x(z,oe){switch(z.type){case $.Root:return U(z.children,oe);case $.Directive:case $.Doctype:return function B(z){return"<"+z.data+">"}(z);case $.Comment:return function Te(z){return"\x3c!--"+z.data+"--\x3e"}(z);case $.CDATA:return function me(z){return"<![CDATA["+z.children[0].data+"]]>"}(z);case $.Script:case $.Style:case $.Tag:return function A(z,oe){var L;"foreign"===oe.xmlMode&&(z.name=null!==(L=I.elementNames.get(z.name))&&void 0!==L?L:z.name,z.parent&&P.has(z.parent.name)&&(oe=ye(ye({},oe),{xmlMode:!1}))),!oe.xmlMode&&N.has(z.name)&&(oe=ye(ye({},oe),{xmlMode:"foreign"}));var W="<"+z.name,T=function M(z,oe){if(z)return Object.keys(z).map(function(L){var W,T,le=null!==(W=z[L])&&void 0!==W?W:"";return"foreign"===oe.xmlMode&&(L=null!==(T=I.attributeNames.get(L))&&void 0!==T?T:L),oe.emptyAttrs||oe.xmlMode||""!==le?L+'="'+(!1!==oe.decodeEntities?S.encodeXML(le):le.replace(/"/g,"&quot;"))+'"':L}).join(" ")}(z.attribs,oe);return T&&(W+=" "+T),0===z.children.length&&(oe.xmlMode?!1!==oe.selfClosingTags:oe.selfClosingTags&&k.has(z.name))?(oe.xmlMode||(W+=" "),W+="/>"):(W+=">",z.children.length>0&&(W+=U(z.children,oe)),(oe.xmlMode||!k.has(z.name))&&(W+="</"+z.name+">")),W}(z,oe);case $.Text:return function G(z,oe){var L=z.data||"";return!1!==oe.decodeEntities&&!(!oe.xmlMode&&z.parent&&O.has(z.parent.name))&&(L=S.encodeXML(L)),L}(z,oe)}}w.default=U;var P=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),N=new Set(["svg","math"])},4954:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getElementsByTagType=w.getElementsByTagName=w.getElementById=w.getElements=w.testElement=void 0;var ye=ue(3268),we=ue(2933),he={tag_name:function(x){return"function"==typeof x?function(P){return(0,ye.isTag)(P)&&x(P.name)}:"*"===x?ye.isTag:function(P){return(0,ye.isTag)(P)&&P.name===x}},tag_type:function(x){return"function"==typeof x?function(P){return x(P.type)}:function(P){return P.type===x}},tag_contains:function(x){return"function"==typeof x?function(P){return(0,ye.isText)(P)&&x(P.data)}:function(P){return(0,ye.isText)(P)&&P.data===x}}};function de(x,P){return"function"==typeof P?function(N){return(0,ye.isTag)(N)&&P(N.attribs[x])}:function(N){return(0,ye.isTag)(N)&&N.attribs[x]===P}}function $(x,P){return function(N){return x(N)||P(N)}}function S(x){var P=Object.keys(x).map(function(N){var A=x[N];return Object.prototype.hasOwnProperty.call(he,N)?he[N](A):de(N,A)});return 0===P.length?null:P.reduce($)}w.testElement=function I(x,P){var N=S(x);return!N||N(P)},w.getElements=function O(x,P,N,A){void 0===A&&(A=1/0);var B=S(x);return B?(0,we.filter)(B,P,N,A):[]},w.getElementById=function M(x,P,N){return void 0===N&&(N=!0),Array.isArray(P)||(P=[P]),(0,we.findOne)(de("id",x),P,N)},w.getElementsByTagName=function k(x,P,N,A){return void 0===N&&(N=!0),void 0===A&&(A=1/0),(0,we.filter)(he.tag_name(x),P,N,A)},w.getElementsByTagType=function U(x,P,N,A){return void 0===N&&(N=!0),void 0===A&&(A=1/0),(0,we.filter)(he.tag_type(x),P,N,A)}},5618:tt=>{function w($,S){return $[S]||($[S]=[]),$[S]}function ue($,S=0){for(;$[S];)S++;return S}function we($,S,I,O){for(let M=0;M<$.rowspan;M++){const k=w(S,I+M);for(let U=0;U<$.colspan;U++)k[O+U]=$}}function he($,S,I,O){$[S+I]=Math.max($[S+I]||0,$[S]+O)}tt.exports={tableToString:function de($,S,I){const O=[];let M=0;const k=$.length,U=[0];for(let N=0;N<k;N++){const A=w(O,N),B=$[N];let G=0;for(let me=0;me<B.length;me++){const Te=B[me];G=ue(A,G),we(Te,O,N,G),G+=Te.colspan,Te.lines=Te.text.split("\n"),he(U,N,Te.rowspan,Te.lines.length+S)}M=A.length>M?A.length:M}!function ye($,S){for(let I=0;I<S;I++){const O=w($,I);for(let M=0;M<I;M++){const k=w($,M),U=O[M];O[M]=k[I],k[I]=U}}}(O,k>M?k:M);const x=[],P=[0];for(let N=0;N<M;N++){let B,A=0;for(;A<k&&(B=O[N][A]);){if(!B.rendered){let G=0;for(let me=0;me<B.lines.length;me++){const Te=B.lines[me],z=U[A]+me;x[z]=(x[z]||"").padEnd(P[N])+Te,G=Te.length>G?Te.length:G}he(P,N,B.colspan,G+I),B.rendered=!0}A+=B.rowspan}}return x.join("\n")}}},5796:function(tt){var ue;ue=function(){function w(I,O,M){return this.id=++w.highestId,this.name=I,this.symbols=O,this.postprocess=M,this}function ue(I,O,M,k){this.rule=I,this.dot=O,this.reference=M,this.data=[],this.wantedBy=k,this.isComplete=this.dot===I.symbols.length}function ye(I,O){this.grammar=I,this.index=O,this.states=[],this.wants={},this.scannable=[],this.completed={}}function we(I,O){this.rules=I,this.start=O||this.rules[0].name;var M=this.byName={};this.rules.forEach(function(k){M.hasOwnProperty(k.name)||(M[k.name]=[]),M[k.name].push(k)})}function he(){this.reset("")}function de(I,O,M){if(I instanceof we){var k=I;M=O}else k=we.fromCompiled(I,O);for(var U in this.grammar=k,this.options={keepHistory:!1,lexer:k.lexer||new he},M||{})this.options[U]=M[U];this.lexer=this.options.lexer,this.lexerState=void 0;var x=new ye(k,0);this.table=[x],x.wants[k.start]=[],x.predict(k.start),x.process(),this.current=0}function S(I){var O=typeof I;if("string"===O)return I;if("object"===O){if(I.literal)return JSON.stringify(I.literal);if(I instanceof RegExp)return I.toString();if(I.type)return"%"+I.type;if(I.test)return"<"+String(I.test)+">";throw new Error("Unknown symbol type: "+I)}}return w.highestId=0,w.prototype.toString=function(I){var O=typeof I>"u"?this.symbols.map(S).join(" "):this.symbols.slice(0,I).map(S).join(" ")+" \u25cf "+this.symbols.slice(I).map(S).join(" ");return this.name+" \u2192 "+O},ue.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},ue.prototype.nextState=function(I){var O=new ue(this.rule,this.dot+1,this.reference,this.wantedBy);return O.left=this,O.right=I,O.isComplete&&(O.data=O.build(),O.right=void 0),O},ue.prototype.build=function(){var I=[],O=this;do{I.push(O.right.data),O=O.left}while(O.left);return I.reverse(),I},ue.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,de.fail))},ye.prototype.process=function(I){for(var O=this.states,M=this.wants,k=this.completed,U=0;U<O.length;U++){var x=O[U];if(x.isComplete){if(x.finish(),x.data!==de.fail){for(var P=x.wantedBy,N=P.length;N--;)this.complete(P[N],x);x.reference===this.index&&(this.completed[B=x.rule.name]=this.completed[B]||[]).push(x)}}else{var B;if("string"!=typeof(B=x.rule.symbols[x.dot])){this.scannable.push(x);continue}if(M[B]){if(M[B].push(x),k.hasOwnProperty(B)){var G=k[B];for(N=0;N<G.length;N++)this.complete(x,G[N])}}else M[B]=[x],this.predict(B)}}},ye.prototype.predict=function(I){for(var O=this.grammar.byName[I]||[],M=0;M<O.length;M++){var x=new ue(O[M],0,this.index,this.wants[I]);this.states.push(x)}},ye.prototype.complete=function(I,O){var M=I.nextState(O);this.states.push(M)},we.fromCompiled=function(k,O){var M=k.Lexer;k.ParserStart&&(O=k.ParserStart,k=k.ParserRules);var U=new we(k=k.map(function(x){return new w(x.name,x.symbols,x.postprocess)}),O);return U.lexer=M,U},he.prototype.reset=function(I,O){this.buffer=I,this.index=0,this.line=O?O.line:1,this.lastLineBreak=O?-O.col:0},he.prototype.next=function(){if(this.index<this.buffer.length){var I=this.buffer[this.index++];return"\n"===I&&(this.line+=1,this.lastLineBreak=this.index),{value:I}}},he.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},he.prototype.formatError=function(I,O){var M=this.buffer;if("string"==typeof M){var k=M.split("\n").slice(Math.max(0,this.line-5),this.line),U=M.indexOf("\n",this.index);-1===U&&(U=M.length);var x=this.index-this.lastLineBreak,P=String(this.line).length;return O+=" at line "+this.line+" col "+x+":\n\n",(O+=k.map(function(A,B){return N(this.line-k.length+B+1,P)+" "+A},this).join("\n"))+"\n"+N("",P+x)+"^\n"}return O+" at index "+(this.index-1);function N(A,B){var G=String(A);return Array(B-G.length+1).join(" ")+G}},de.fail={},de.prototype.feed=function(I){var M,O=this.lexer;for(O.reset(I,this.lexerState);;){try{if(!(M=O.next()))break}catch(oe){var P=new ye(this.grammar,this.current+1);throw this.table.push(P),(k=new Error(this.reportLexerError(oe))).offset=this.current,k.token=oe.token,k}var U=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var k,x=this.current+1;P=new ye(this.grammar,x),this.table.push(P);for(var N=void 0!==M.text?M.text:M.value,A=O.constructor===he?M.value:M,B=U.scannable,G=B.length;G--;){var me=B[G],Te=me.rule.symbols[me.dot];if(Te.test?Te.test(A):Te.type?Te.type===M.type:Te.literal===N){var z=me.nextState({data:A,token:M,isToken:!0,reference:x-1});P.states.push(z)}}if(P.process(),0===P.states.length)throw(k=new Error(this.reportError(M))).offset=this.current,k.token=M,k;this.options.keepHistory&&(U.lexerState=O.save()),this.current++}return U&&(this.lexerState=O.save()),this.results=this.finish(),this},de.prototype.reportLexerError=function(I){var O,M,k=I.token;return k?(O="input "+JSON.stringify(k.text[0])+" (lexer error)",M=this.lexer.formatError(k,"Syntax error")):(O="input (lexer error)",M=I.message),this.reportErrorCommon(M,O)},de.prototype.reportError=function(I){var O=(I.type?I.type+" token: ":"")+JSON.stringify(void 0!==I.value?I.value:I),M=this.lexer.formatError(I,"Syntax error");return this.reportErrorCommon(M,O)},de.prototype.reportErrorCommon=function(I,O){var M=[];M.push(I);var U=this.table[this.table.length-2],x=U.states.filter(function(N){var A=N.rule.symbols[N.dot];return A&&"string"!=typeof A});return 0===x.length?(M.push("Unexpected "+O+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(U.states,M)):(M.push("Unexpected "+O+". Instead, I was expecting to see one of the following:\n"),x.map(function(N){return this.buildFirstStateStack(N,[])||[N]},this).forEach(function(N){var A=N[0],G=this.getSymbolDisplay(A.rule.symbols[A.dot]);M.push("A "+G+" based on:"),this.displayStateStack(N,M)},this)),M.push(""),M.join("\n")},de.prototype.displayStateStack=function(I,O){for(var M,k=0,U=0;U<I.length;U++){var x=I[U],P=x.rule.toString(x.dot);P===M?k++:(k>0&&O.push("    ^ "+k+" more lines identical to this"),k=0,O.push("    "+P)),M=P}},de.prototype.getSymbolDisplay=function(I){return function $(I){var O=typeof I;if("string"===O)return I;if("object"===O){if(I.literal)return JSON.stringify(I.literal);if(I instanceof RegExp)return"character matching "+I;if(I.type)return I.type+" token";if(I.test)return"token matching "+String(I.test);throw new Error("Unknown symbol type: "+I)}}(I)},de.prototype.buildFirstStateStack=function(I,O){if(-1!==O.indexOf(I))return null;if(0===I.wantedBy.length)return[I];var M=I.wantedBy[0],k=[I].concat(O),U=this.buildFirstStateStack(M,k);return null===U?null:[I].concat(U)},de.prototype.save=function(){var I=this.table[this.current];return I.lexerState=this.lexerState,I},de.prototype.restore=function(I){var O=I.index;this.current=O,this.table[O]=I,this.table.splice(O+1),this.lexerState=I.lexerState,this.results=this.finish()},de.prototype.rewind=function(I){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[I])},de.prototype.finish=function(){var I=[],O=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(k){k.rule.name===O&&k.dot===k.rule.symbols.length&&0===k.reference&&k.data!==de.fail&&I.push(k)}),I.map(function(k){return k.data})},{Parser:de,Grammar:we,Rule:w}},tt.exports?tt.exports=ue():this.nearley=ue()},5892:function(tt,w,ue){"use strict";var ye=this&&this.__extends||function(){var z=function(oe,L){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,T){W.__proto__=T}||function(W,T){for(var le in T)Object.prototype.hasOwnProperty.call(T,le)&&(W[le]=T[le])})(oe,L)};return function(oe,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function W(){this.constructor=oe}z(oe,L),oe.prototype=null===L?Object.create(L):(W.prototype=L.prototype,new W)}}(),we=this&&this.__createBinding||(Object.create?function(z,oe,L,W){void 0===W&&(W=L),Object.defineProperty(z,W,{enumerable:!0,get:function(){return oe[L]}})}:function(z,oe,L,W){void 0===W&&(W=L),z[W]=oe[L]}),he=this&&this.__setModuleDefault||(Object.create?function(z,oe){Object.defineProperty(z,"default",{enumerable:!0,value:oe})}:function(z,oe){z.default=oe}),de=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var oe={};if(null!=z)for(var L in z)"default"!==L&&Object.prototype.hasOwnProperty.call(z,L)&&we(oe,z,L);return he(oe,z),oe},$=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(w,"__esModule",{value:!0}),w.parseFeed=w.FeedHandler=void 0;var S=$(ue(3268)),I=de(ue(449)),O=ue(8121),U=function(z){function oe(L,W){return"object"==typeof L&&(W=L=void 0),z.call(this,L,W)||this}return ye(oe,z),oe.prototype.onend=function(){var L,W,T=N(me,this.dom);if(T){var le={};if("feed"===T.name){var Ce=T.children;le.type="atom",G(le,"id","id",Ce),G(le,"title","title",Ce);var V=B("href",N("link",Ce));V&&(le.link=V),G(le,"description","subtitle",Ce),(X=A("updated",Ce))&&(le.updated=new Date(X)),G(le,"author","email",Ce,!0),le.items=P("entry",Ce).map(function(ee){var ge={},Me=ee.children;G(ge,"id","id",Me),G(ge,"title","title",Me);var Fe=B("href",N("link",Me));Fe&&(ge.link=Fe);var Be=A("summary",Me)||A("content",Me);Be&&(ge.description=Be);var mt=A("updated",Me);return mt&&(ge.pubDate=new Date(mt)),ge.media=x(Me),ge})}else{var X;Ce=null!==(W=null===(L=N("channel",T.children))||void 0===L?void 0:L.children)&&void 0!==W?W:[],le.type=T.name.substr(0,3),le.id="",G(le,"title","title",Ce),G(le,"link","link",Ce),G(le,"description","description",Ce),(X=A("lastBuildDate",Ce))&&(le.updated=new Date(X)),G(le,"author","managingEditor",Ce,!0),le.items=P("item",T.children).map(function(Me){var Fe={},Be=Me.children;G(Fe,"id","guid",Be),G(Fe,"title","title",Be),G(Fe,"link","link",Be),G(Fe,"description","description",Be);var mt=A("pubDate",Be);return mt&&(Fe.pubDate=new Date(mt)),Fe.media=x(Be),Fe})}this.feed=le,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},oe}(S.default);function x(z){return P("media:content",z).map(function(oe){var L={medium:oe.attribs.medium,isDefault:!!oe.attribs.isDefault};return oe.attribs.url&&(L.url=oe.attribs.url),oe.attribs.fileSize&&(L.fileSize=parseInt(oe.attribs.fileSize,10)),oe.attribs.type&&(L.type=oe.attribs.type),oe.attribs.expression&&(L.expression=oe.attribs.expression),oe.attribs.bitrate&&(L.bitrate=parseInt(oe.attribs.bitrate,10)),oe.attribs.framerate&&(L.framerate=parseInt(oe.attribs.framerate,10)),oe.attribs.samplingrate&&(L.samplingrate=parseInt(oe.attribs.samplingrate,10)),oe.attribs.channels&&(L.channels=parseInt(oe.attribs.channels,10)),oe.attribs.duration&&(L.duration=parseInt(oe.attribs.duration,10)),oe.attribs.height&&(L.height=parseInt(oe.attribs.height,10)),oe.attribs.width&&(L.width=parseInt(oe.attribs.width,10)),oe.attribs.lang&&(L.lang=oe.attribs.lang),L})}function P(z,oe){return I.getElementsByTagName(z,oe,!0)}function N(z,oe){return I.getElementsByTagName(z,oe,!0,1)[0]}function A(z,oe,L){return void 0===L&&(L=!1),I.getText(I.getElementsByTagName(z,oe,L,1)).trim()}function B(z,oe){return oe?oe.attribs[z]:null}function G(z,oe,L,W,T){void 0===T&&(T=!1);var le=A(L,W,T);le&&(z[oe]=le)}function me(z){return"rss"===z||"feed"===z||"rdf:RDF"===z}w.FeedHandler=U,w.parseFeed=function Te(z,oe){void 0===oe&&(oe={xmlMode:!0});var L=new U(oe);return new O.Parser(L,oe).end(z),L.feed}},6235:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getFeed=void 0;var ye=ue(8616),we=ue(4954);w.getFeed=function he(P){var N=M(x,P);return N?"feed"===N.name?function de(P){var N,A=P.children,B={type:"atom",items:(0,we.getElementsByTagName)("entry",A).map(function(Te){var z,oe=Te.children,L={media:O(oe)};U(L,"id","id",oe),U(L,"title","title",oe);var W=null===(z=M("link",oe))||void 0===z?void 0:z.attribs.href;W&&(L.link=W);var T=k("summary",oe)||k("content",oe);T&&(L.description=T);var le=k("updated",oe);return le&&(L.pubDate=new Date(le)),L})};U(B,"id","id",A),U(B,"title","title",A);var G=null===(N=M("link",A))||void 0===N?void 0:N.attribs.href;G&&(B.link=G),U(B,"description","subtitle",A);var me=k("updated",A);return me&&(B.updated=new Date(me)),U(B,"author","email",A,!0),B}(N):function $(P){var N,A,B=null!==(A=null===(N=M("channel",P.children))||void 0===N?void 0:N.children)&&void 0!==A?A:[],G={type:P.name.substr(0,3),id:"",items:(0,we.getElementsByTagName)("item",P.children).map(function(Te){var z=Te.children,oe={media:O(z)};U(oe,"id","guid",z),U(oe,"title","title",z),U(oe,"link","link",z),U(oe,"description","description",z);var L=k("pubDate",z);return L&&(oe.pubDate=new Date(L)),oe})};U(G,"title","title",B),U(G,"link","link",B),U(G,"description","description",B);var me=k("lastBuildDate",B);return me&&(G.updated=new Date(me)),U(G,"author","managingEditor",B,!0),G}(N):null};var S=["url","type","lang"],I=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function O(P){return(0,we.getElementsByTagName)("media:content",P).map(function(N){for(var A=N.attribs,B={medium:A.medium,isDefault:!!A.isDefault},G=0,me=S;G<me.length;G++)A[Te=me[G]]&&(B[Te]=A[Te]);for(var z=0,oe=I;z<oe.length;z++){var Te;A[Te=oe[z]]&&(B[Te]=parseInt(A[Te],10))}return A.expression&&(B.expression=A.expression),B})}function M(P,N){return(0,we.getElementsByTagName)(P,N,!0,1)[0]}function k(P,N,A){return void 0===A&&(A=!1),(0,ye.textContent)((0,we.getElementsByTagName)(P,N,A,1)).trim()}function U(P,N,A,B,G){void 0===G&&(G=!1);var me=k(A,B,G);me&&(P[N]=me)}function x(P){return"rss"===P||"feed"===P||"rdf:RDF"===P}},7178:tt=>{"use strict";tt.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},7324:function(tt,w){var ue,we;void 0!==(we="function"==typeof(ue=function(){"use strict";var he=Object.prototype.hasOwnProperty,de=Object.prototype.toString,$="boolean"==typeof(new RegExp).sticky;function S(V){return V&&"[object RegExp]"===de.call(V)}function I(V){return V&&"object"==typeof V&&!S(V)&&!Array.isArray(V)}function M(V){return new RegExp("|"+V).exec("").length-1}function k(V){return"("+V+")"}function U(V){return V.length?"(?:"+V.map(function(ee){return"(?:"+ee+")"}).join("|")+")":"(?!)"}function x(V){if("string"==typeof V)return"(?:"+function O(V){return V.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(V)+")";if(S(V)){if(V.ignoreCase)throw new Error("RegExp /i flag not allowed");if(V.global)throw new Error("RegExp /g flag is implied");if(V.sticky)throw new Error("RegExp /y flag is implied");if(V.multiline)throw new Error("RegExp /m flag is implied");return V.source}throw new Error("Not a pattern: "+V)}function A(V,X){if(I(X)||(X={match:X}),X.include)throw new Error("Matching rules cannot also include states");var ee={defaultType:V,lineBreaks:!!X.error||!!X.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var ge in X)he.call(X,ge)&&(ee[ge]=X[ge]);if("string"==typeof ee.type&&V!==ee.type)throw new Error("Type transform cannot be a string (type '"+ee.type+"' for token '"+V+"')");var Me=ee.match;return ee.match=Array.isArray(Me)?Me:Me?[Me]:[],ee.match.sort(function(Fe,Be){return S(Fe)&&S(Be)?0:S(Be)?-1:S(Fe)?1:Be.length-Fe.length}),ee}function B(V){return Array.isArray(V)?function N(V){for(var X=[],ee=0;ee<V.length;ee++){var ge=V[ee];if(ge.include)for(var Me=[].concat(ge.include),Fe=0;Fe<Me.length;Fe++)X.push({include:Me[Fe]});else{if(!ge.type)throw new Error("Rule has no type: "+JSON.stringify(ge));X.push(A(ge.type,ge))}}return X}(V):function P(V){for(var X=Object.getOwnPropertyNames(V),ee=[],ge=0;ge<X.length;ge++){var Me=X[ge],Be=[].concat(V[Me]);if("include"!==Me){var Le=[];Be.forEach(function(Ve){I(Ve)?(Le.length&&ee.push(A(Me,Le)),ee.push(A(Me,Ve)),Le=[]):Le.push(Ve)}),Le.length&&ee.push(A(Me,Le))}else for(var mt=0;mt<Be.length;mt++)ee.push({include:Be[mt]})}return ee}(V)}var G=A("error",{lineBreaks:!0,shouldThrow:!0});function me(V,X){for(var ee=null,ge=Object.create(null),Me=!0,Fe=null,Be=[],mt=[],Le=0;Le<V.length;Le++)V[Le].fallback&&(Me=!1);for(Le=0;Le<V.length;Le++){var Ve=V[Le];if(Ve.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Ve.error||Ve.fallback){if(ee)throw!Ve.fallback==!ee.fallback?new Error("Multiple "+(Ve.fallback?"fallback":"error")+" rules not allowed (for token '"+Ve.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Ve.defaultType+"')");ee=Ve}var ce=Ve.match.slice();if(Me)for(;ce.length&&"string"==typeof ce[0]&&1===ce[0].length;)ge[ce.shift().charCodeAt(0)]=Ve;if(Ve.pop||Ve.push||Ve.next){if(!X)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Ve.defaultType+"')");if(Ve.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Ve.defaultType+"')")}if(0!==ce.length){Me=!1,Be.push(Ve);for(var ke=0;ke<ce.length;ke++){var se=ce[ke];if(S(se))if(null===Fe)Fe=se.unicode;else if(Fe!==se.unicode&&!1===Ve.fallback)throw new Error("If one rule is /u then all must be")}var D=U(ce.map(x)),Ze=new RegExp(D);if(Ze.test(""))throw new Error("RegExp matches empty string: "+Ze);if(M(D)>0)throw new Error("RegExp has capture groups: "+Ze+"\nUse (?: \u2026 ) instead");if(!Ve.lineBreaks&&Ze.test("\n"))throw new Error("Rule should declare lineBreaks: "+Ze);mt.push(k(D))}}var Mt=ee&&ee.fallback,sn=$&&!Mt?"ym":"gm",sr=$||Mt?"":"|";return!0===Fe&&(sn+="u"),{regexp:new RegExp(U(mt)+sr,sn),groups:Be,fast:ge,error:ee||G}}function z(V,X,ee){var ge=V&&(V.push||V.next);if(ge&&!ee[ge])throw new Error("Missing state '"+ge+"' (in token '"+V.defaultType+"' of state '"+X+"')");if(V&&V.pop&&1!=+V.pop)throw new Error("pop must be 1 (in token '"+V.defaultType+"' of state '"+X+"')")}var W=function(V,X){this.startState=X,this.states=V,this.buffer="",this.stack=[],this.reset()};W.prototype.reset=function(V,X){return this.buffer=V||"",this.index=0,this.line=X?X.line:1,this.col=X?X.col:1,this.queuedToken=X?X.queuedToken:null,this.queuedThrow=X?X.queuedThrow:null,this.setState(X?X.state:this.startState),this.stack=X&&X.stack?X.stack.slice():[],this},W.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},W.prototype.setState=function(V){if(V&&this.state!==V){this.state=V;var X=this.states[V];this.groups=X.groups,this.error=X.error,this.re=X.regexp,this.fast=X.fast}},W.prototype.popState=function(){this.setState(this.stack.pop())},W.prototype.pushState=function(V){this.stack.push(this.state),this.setState(V)};var T=$?function(V,X){return V.exec(X)}:function(V,X){var ee=V.exec(X);return 0===ee[0].length?null:ee};function le(){return this.value}if(W.prototype._getGroup=function(V){for(var X=this.groups.length,ee=0;ee<X;ee++)if(void 0!==V[ee+1])return this.groups[ee];throw new Error("Cannot find token type for matched text")},W.prototype.next=function(){var V=this.index;if(this.queuedGroup){var X=this._token(this.queuedGroup,this.queuedText,V);return this.queuedGroup=null,this.queuedText="",X}var ee=this.buffer;if(V!==ee.length){if(Be=this.fast[ee.charCodeAt(V)])return this._token(Be,ee.charAt(V),V);var ge=this.re;ge.lastIndex=V;var Me=T(ge,ee),Fe=this.error;if(null==Me)return this._token(Fe,ee.slice(V,ee.length),V);var Be=this._getGroup(Me),mt=Me[0];return Fe.fallback&&Me.index!==V?(this.queuedGroup=Be,this.queuedText=mt,this._token(Fe,ee.slice(V,Me.index),V)):this._token(Be,mt,V)}},W.prototype._token=function(V,X,ee){var ge=0;if(V.lineBreaks){var Me=/\n/g,Fe=1;if("\n"===X)ge=1;else for(;Me.exec(X);)ge++,Fe=Me.lastIndex}var Be={type:"function"==typeof V.type&&V.type(X)||V.defaultType,value:"function"==typeof V.value?V.value(X):X,text:X,toString:le,offset:ee,lineBreaks:ge,line:this.line,col:this.col},mt=X.length;if(this.index+=mt,this.line+=ge,0!==ge?this.col=mt-Fe+1:this.col+=mt,V.shouldThrow)throw new Error(this.formatError(Be,"invalid syntax"));return V.pop?this.popState():V.push?this.pushState(V.push):V.next&&this.setState(V.next),Be},typeof Symbol<"u"&&Symbol.iterator){var Ce=function(V){this.lexer=V};Ce.prototype.next=function(){var V=this.lexer.next();return{value:V,done:!V}},Ce.prototype[Symbol.iterator]=function(){return this},W.prototype[Symbol.iterator]=function(){return new Ce(this)}}return W.prototype.formatError=function(V,X){if(null==V){var ee=this.buffer.slice(this.index);V={text:ee,offset:this.index,lineBreaks:-1===ee.indexOf("\n")?0:1,line:this.line,col:this.col}}var ge=Math.max(0,V.offset-V.col+1),Me=V.lineBreaks?V.text.indexOf("\n"):V.text.length,Fe=this.buffer.substring(ge,V.offset+Me);return X+=" at line "+V.line+" col "+V.col+":\n\n",(X+="  "+Fe+"\n")+"  "+Array(V.col).join(" ")+"^"},W.prototype.clone=function(){return new W(this.states,this.state)},W.prototype.has=function(V){return!0},{compile:function Te(V){var X=me(B(V));return new W({start:X},"start")},states:function oe(V,X){var ee=V.$all?B(V.$all):[];delete V.$all;var ge=Object.getOwnPropertyNames(V);X||(X=ge[0]);for(var Me=Object.create(null),Fe=0;Fe<ge.length;Fe++)Me[Be=ge[Fe]]=B(V[Be]).concat(ee);for(Fe=0;Fe<ge.length;Fe++)for(var mt=Me[Be=ge[Fe]],Le=Object.create(null),Ve=0;Ve<mt.length;Ve++){var ce=mt[Ve];if(ce.include){var xe=[Ve,1];if(ce.include!==Be&&!Le[ce.include]){Le[ce.include]=!0;var ke=Me[ce.include];if(!ke)throw new Error("Cannot include nonexistent state '"+ce.include+"' (in state '"+Be+"')");for(var se=0;se<ke.length;se++){var D=ke[se];-1===mt.indexOf(D)&&xe.push(D)}}mt.splice.apply(mt,xe),Ve--}}var Ze=Object.create(null);for(Fe=0;Fe<ge.length;Fe++){var Be;Ze[Be=ge[Fe]]=me(Me[Be],!0)}for(Fe=0;Fe<ge.length;Fe++){var Ye=ge[Fe],Mt=Ze[Ye],sn=Mt.groups;for(Ve=0;Ve<sn.length;Ve++)z(sn[Ve],Ye,Ze);var sr=Object.getOwnPropertyNames(Mt.fast);for(Ve=0;Ve<sr.length;Ve++)z(Mt.fast[sr[Ve]],Ye,Ze)}return new W(Ze,X)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function L(V){for(var X=Object.create(null),ee=Object.create(null),ge=Object.getOwnPropertyNames(V),Me=0;Me<ge.length;Me++){var Fe=ge[Me],Be=V[Fe];(Array.isArray(Be)?Be:[Be]).forEach(function(ke){if((ee[ke.length]=ee[ke.length]||[]).push(ke),"string"!=typeof ke)throw new Error("keyword must be string (in keyword '"+Fe+"')");X[ke]=Fe})}function Le(ke){return JSON.stringify(ke)}var Ve="";for(var ce in Ve+="switch (value.length) {\n",ee)Ve+="case "+ce+":\n",Ve+="switch (value) {\n",ee[ce].forEach(function(ke){var se=X[ke];Ve+="case "+Le(ke)+": return "+Le(se)+"\n"}),Ve+="}\n";return Ve+="}\n",Function("value",Ve)}}})?ue.apply(w,[]):ue)&&(tt.exports=we)},7410:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var ye=ue(3268),we=ue(1e3);function de(A){const B=A.map($);return(G,...me)=>P(B,Te=>Te(G,...me))}function $(A){switch(A.type){case"terminal":{const B=[A.valueContainer];return(G,...me)=>B}case"tagName":return function S(A){const B={};for(const G of A.variants)B[G.value]=de(G.cont);return(G,...me)=>{const Te=B[G.name];return Te?Te(G,...me):[]}}(A);case"attrValue":return function O(A){const B=[];for(const me of A.matchers){const Te=me.predicate,z=de(me.cont);B.push((oe,L,...W)=>Te(oe)?z(L,...W):[])}const G=A.name;return(me,...Te)=>{const z=me.attribs[G];return z||""===z?P(B,oe=>oe(z,me,...Te)):[]}}(A);case"attrPresence":return function I(A){const B=A.name,G=de(A.cont);return(me,...Te)=>Object.prototype.hasOwnProperty.call(me.attribs,B)?G(me,...Te):[]}(A);case"pushElement":return function M(A){const B=de(A.cont),G="+"===A.combinator?k:U;return(me,...Te)=>{const z=G(me);return null===z?[]:B(z,me,...Te)}}(A);case"popElement":return function x(A){const B=de(A.cont);return(G,me,...Te)=>B(me,...Te)}(A)}}const k=A=>{const B=A.prev;return null===B?null:ye.isTag(B)?B:k(B)},U=A=>{const B=A.parent;return B&&ye.isTag(B)?B:null};function P(A,B){return[].concat(...function N(A,B){const G=A.length,me=new Array(G);for(let Te=0;Te<G;Te++)me[Te]=B(A[Te]);return me}(A,B))}w.hp2Builder=function he(A){return new we.Picker(de(A))}},7799:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.decodeXMLStrict=w.decodeHTML5Strict=w.decodeHTML4Strict=w.decodeHTML5=w.decodeHTML4=w.decodeHTMLStrict=w.decodeHTML=w.decodeXML=w.encodeHTML5=w.encodeHTML4=w.escapeUTF8=w.escape=w.encodeNonAsciiHTML=w.encodeHTML=w.encodeXML=w.encode=w.decodeStrict=w.decode=void 0;var ye=ue(2201),we=ue(3825);w.decode=function he(O,M){return(!M||M<=0?ye.decodeXML:ye.decodeHTML)(O)},w.decodeStrict=function de(O,M){return(!M||M<=0?ye.decodeXML:ye.decodeHTMLStrict)(O)},w.encode=function $(O,M){return(!M||M<=0?we.encodeXML:we.encodeHTML)(O)};var S=ue(3825);Object.defineProperty(w,"encodeXML",{enumerable:!0,get:function(){return S.encodeXML}}),Object.defineProperty(w,"encodeHTML",{enumerable:!0,get:function(){return S.encodeHTML}}),Object.defineProperty(w,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return S.encodeNonAsciiHTML}}),Object.defineProperty(w,"escape",{enumerable:!0,get:function(){return S.escape}}),Object.defineProperty(w,"escapeUTF8",{enumerable:!0,get:function(){return S.escapeUTF8}}),Object.defineProperty(w,"encodeHTML4",{enumerable:!0,get:function(){return S.encodeHTML}}),Object.defineProperty(w,"encodeHTML5",{enumerable:!0,get:function(){return S.encodeHTML}});var I=ue(2201);Object.defineProperty(w,"decodeXML",{enumerable:!0,get:function(){return I.decodeXML}}),Object.defineProperty(w,"decodeHTML",{enumerable:!0,get:function(){return I.decodeHTML}}),Object.defineProperty(w,"decodeHTMLStrict",{enumerable:!0,get:function(){return I.decodeHTMLStrict}}),Object.defineProperty(w,"decodeHTML4",{enumerable:!0,get:function(){return I.decodeHTML}}),Object.defineProperty(w,"decodeHTML5",{enumerable:!0,get:function(){return I.decodeHTML}}),Object.defineProperty(w,"decodeHTML4Strict",{enumerable:!0,get:function(){return I.decodeHTMLStrict}}),Object.defineProperty(w,"decodeHTML5Strict",{enumerable:!0,get:function(){return I.decodeHTMLStrict}}),Object.defineProperty(w,"decodeXMLStrict",{enumerable:!0,get:function(){return I.decodeXML}})},8051:(tt,w,ue)=>{const ye=ue(8813),$=["I","X","C","M"],S=["V","L","D"],U=(x,P,N)=>[...P];tt.exports={get:function M(x,P){for(const N of P){if(!x)return;x=x[N]}return x},limitedDepthRecursive:function he(x,P,N=()=>{}){if(void 0===x){const A=function(...B){return P(A,...B)};return A}return x>=0?function(...A){return P(he(x-1,P,N),...A)}:N},mergeDuplicatesPreferLast:function k(x,P){const N=new Map;for(let A=x.length;A-- >0;){const B=x[A],G=P(B);N.set(G,N.has(G)?ye(B,N.get(G),{arrayMerge:U}):B)}return[...N.values()].reverse()},numberToLetterSequence:function de(x,P="a",N=26){const A=[];do{A.push((x-=1)%N),x=x/N|0}while(x>0);const B=P.charCodeAt(0);return A.reverse().map(G=>String.fromCharCode(B+G)).join("")},numberToRoman:function I(x){return[...x+""].map(P=>+P).reverse().map((P,N)=>P%5<4?(P<5?"":S[N])+$[N].repeat(P%5):$[N]+(P<5?S[N]:$[N+1])).reverse().join("")},splitClassesAndIds:function we(x){const P=[],N=[];for(const A of x)A.startsWith(".")?P.push(A.substring(1)):A.startsWith("#")&&N.push(A.substring(1));return{classes:P,ids:N}},trimCharacter:function O(x,P){let N=0,A=x.length;for(;N<A&&x[N]===P;)++N;for(;A>N&&x[A-1]===P;)--A;return N>0||A<x.length?x.substring(N,A):x}}},8121:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(w,"__esModule",{value:!0}),w.Parser=void 0;var we=ye(ue(2521)),he=new Set(["input","option","optgroup","select","button","datalist","textarea"]),de=new Set(["p"]),$={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:de,h1:de,h2:de,h3:de,h4:de,h5:de,h6:de,select:he,input:he,output:he,button:he,datalist:he,textarea:he,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:de,article:de,aside:de,blockquote:de,details:de,div:de,dl:de,fieldset:de,figcaption:de,figure:de,footer:de,form:de,header:de,hr:de,main:de,nav:de,ol:de,pre:de,section:de,table:de,ul:de,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},S=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),I=new Set(["math","svg"]),O=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),M=/\s|\//,k=function(){function U(x,P){var N,A,B,G,me;void 0===P&&(P={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=P,this.cbs=x??{},this.lowerCaseTagNames=null!==(N=P.lowerCaseTags)&&void 0!==N?N:!P.xmlMode,this.lowerCaseAttributeNames=null!==(A=P.lowerCaseAttributeNames)&&void 0!==A?A:!P.xmlMode,this.tokenizer=new(null!==(B=P.Tokenizer)&&void 0!==B?B:we.default)(this.options,this),null===(me=(G=this.cbs).onparserinit)||void 0===me||me.call(G,this)}return U.prototype.updatePosition=function(x){this.startIndex=null===this.endIndex?this.tokenizer.sectionStart<=x?0:this.tokenizer.sectionStart-x:this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},U.prototype.ontext=function(x){var P,N;this.updatePosition(1),this.endIndex--,null===(N=(P=this.cbs).ontext)||void 0===N||N.call(P,x)},U.prototype.onopentagname=function(x){var P,N;if(this.lowerCaseTagNames&&(x=x.toLowerCase()),this.tagname=x,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call($,x))for(var A=void 0;this.stack.length>0&&$[x].has(A=this.stack[this.stack.length-1]);)this.onclosetag(A);(this.options.xmlMode||!S.has(x))&&(this.stack.push(x),I.has(x)?this.foreignContext.push(!0):O.has(x)&&this.foreignContext.push(!1)),null===(N=(P=this.cbs).onopentagname)||void 0===N||N.call(P,x),this.cbs.onopentag&&(this.attribs={})},U.prototype.onopentagend=function(){var x,P;this.updatePosition(1),this.attribs&&(null===(P=(x=this.cbs).onopentag)||void 0===P||P.call(x,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&S.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},U.prototype.onclosetag=function(x){if(this.updatePosition(1),this.lowerCaseTagNames&&(x=x.toLowerCase()),(I.has(x)||O.has(x))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&S.has(x))!this.options.xmlMode&&("br"===x||"p"===x)&&(this.onopentagname(x),this.closeCurrentTag());else{var P=this.stack.lastIndexOf(x);if(-1!==P)if(this.cbs.onclosetag)for(P=this.stack.length-P;P--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=P;else"p"===x&&!this.options.xmlMode&&(this.onopentagname(x),this.closeCurrentTag())}},U.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},U.prototype.closeCurrentTag=function(){var x,P,N=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===N&&(null===(P=(x=this.cbs).onclosetag)||void 0===P||P.call(x,N),this.stack.pop())},U.prototype.onattribname=function(x){this.lowerCaseAttributeNames&&(x=x.toLowerCase()),this.attribname=x},U.prototype.onattribdata=function(x){this.attribvalue+=x},U.prototype.onattribend=function(x){var P,N;null===(N=(P=this.cbs).onattribute)||void 0===N||N.call(P,this.attribname,this.attribvalue,x),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},U.prototype.getInstructionName=function(x){var P=x.search(M),N=P<0?x:x.substr(0,P);return this.lowerCaseTagNames&&(N=N.toLowerCase()),N},U.prototype.ondeclaration=function(x){if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(x);this.cbs.onprocessinginstruction("!"+P,"!"+x)}},U.prototype.onprocessinginstruction=function(x){if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(x);this.cbs.onprocessinginstruction("?"+P,"?"+x)}},U.prototype.oncomment=function(x){var P,N,A,B;this.updatePosition(4),null===(N=(P=this.cbs).oncomment)||void 0===N||N.call(P,x),null===(B=(A=this.cbs).oncommentend)||void 0===B||B.call(A)},U.prototype.oncdata=function(x){var P,N,A,B,G,me;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(N=(P=this.cbs).oncdatastart)||void 0===N||N.call(P),null===(B=(A=this.cbs).ontext)||void 0===B||B.call(A,x),null===(me=(G=this.cbs).oncdataend)||void 0===me||me.call(G)):this.oncomment("[CDATA["+x+"]]")},U.prototype.onerror=function(x){var P,N;null===(N=(P=this.cbs).onerror)||void 0===N||N.call(P,x)},U.prototype.onend=function(){var x,P;if(this.cbs.onclosetag)for(var N=this.stack.length;N>0;this.cbs.onclosetag(this.stack[--N]));null===(P=(x=this.cbs).onend)||void 0===P||P.call(x)},U.prototype.reset=function(){var x,P,N,A;null===(P=(x=this.cbs).onreset)||void 0===P||P.call(x),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(A=(N=this.cbs).onparserinit)||void 0===A||A.call(N,this)},U.prototype.parseComplete=function(x){this.reset(),this.end(x)},U.prototype.write=function(x){this.tokenizer.write(x)},U.prototype.end=function(x){this.tokenizer.end(x)},U.prototype.pause=function(){this.tokenizer.pause()},U.prototype.resume=function(){this.tokenizer.resume()},U.prototype.parseChunk=function(x){this.write(x)},U.prototype.done=function(x){this.end(x)},U}();w.Parser=k},8330:tt=>{"use strict";tt.exports=JSON.parse('{"rE":"4.0.10","$y":"2026-02-16T16:07:43.496Z"}')},8616:function(tt,w,ue){"use strict";var ye=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(w,"__esModule",{value:!0}),w.innerText=w.textContent=w.getText=w.getInnerHTML=w.getOuterHTML=void 0;var we=ue(3268),he=ye(ue(4715)),de=ue(2704);function $(k,U){return(0,he.default)(k,U)}w.getOuterHTML=$,w.getInnerHTML=function S(k,U){return(0,we.hasChildren)(k)?k.children.map(function(x){return $(x,U)}).join(""):""},w.getText=function I(k){return Array.isArray(k)?k.map(I).join(""):(0,we.isTag)(k)?"br"===k.name?"\n":I(k.children):(0,we.isCDATA)(k)?I(k.children):(0,we.isText)(k)?k.data:""},w.textContent=function O(k){return Array.isArray(k)?k.map(O).join(""):(0,we.hasChildren)(k)&&!(0,we.isComment)(k)?O(k.children):(0,we.isText)(k)?k.data:""},w.innerText=function M(k){return Array.isArray(k)?k.map(M).join(""):(0,we.hasChildren)(k)&&(k.type===de.ElementType.Tag||(0,we.isCDATA)(k))?M(k.children):(0,we.isText)(k)?k.data:""}},8668:(tt,w)=>{"use strict";function ue(S){if(S.prev&&(S.prev.next=S.next),S.next&&(S.next.prev=S.prev),S.parent){var I=S.parent.children;I.splice(I.lastIndexOf(S),1)}}Object.defineProperty(w,"__esModule",{value:!0}),w.prepend=w.prependChild=w.append=w.appendChild=w.replaceElement=w.removeElement=void 0,w.removeElement=ue,w.replaceElement=function ye(S,I){var O=I.prev=S.prev;O&&(O.next=I);var M=I.next=S.next;M&&(M.prev=I);var k=I.parent=S.parent;if(k){var U=k.children;U[U.lastIndexOf(S)]=I}},w.appendChild=function we(S,I){if(ue(I),I.next=null,I.parent=S,S.children.push(I)>1){var O=S.children[S.children.length-2];O.next=I,I.prev=O}else I.prev=null},w.append=function he(S,I){ue(I);var O=S.parent,M=S.next;if(I.next=M,I.prev=S,S.next=I,I.parent=O,M){if(M.prev=I,O){var k=O.children;k.splice(k.lastIndexOf(M),0,I)}}else O&&O.children.push(I)},w.prependChild=function de(S,I){if(ue(I),I.parent=S,I.prev=null,1!==S.children.unshift(I)){var O=S.children[1];O.prev=I,I.next=O}else I.next=null},w.prepend=function $(S,I){ue(I);var O=S.parent;if(O){var M=O.children;M.splice(M.indexOf(S),0,I)}S.prev&&(S.prev.next=I),I.parent=O,I.prev=S.prev,I.next=S,S.prev=I}},8700:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.uniqueSort=w.compareDocumentPosition=w.removeSubsets=void 0;var ye=ue(3268);function he($,S){var I=[],O=[];if($===S)return 0;for(var M=(0,ye.hasChildren)($)?$:$.parent;M;)I.unshift(M),M=M.parent;for(M=(0,ye.hasChildren)(S)?S:S.parent;M;)O.unshift(M),M=M.parent;for(var k=Math.min(I.length,O.length),U=0;U<k&&I[U]===O[U];)U++;if(0===U)return 1;var x=I[U-1],P=x.children,A=O[U];return P.indexOf(I[U])>P.indexOf(A)?x===S?20:4:x===$?10:2}w.removeSubsets=function we($){for(var S=$.length;--S>=0;){var I=$[S];if(S>0&&$.lastIndexOf(I,S-1)>=0)$.splice(S,1);else for(var O=I.parent;O;O=O.parent)if($.includes(O)){$.splice(S,1);break}}return $},w.compareDocumentPosition=he,w.uniqueSort=function de($){return($=$.filter(function(S,I,O){return!O.includes(S,I+1)})).sort(function(S,I){var O=he(S,I);return 2&O?-1:4&O?1:0}),$}},8734:(tt,w,ue)=>{ue(3679),tt.exports={InlineTextBuilder:class ye{constructor(he,de=void 0){this.lines=[],this.nextLineWords=[],this.maxLineLength=de||he.wordwrap||Number.MAX_VALUE,this.nextLineAvailableChars=this.maxLineLength,this.wrapCharacters=he.longWordSplit.wrapCharacters||[],this.forceWrapOnLimit=he.longWordSplit.forceWrapOnLimit||!1,this.stashedSpace=!1,this.wordBreakOpportunity=!1}pushWord(he){this.nextLineAvailableChars<=0&&this.startNewLine();const de=0===this.nextLineWords.length,$=he.length+(de?0:1);if($<=this.nextLineAvailableChars)this.nextLineWords.push(he),this.nextLineAvailableChars-=$;else{const[S,...I]=this.splitLongWord(he);de||this.startNewLine(),this.nextLineWords.push(S),this.nextLineAvailableChars-=S.length;for(const O of I)this.startNewLine(),this.nextLineWords.push(O),this.nextLineAvailableChars-=O.length}}popWord(){const he=this.nextLineWords.pop();return void 0!==he&&(this.nextLineAvailableChars+=he.length+(0===this.nextLineWords.length?0:1)),he}concatWord(he){if(this.wordBreakOpportunity&&he.length>this.nextLineAvailableChars)this.pushWord(he),this.wordBreakOpportunity=!1;else{const de=this.popWord();this.pushWord(de?de.concat(he):he)}}startNewLine(he=1){this.lines.push(this.nextLineWords),he>1&&this.lines.push(...Array.from({length:he-1},()=>[])),this.nextLineWords=[],this.nextLineAvailableChars=this.maxLineLength}isEmpty(){return 0===this.lines.length&&0===this.nextLineWords.length}clear(){this.lines.length=0,this.nextLineWords.length=0,this.nextLineAvailableChars=this.maxLineLength}toString(){return[...this.lines,this.nextLineWords].map(he=>he.join(" ")).join("\n")}splitLongWord(he){const de=[];let $=0;for(;he.length>this.maxLineLength;){const S=he.substring(0,this.maxLineLength),I=he.substring(this.maxLineLength),O=S.lastIndexOf(this.wrapCharacters[$]);if(O>-1)he=S.substring(O+1)+I,de.push(S.substring(0,O+1));else{if($++,!($<this.wrapCharacters.length)){if(this.forceWrapOnLimit){if(de.push(S),(he=I).length>this.maxLineLength)continue}else he=S+I;break}he=S+I}}return de.push(he),de}}}},8772:function(tt,w,ue){var ye;tt=ue.nmd(tt),function(){"object"==typeof global&&global;var S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I=/[\x01-\x7F]/g,O=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,M=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,k={"\xad":"shy","\u200c":"zwnj","\u200d":"zwj","\u200e":"lrm","\u2063":"ic","\u2062":"it","\u2061":"af","\u200f":"rlm","\u200b":"ZeroWidthSpace","\u2060":"NoBreak","\u0311":"DownBreve","\u20db":"tdot","\u20dc":"DotDot","\t":"Tab","\n":"NewLine","\u2008":"puncsp","\u205f":"MediumSpace","\u2009":"thinsp","\u200a":"hairsp","\u2004":"emsp13","\u2002":"ensp","\u2005":"emsp14","\u2003":"emsp","\u2007":"numsp","\xa0":"nbsp","\u205f\u200a":"ThickSpace","\u203e":"oline",_:"lowbar","\u2010":"dash","\u2013":"ndash","\u2014":"mdash","\u2015":"horbar",",":"comma",";":"semi","\u204f":"bsemi",":":"colon","\u2a74":"Colone","!":"excl","\xa1":"iexcl","?":"quest","\xbf":"iquest",".":"period","\u2025":"nldr","\u2026":"mldr","\xb7":"middot","'":"apos","\u2018":"lsquo","\u2019":"rsquo","\u201a":"sbquo","\u2039":"lsaquo","\u203a":"rsaquo",'"':"quot","\u201c":"ldquo","\u201d":"rdquo","\u201e":"bdquo","\xab":"laquo","\xbb":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","\u2308":"lceil","\u2309":"rceil","\u230a":"lfloor","\u230b":"rfloor","\u2985":"lopar","\u2986":"ropar","\u298b":"lbrke","\u298c":"rbrke","\u298d":"lbrkslu","\u298e":"rbrksld","\u298f":"lbrksld","\u2990":"rbrkslu","\u2991":"langd","\u2992":"rangd","\u2993":"lparlt","\u2994":"rpargt","\u2995":"gtlPar","\u2996":"ltrPar","\u27e6":"lobrk","\u27e7":"robrk","\u27e8":"lang","\u27e9":"rang","\u27ea":"Lang","\u27eb":"Rang","\u27ec":"loang","\u27ed":"roang","\u2772":"lbbrk","\u2773":"rbbrk","\u2016":"Vert","\xa7":"sect","\xb6":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","\u2030":"permil","\u2031":"pertenk","\u2020":"dagger","\u2021":"Dagger","\u2022":"bull","\u2043":"hybull","\u2032":"prime","\u2033":"Prime","\u2034":"tprime","\u2057":"qprime","\u2035":"bprime","\u2041":"caret","`":"grave","\xb4":"acute","\u02dc":"tilde","^":"Hat","\xaf":"macr","\u02d8":"breve","\u02d9":"dot","\xa8":"die","\u02da":"ring","\u02dd":"dblac","\xb8":"cedil","\u02db":"ogon",\u02c6:"circ",\u02c7:"caron","\xb0":"deg","\xa9":"copy","\xae":"reg","\u2117":"copysr",\u2118:"wp","\u211e":"rx","\u2127":"mho","\u2129":"iiota","\u2190":"larr","\u219a":"nlarr","\u2192":"rarr","\u219b":"nrarr","\u2191":"uarr","\u2193":"darr","\u2194":"harr","\u21ae":"nharr","\u2195":"varr","\u2196":"nwarr","\u2197":"nearr","\u2198":"searr","\u2199":"swarr","\u219d":"rarrw","\u219d\u0338":"nrarrw","\u219e":"Larr","\u219f":"Uarr","\u21a0":"Rarr","\u21a1":"Darr","\u21a2":"larrtl","\u21a3":"rarrtl","\u21a4":"mapstoleft","\u21a5":"mapstoup","\u21a6":"map","\u21a7":"mapstodown","\u21a9":"larrhk","\u21aa":"rarrhk","\u21ab":"larrlp","\u21ac":"rarrlp","\u21ad":"harrw","\u21b0":"lsh","\u21b1":"rsh","\u21b2":"ldsh","\u21b3":"rdsh","\u21b5":"crarr","\u21b6":"cularr","\u21b7":"curarr","\u21ba":"olarr","\u21bb":"orarr","\u21bc":"lharu","\u21bd":"lhard","\u21be":"uharr","\u21bf":"uharl","\u21c0":"rharu","\u21c1":"rhard","\u21c2":"dharr","\u21c3":"dharl","\u21c4":"rlarr","\u21c5":"udarr","\u21c6":"lrarr","\u21c7":"llarr","\u21c8":"uuarr","\u21c9":"rrarr","\u21ca":"ddarr","\u21cb":"lrhar","\u21cc":"rlhar","\u21d0":"lArr","\u21cd":"nlArr","\u21d1":"uArr","\u21d2":"rArr","\u21cf":"nrArr","\u21d3":"dArr","\u21d4":"iff","\u21ce":"nhArr","\u21d5":"vArr","\u21d6":"nwArr","\u21d7":"neArr","\u21d8":"seArr","\u21d9":"swArr","\u21da":"lAarr","\u21db":"rAarr","\u21dd":"zigrarr","\u21e4":"larrb","\u21e5":"rarrb","\u21f5":"duarr","\u21fd":"loarr","\u21fe":"roarr","\u21ff":"hoarr","\u2200":"forall","\u2201":"comp","\u2202":"part","\u2202\u0338":"npart","\u2203":"exist","\u2204":"nexist","\u2205":"empty","\u2207":"Del","\u2208":"in","\u2209":"notin","\u220b":"ni","\u220c":"notni","\u03f6":"bepsi","\u220f":"prod","\u2210":"coprod","\u2211":"sum","+":"plus","\xb1":"pm","\xf7":"div","\xd7":"times","<":"lt","\u226e":"nlt","<\u20d2":"nvlt","=":"equals","\u2260":"ne","=\u20e5":"bne","\u2a75":"Equal",">":"gt","\u226f":"ngt",">\u20d2":"nvgt","\xac":"not","|":"vert","\xa6":"brvbar","\u2212":"minus","\u2213":"mp","\u2214":"plusdo","\u2044":"frasl","\u2216":"setmn","\u2217":"lowast","\u2218":"compfn","\u221a":"Sqrt","\u221d":"prop","\u221e":"infin","\u221f":"angrt","\u2220":"ang","\u2220\u20d2":"nang","\u2221":"angmsd","\u2222":"angsph","\u2223":"mid","\u2224":"nmid","\u2225":"par","\u2226":"npar","\u2227":"and","\u2228":"or","\u2229":"cap","\u2229\ufe00":"caps","\u222a":"cup","\u222a\ufe00":"cups","\u222b":"int","\u222c":"Int","\u222d":"tint","\u2a0c":"qint","\u222e":"oint","\u222f":"Conint","\u2230":"Cconint","\u2231":"cwint","\u2232":"cwconint","\u2233":"awconint","\u2234":"there4","\u2235":"becaus","\u2236":"ratio","\u2237":"Colon","\u2238":"minusd","\u223a":"mDDot","\u223b":"homtht","\u223c":"sim","\u2241":"nsim","\u223c\u20d2":"nvsim","\u223d":"bsim","\u223d\u0331":"race","\u223e":"ac","\u223e\u0333":"acE","\u223f":"acd","\u2240":"wr","\u2242":"esim","\u2242\u0338":"nesim","\u2243":"sime","\u2244":"nsime","\u2245":"cong","\u2247":"ncong","\u2246":"simne","\u2248":"ap","\u2249":"nap","\u224a":"ape","\u224b":"apid","\u224b\u0338":"napid","\u224c":"bcong","\u224d":"CupCap","\u226d":"NotCupCap","\u224d\u20d2":"nvap","\u224e":"bump","\u224e\u0338":"nbump","\u224f":"bumpe","\u224f\u0338":"nbumpe","\u2250":"doteq","\u2250\u0338":"nedot","\u2251":"eDot","\u2252":"efDot","\u2253":"erDot","\u2254":"colone","\u2255":"ecolon","\u2256":"ecir","\u2257":"cire","\u2259":"wedgeq","\u225a":"veeeq","\u225c":"trie","\u225f":"equest","\u2261":"equiv","\u2262":"nequiv","\u2261\u20e5":"bnequiv","\u2264":"le","\u2270":"nle","\u2264\u20d2":"nvle","\u2265":"ge","\u2271":"nge","\u2265\u20d2":"nvge","\u2266":"lE","\u2266\u0338":"nlE","\u2267":"gE","\u2267\u0338":"ngE","\u2268\ufe00":"lvnE","\u2268":"lnE","\u2269":"gnE","\u2269\ufe00":"gvnE","\u226a":"ll","\u226a\u0338":"nLtv","\u226a\u20d2":"nLt","\u226b":"gg","\u226b\u0338":"nGtv","\u226b\u20d2":"nGt","\u226c":"twixt","\u2272":"lsim","\u2274":"nlsim","\u2273":"gsim","\u2275":"ngsim","\u2276":"lg","\u2278":"ntlg","\u2277":"gl","\u2279":"ntgl","\u227a":"pr","\u2280":"npr","\u227b":"sc","\u2281":"nsc","\u227c":"prcue","\u22e0":"nprcue","\u227d":"sccue","\u22e1":"nsccue","\u227e":"prsim","\u227f":"scsim","\u227f\u0338":"NotSucceedsTilde","\u2282":"sub","\u2284":"nsub","\u2282\u20d2":"vnsub","\u2283":"sup","\u2285":"nsup","\u2283\u20d2":"vnsup","\u2286":"sube","\u2288":"nsube","\u2287":"supe","\u2289":"nsupe","\u228a\ufe00":"vsubne","\u228a":"subne","\u228b\ufe00":"vsupne","\u228b":"supne","\u228d":"cupdot","\u228e":"uplus","\u228f":"sqsub","\u228f\u0338":"NotSquareSubset","\u2290":"sqsup","\u2290\u0338":"NotSquareSuperset","\u2291":"sqsube","\u22e2":"nsqsube","\u2292":"sqsupe","\u22e3":"nsqsupe","\u2293":"sqcap","\u2293\ufe00":"sqcaps","\u2294":"sqcup","\u2294\ufe00":"sqcups","\u2295":"oplus","\u2296":"ominus","\u2297":"otimes","\u2298":"osol","\u2299":"odot","\u229a":"ocir","\u229b":"oast","\u229d":"odash","\u229e":"plusb","\u229f":"minusb","\u22a0":"timesb","\u22a1":"sdotb","\u22a2":"vdash","\u22ac":"nvdash","\u22a3":"dashv","\u22a4":"top","\u22a5":"bot","\u22a7":"models","\u22a8":"vDash","\u22ad":"nvDash","\u22a9":"Vdash","\u22ae":"nVdash","\u22aa":"Vvdash","\u22ab":"VDash","\u22af":"nVDash","\u22b0":"prurel","\u22b2":"vltri","\u22ea":"nltri","\u22b3":"vrtri","\u22eb":"nrtri","\u22b4":"ltrie","\u22ec":"nltrie","\u22b4\u20d2":"nvltrie","\u22b5":"rtrie","\u22ed":"nrtrie","\u22b5\u20d2":"nvrtrie","\u22b6":"origof","\u22b7":"imof","\u22b8":"mumap","\u22b9":"hercon","\u22ba":"intcal","\u22bb":"veebar","\u22bd":"barvee","\u22be":"angrtvb","\u22bf":"lrtri","\u22c0":"Wedge","\u22c1":"Vee","\u22c2":"xcap","\u22c3":"xcup","\u22c4":"diam","\u22c5":"sdot","\u22c6":"Star","\u22c7":"divonx","\u22c8":"bowtie","\u22c9":"ltimes","\u22ca":"rtimes","\u22cb":"lthree","\u22cc":"rthree","\u22cd":"bsime","\u22ce":"cuvee","\u22cf":"cuwed","\u22d0":"Sub","\u22d1":"Sup","\u22d2":"Cap","\u22d3":"Cup","\u22d4":"fork","\u22d5":"epar","\u22d6":"ltdot","\u22d7":"gtdot","\u22d8":"Ll","\u22d8\u0338":"nLl","\u22d9":"Gg","\u22d9\u0338":"nGg","\u22da\ufe00":"lesg","\u22da":"leg","\u22db":"gel","\u22db\ufe00":"gesl","\u22de":"cuepr","\u22df":"cuesc","\u22e6":"lnsim","\u22e7":"gnsim","\u22e8":"prnsim","\u22e9":"scnsim","\u22ee":"vellip","\u22ef":"ctdot","\u22f0":"utdot","\u22f1":"dtdot","\u22f2":"disin","\u22f3":"isinsv","\u22f4":"isins","\u22f5":"isindot","\u22f5\u0338":"notindot","\u22f6":"notinvc","\u22f7":"notinvb","\u22f9":"isinE","\u22f9\u0338":"notinE","\u22fa":"nisd","\u22fb":"xnis","\u22fc":"nis","\u22fd":"notnivc","\u22fe":"notnivb","\u2305":"barwed","\u2306":"Barwed","\u230c":"drcrop","\u230d":"dlcrop","\u230e":"urcrop","\u230f":"ulcrop","\u2310":"bnot","\u2312":"profline","\u2313":"profsurf","\u2315":"telrec","\u2316":"target","\u231c":"ulcorn","\u231d":"urcorn","\u231e":"dlcorn","\u231f":"drcorn","\u2322":"frown","\u2323":"smile","\u232d":"cylcty","\u232e":"profalar","\u2336":"topbot","\u233d":"ovbar","\u233f":"solbar","\u237c":"angzarr","\u23b0":"lmoust","\u23b1":"rmoust","\u23b4":"tbrk","\u23b5":"bbrk","\u23b6":"bbrktbrk","\u23dc":"OverParenthesis","\u23dd":"UnderParenthesis","\u23de":"OverBrace","\u23df":"UnderBrace","\u23e2":"trpezium","\u23e7":"elinters","\u2423":"blank","\u2500":"boxh","\u2502":"boxv","\u250c":"boxdr","\u2510":"boxdl","\u2514":"boxur","\u2518":"boxul","\u251c":"boxvr","\u2524":"boxvl","\u252c":"boxhd","\u2534":"boxhu","\u253c":"boxvh","\u2550":"boxH","\u2551":"boxV","\u2552":"boxdR","\u2553":"boxDr","\u2554":"boxDR","\u2555":"boxdL","\u2556":"boxDl","\u2557":"boxDL","\u2558":"boxuR","\u2559":"boxUr","\u255a":"boxUR","\u255b":"boxuL","\u255c":"boxUl","\u255d":"boxUL","\u255e":"boxvR","\u255f":"boxVr","\u2560":"boxVR","\u2561":"boxvL","\u2562":"boxVl","\u2563":"boxVL","\u2564":"boxHd","\u2565":"boxhD","\u2566":"boxHD","\u2567":"boxHu","\u2568":"boxhU","\u2569":"boxHU","\u256a":"boxvH","\u256b":"boxVh","\u256c":"boxVH","\u2580":"uhblk","\u2584":"lhblk","\u2588":"block","\u2591":"blk14","\u2592":"blk12","\u2593":"blk34","\u25a1":"squ","\u25aa":"squf","\u25ab":"EmptyVerySmallSquare","\u25ad":"rect","\u25ae":"marker","\u25b1":"fltns","\u25b3":"xutri","\u25b4":"utrif","\u25b5":"utri","\u25b8":"rtrif","\u25b9":"rtri","\u25bd":"xdtri","\u25be":"dtrif","\u25bf":"dtri","\u25c2":"ltrif","\u25c3":"ltri","\u25ca":"loz","\u25cb":"cir","\u25ec":"tridot","\u25ef":"xcirc","\u25f8":"ultri","\u25f9":"urtri","\u25fa":"lltri","\u25fb":"EmptySmallSquare","\u25fc":"FilledSmallSquare","\u2605":"starf","\u2606":"star","\u260e":"phone","\u2640":"female","\u2642":"male","\u2660":"spades","\u2663":"clubs","\u2665":"hearts","\u2666":"diams","\u266a":"sung","\u2713":"check","\u2717":"cross","\u2720":"malt","\u2736":"sext","\u2758":"VerticalSeparator","\u27c8":"bsolhsub","\u27c9":"suphsol","\u27f5":"xlarr","\u27f6":"xrarr","\u27f7":"xharr","\u27f8":"xlArr","\u27f9":"xrArr","\u27fa":"xhArr","\u27fc":"xmap","\u27ff":"dzigrarr","\u2902":"nvlArr","\u2903":"nvrArr","\u2904":"nvHarr","\u2905":"Map","\u290c":"lbarr","\u290d":"rbarr","\u290e":"lBarr","\u290f":"rBarr","\u2910":"RBarr","\u2911":"DDotrahd","\u2912":"UpArrowBar","\u2913":"DownArrowBar","\u2916":"Rarrtl","\u2919":"latail","\u291a":"ratail","\u291b":"lAtail","\u291c":"rAtail","\u291d":"larrfs","\u291e":"rarrfs","\u291f":"larrbfs","\u2920":"rarrbfs","\u2923":"nwarhk","\u2924":"nearhk","\u2925":"searhk","\u2926":"swarhk","\u2927":"nwnear","\u2928":"toea","\u2929":"tosa","\u292a":"swnwar","\u2933":"rarrc","\u2933\u0338":"nrarrc","\u2935":"cudarrr","\u2936":"ldca","\u2937":"rdca","\u2938":"cudarrl","\u2939":"larrpl","\u293c":"curarrm","\u293d":"cularrp","\u2945":"rarrpl","\u2948":"harrcir","\u2949":"Uarrocir","\u294a":"lurdshar","\u294b":"ldrushar","\u294e":"LeftRightVector","\u294f":"RightUpDownVector","\u2950":"DownLeftRightVector","\u2951":"LeftUpDownVector","\u2952":"LeftVectorBar","\u2953":"RightVectorBar","\u2954":"RightUpVectorBar","\u2955":"RightDownVectorBar","\u2956":"DownLeftVectorBar","\u2957":"DownRightVectorBar","\u2958":"LeftUpVectorBar","\u2959":"LeftDownVectorBar","\u295a":"LeftTeeVector","\u295b":"RightTeeVector","\u295c":"RightUpTeeVector","\u295d":"RightDownTeeVector","\u295e":"DownLeftTeeVector","\u295f":"DownRightTeeVector","\u2960":"LeftUpTeeVector","\u2961":"LeftDownTeeVector","\u2962":"lHar","\u2963":"uHar","\u2964":"rHar","\u2965":"dHar","\u2966":"luruhar","\u2967":"ldrdhar","\u2968":"ruluhar","\u2969":"rdldhar","\u296a":"lharul","\u296b":"llhard","\u296c":"rharul","\u296d":"lrhard","\u296e":"udhar","\u296f":"duhar","\u2970":"RoundImplies","\u2971":"erarr","\u2972":"simrarr","\u2973":"larrsim","\u2974":"rarrsim","\u2975":"rarrap","\u2976":"ltlarr","\u2978":"gtrarr","\u2979":"subrarr","\u297b":"suplarr","\u297c":"lfisht","\u297d":"rfisht","\u297e":"ufisht","\u297f":"dfisht","\u299a":"vzigzag","\u299c":"vangrt","\u299d":"angrtvbd","\u29a4":"ange","\u29a5":"range","\u29a6":"dwangle","\u29a7":"uwangle","\u29a8":"angmsdaa","\u29a9":"angmsdab","\u29aa":"angmsdac","\u29ab":"angmsdad","\u29ac":"angmsdae","\u29ad":"angmsdaf","\u29ae":"angmsdag","\u29af":"angmsdah","\u29b0":"bemptyv","\u29b1":"demptyv","\u29b2":"cemptyv","\u29b3":"raemptyv","\u29b4":"laemptyv","\u29b5":"ohbar","\u29b6":"omid","\u29b7":"opar","\u29b9":"operp","\u29bb":"olcross","\u29bc":"odsold","\u29be":"olcir","\u29bf":"ofcir","\u29c0":"olt","\u29c1":"ogt","\u29c2":"cirscir","\u29c3":"cirE","\u29c4":"solb","\u29c5":"bsolb","\u29c9":"boxbox","\u29cd":"trisb","\u29ce":"rtriltri","\u29cf":"LeftTriangleBar","\u29cf\u0338":"NotLeftTriangleBar","\u29d0":"RightTriangleBar","\u29d0\u0338":"NotRightTriangleBar","\u29dc":"iinfin","\u29dd":"infintie","\u29de":"nvinfin","\u29e3":"eparsl","\u29e4":"smeparsl","\u29e5":"eqvparsl","\u29eb":"lozf","\u29f4":"RuleDelayed","\u29f6":"dsol","\u2a00":"xodot","\u2a01":"xoplus","\u2a02":"xotime","\u2a04":"xuplus","\u2a06":"xsqcup","\u2a0d":"fpartint","\u2a10":"cirfnint","\u2a11":"awint","\u2a12":"rppolint","\u2a13":"scpolint","\u2a14":"npolint","\u2a15":"pointint","\u2a16":"quatint","\u2a17":"intlarhk","\u2a22":"pluscir","\u2a23":"plusacir","\u2a24":"simplus","\u2a25":"plusdu","\u2a26":"plussim","\u2a27":"plustwo","\u2a29":"mcomma","\u2a2a":"minusdu","\u2a2d":"loplus","\u2a2e":"roplus","\u2a2f":"Cross","\u2a30":"timesd","\u2a31":"timesbar","\u2a33":"smashp","\u2a34":"lotimes","\u2a35":"rotimes","\u2a36":"otimesas","\u2a37":"Otimes","\u2a38":"odiv","\u2a39":"triplus","\u2a3a":"triminus","\u2a3b":"tritime","\u2a3c":"iprod","\u2a3f":"amalg","\u2a40":"capdot","\u2a42":"ncup","\u2a43":"ncap","\u2a44":"capand","\u2a45":"cupor","\u2a46":"cupcap","\u2a47":"capcup","\u2a48":"cupbrcap","\u2a49":"capbrcup","\u2a4a":"cupcup","\u2a4b":"capcap","\u2a4c":"ccups","\u2a4d":"ccaps","\u2a50":"ccupssm","\u2a53":"And","\u2a54":"Or","\u2a55":"andand","\u2a56":"oror","\u2a57":"orslope","\u2a58":"andslope","\u2a5a":"andv","\u2a5b":"orv","\u2a5c":"andd","\u2a5d":"ord","\u2a5f":"wedbar","\u2a66":"sdote","\u2a6a":"simdot","\u2a6d":"congdot","\u2a6d\u0338":"ncongdot","\u2a6e":"easter","\u2a6f":"apacir","\u2a70":"apE","\u2a70\u0338":"napE","\u2a71":"eplus","\u2a72":"pluse","\u2a73":"Esim","\u2a77":"eDDot","\u2a78":"equivDD","\u2a79":"ltcir","\u2a7a":"gtcir","\u2a7b":"ltquest","\u2a7c":"gtquest","\u2a7d":"les","\u2a7d\u0338":"nles","\u2a7e":"ges","\u2a7e\u0338":"nges","\u2a7f":"lesdot","\u2a80":"gesdot","\u2a81":"lesdoto","\u2a82":"gesdoto","\u2a83":"lesdotor","\u2a84":"gesdotol","\u2a85":"lap","\u2a86":"gap","\u2a87":"lne","\u2a88":"gne","\u2a89":"lnap","\u2a8a":"gnap","\u2a8b":"lEg","\u2a8c":"gEl","\u2a8d":"lsime","\u2a8e":"gsime","\u2a8f":"lsimg","\u2a90":"gsiml","\u2a91":"lgE","\u2a92":"glE","\u2a93":"lesges","\u2a94":"gesles","\u2a95":"els","\u2a96":"egs","\u2a97":"elsdot","\u2a98":"egsdot","\u2a99":"el","\u2a9a":"eg","\u2a9d":"siml","\u2a9e":"simg","\u2a9f":"simlE","\u2aa0":"simgE","\u2aa1":"LessLess","\u2aa1\u0338":"NotNestedLessLess","\u2aa2":"GreaterGreater","\u2aa2\u0338":"NotNestedGreaterGreater","\u2aa4":"glj","\u2aa5":"gla","\u2aa6":"ltcc","\u2aa7":"gtcc","\u2aa8":"lescc","\u2aa9":"gescc","\u2aaa":"smt","\u2aab":"lat","\u2aac":"smte","\u2aac\ufe00":"smtes","\u2aad":"late","\u2aad\ufe00":"lates","\u2aae":"bumpE","\u2aaf":"pre","\u2aaf\u0338":"npre","\u2ab0":"sce","\u2ab0\u0338":"nsce","\u2ab3":"prE","\u2ab4":"scE","\u2ab5":"prnE","\u2ab6":"scnE","\u2ab7":"prap","\u2ab8":"scap","\u2ab9":"prnap","\u2aba":"scnap","\u2abb":"Pr","\u2abc":"Sc","\u2abd":"subdot","\u2abe":"supdot","\u2abf":"subplus","\u2ac0":"supplus","\u2ac1":"submult","\u2ac2":"supmult","\u2ac3":"subedot","\u2ac4":"supedot","\u2ac5":"subE","\u2ac5\u0338":"nsubE","\u2ac6":"supE","\u2ac6\u0338":"nsupE","\u2ac7":"subsim","\u2ac8":"supsim","\u2acb\ufe00":"vsubnE","\u2acb":"subnE","\u2acc\ufe00":"vsupnE","\u2acc":"supnE","\u2acf":"csub","\u2ad0":"csup","\u2ad1":"csube","\u2ad2":"csupe","\u2ad3":"subsup","\u2ad4":"supsub","\u2ad5":"subsub","\u2ad6":"supsup","\u2ad7":"suphsub","\u2ad8":"supdsub","\u2ad9":"forkv","\u2ada":"topfork","\u2adb":"mlcp","\u2ae4":"Dashv","\u2ae6":"Vdashl","\u2ae7":"Barv","\u2ae8":"vBar","\u2ae9":"vBarv","\u2aeb":"Vbar","\u2aec":"Not","\u2aed":"bNot","\u2aee":"rnmid","\u2aef":"cirmid","\u2af0":"midcir","\u2af1":"topcir","\u2af2":"nhpar","\u2af3":"parsim","\u2afd":"parsl","\u2afd\u20e5":"nparsl","\u266d":"flat","\u266e":"natur","\u266f":"sharp","\xa4":"curren","\xa2":"cent",$:"dollar","\xa3":"pound","\xa5":"yen","\u20ac":"euro","\xb9":"sup1","\xbd":"half","\u2153":"frac13","\xbc":"frac14","\u2155":"frac15","\u2159":"frac16","\u215b":"frac18","\xb2":"sup2","\u2154":"frac23","\u2156":"frac25","\xb3":"sup3","\xbe":"frac34","\u2157":"frac35","\u215c":"frac38","\u2158":"frac45","\u215a":"frac56","\u215d":"frac58","\u215e":"frac78",\u{1d4b6}:"ascr",\u{1d552}:"aopf",\u{1d51e}:"afr",\u{1d538}:"Aopf",\u{1d504}:"Afr",\u{1d49c}:"Ascr",\u00aa:"ordf",\u00e1:"aacute",\u00c1:"Aacute",\u00e0:"agrave",\u00c0:"Agrave",\u0103:"abreve",\u0102:"Abreve",\u00e2:"acirc",\u00c2:"Acirc",\u00e5:"aring",\u00c5:"angst",\u00e4:"auml",\u00c4:"Auml",\u00e3:"atilde",\u00c3:"Atilde",\u0105:"aogon",\u0104:"Aogon",\u0101:"amacr",\u0100:"Amacr",\u00e6:"aelig",\u00c6:"AElig",\u{1d4b7}:"bscr",\u{1d553}:"bopf",\u{1d51f}:"bfr",\u{1d539}:"Bopf",\u212c:"Bscr",\u{1d505}:"Bfr",\u{1d520}:"cfr",\u{1d4b8}:"cscr",\u{1d554}:"copf",\u212d:"Cfr",\u{1d49e}:"Cscr",\u2102:"Copf",\u0107:"cacute",\u0106:"Cacute",\u0109:"ccirc",\u0108:"Ccirc",\u010d:"ccaron",\u010c:"Ccaron",\u010b:"cdot",\u010a:"Cdot",\u00e7:"ccedil",\u00c7:"Ccedil","\u2105":"incare",\u{1d521}:"dfr",\u2146:"dd",\u{1d555}:"dopf",\u{1d4b9}:"dscr",\u{1d49f}:"Dscr",\u{1d507}:"Dfr",\u2145:"DD",\u{1d53b}:"Dopf",\u010f:"dcaron",\u010e:"Dcaron",\u0111:"dstrok",\u0110:"Dstrok",\u00f0:"eth",\u00d0:"ETH",\u2147:"ee",\u212f:"escr",\u{1d522}:"efr",\u{1d556}:"eopf",\u2130:"Escr",\u{1d508}:"Efr",\u{1d53c}:"Eopf",\u00e9:"eacute",\u00c9:"Eacute",\u00e8:"egrave",\u00c8:"Egrave",\u00ea:"ecirc",\u00ca:"Ecirc",\u011b:"ecaron",\u011a:"Ecaron",\u00eb:"euml",\u00cb:"Euml",\u0117:"edot",\u0116:"Edot",\u0119:"eogon",\u0118:"Eogon",\u0113:"emacr",\u0112:"Emacr",\u{1d523}:"ffr",\u{1d557}:"fopf",\u{1d4bb}:"fscr",\u{1d509}:"Ffr",\u{1d53d}:"Fopf",\u2131:"Fscr",\ufb00:"fflig",\ufb03:"ffilig",\ufb04:"ffllig",\ufb01:"filig",fj:"fjlig",\ufb02:"fllig",\u0192:"fnof",\u210a:"gscr",\u{1d558}:"gopf",\u{1d524}:"gfr",\u{1d4a2}:"Gscr",\u{1d53e}:"Gopf",\u{1d50a}:"Gfr",\u01f5:"gacute",\u011f:"gbreve",\u011e:"Gbreve",\u011d:"gcirc",\u011c:"Gcirc",\u0121:"gdot",\u0120:"Gdot",\u0122:"Gcedil",\u{1d525}:"hfr",\u210e:"planckh",\u{1d4bd}:"hscr",\u{1d559}:"hopf",\u210b:"Hscr",\u210c:"Hfr",\u210d:"Hopf",\u0125:"hcirc",\u0124:"Hcirc",\u210f:"hbar",\u0127:"hstrok",\u0126:"Hstrok",\u{1d55a}:"iopf",\u{1d526}:"ifr",\u{1d4be}:"iscr",\u2148:"ii",\u{1d540}:"Iopf",\u2110:"Iscr",\u2111:"Im",\u00ed:"iacute",\u00cd:"Iacute",\u00ec:"igrave",\u00cc:"Igrave",\u00ee:"icirc",\u00ce:"Icirc",\u00ef:"iuml",\u00cf:"Iuml",\u0129:"itilde",\u0128:"Itilde",\u0130:"Idot",\u012f:"iogon",\u012e:"Iogon",\u012b:"imacr",\u012a:"Imacr",\u0133:"ijlig",\u0132:"IJlig",\u0131:"imath",\u{1d4bf}:"jscr",\u{1d55b}:"jopf",\u{1d527}:"jfr",\u{1d4a5}:"Jscr",\u{1d50d}:"Jfr",\u{1d541}:"Jopf",\u0135:"jcirc",\u0134:"Jcirc",\u0237:"jmath",\u{1d55c}:"kopf",\u{1d4c0}:"kscr",\u{1d528}:"kfr",\u{1d4a6}:"Kscr",\u{1d542}:"Kopf",\u{1d50e}:"Kfr",\u0137:"kcedil",\u0136:"Kcedil",\u{1d529}:"lfr",\u{1d4c1}:"lscr",\u2113:"ell",\u{1d55d}:"lopf",\u2112:"Lscr",\u{1d50f}:"Lfr",\u{1d543}:"Lopf",\u013a:"lacute",\u0139:"Lacute",\u013e:"lcaron",\u013d:"Lcaron",\u013c:"lcedil",\u013b:"Lcedil",\u0142:"lstrok",\u0141:"Lstrok",\u0140:"lmidot",\u013f:"Lmidot",\u{1d52a}:"mfr",\u{1d55e}:"mopf",\u{1d4c2}:"mscr",\u{1d510}:"Mfr",\u{1d544}:"Mopf",\u2133:"Mscr",\u{1d52b}:"nfr",\u{1d55f}:"nopf",\u{1d4c3}:"nscr",\u2115:"Nopf",\u{1d4a9}:"Nscr",\u{1d511}:"Nfr",\u0144:"nacute",\u0143:"Nacute",\u0148:"ncaron",\u0147:"Ncaron",\u00f1:"ntilde",\u00d1:"Ntilde",\u0146:"ncedil",\u0145:"Ncedil","\u2116":"numero",\u014b:"eng",\u014a:"ENG",\u{1d560}:"oopf",\u{1d52c}:"ofr",\u2134:"oscr",\u{1d4aa}:"Oscr",\u{1d512}:"Ofr",\u{1d546}:"Oopf",\u00ba:"ordm",\u00f3:"oacute",\u00d3:"Oacute",\u00f2:"ograve",\u00d2:"Ograve",\u00f4:"ocirc",\u00d4:"Ocirc",\u00f6:"ouml",\u00d6:"Ouml",\u0151:"odblac",\u0150:"Odblac",\u00f5:"otilde",\u00d5:"Otilde",\u00f8:"oslash",\u00d8:"Oslash",\u014d:"omacr",\u014c:"Omacr",\u0153:"oelig",\u0152:"OElig",\u{1d52d}:"pfr",\u{1d4c5}:"pscr",\u{1d561}:"popf",\u2119:"Popf",\u{1d513}:"Pfr",\u{1d4ab}:"Pscr",\u{1d562}:"qopf",\u{1d52e}:"qfr",\u{1d4c6}:"qscr",\u{1d4ac}:"Qscr",\u{1d514}:"Qfr",\u211a:"Qopf",\u0138:"kgreen",\u{1d52f}:"rfr",\u{1d563}:"ropf",\u{1d4c7}:"rscr",\u211b:"Rscr",\u211c:"Re",\u211d:"Ropf",\u0155:"racute",\u0154:"Racute",\u0159:"rcaron",\u0158:"Rcaron",\u0157:"rcedil",\u0156:"Rcedil",\u{1d564}:"sopf",\u{1d4c8}:"sscr",\u{1d530}:"sfr",\u{1d54a}:"Sopf",\u{1d516}:"Sfr",\u{1d4ae}:"Sscr","\u24c8":"oS",\u015b:"sacute",\u015a:"Sacute",\u015d:"scirc",\u015c:"Scirc",\u0161:"scaron",\u0160:"Scaron",\u015f:"scedil",\u015e:"Scedil",\u00df:"szlig",\u{1d531}:"tfr",\u{1d4c9}:"tscr",\u{1d565}:"topf",\u{1d4af}:"Tscr",\u{1d517}:"Tfr",\u{1d54b}:"Topf",\u0165:"tcaron",\u0164:"Tcaron",\u0163:"tcedil",\u0162:"Tcedil","\u2122":"trade",\u0167:"tstrok",\u0166:"Tstrok",\u{1d4ca}:"uscr",\u{1d566}:"uopf",\u{1d532}:"ufr",\u{1d54c}:"Uopf",\u{1d518}:"Ufr",\u{1d4b0}:"Uscr",\u00fa:"uacute",\u00da:"Uacute",\u00f9:"ugrave",\u00d9:"Ugrave",\u016d:"ubreve",\u016c:"Ubreve",\u00fb:"ucirc",\u00db:"Ucirc",\u016f:"uring",\u016e:"Uring",\u00fc:"uuml",\u00dc:"Uuml",\u0171:"udblac",\u0170:"Udblac",\u0169:"utilde",\u0168:"Utilde",\u0173:"uogon",\u0172:"Uogon",\u016b:"umacr",\u016a:"Umacr",\u{1d533}:"vfr",\u{1d567}:"vopf",\u{1d4cb}:"vscr",\u{1d519}:"Vfr",\u{1d54d}:"Vopf",\u{1d4b1}:"Vscr",\u{1d568}:"wopf",\u{1d4cc}:"wscr",\u{1d534}:"wfr",\u{1d4b2}:"Wscr",\u{1d54e}:"Wopf",\u{1d51a}:"Wfr",\u0175:"wcirc",\u0174:"Wcirc",\u{1d535}:"xfr",\u{1d4cd}:"xscr",\u{1d569}:"xopf",\u{1d54f}:"Xopf",\u{1d51b}:"Xfr",\u{1d4b3}:"Xscr",\u{1d536}:"yfr",\u{1d4ce}:"yscr",\u{1d56a}:"yopf",\u{1d4b4}:"Yscr",\u{1d51c}:"Yfr",\u{1d550}:"Yopf",\u00fd:"yacute",\u00dd:"Yacute",\u0177:"ycirc",\u0176:"Ycirc",\u00ff:"yuml",\u0178:"Yuml",\u{1d4cf}:"zscr",\u{1d537}:"zfr",\u{1d56b}:"zopf",\u2128:"Zfr",\u2124:"Zopf",\u{1d4b5}:"Zscr",\u017a:"zacute",\u0179:"Zacute",\u017e:"zcaron",\u017d:"Zcaron",\u017c:"zdot",\u017b:"Zdot",\u01b5:"imped",\u00fe:"thorn",\u00de:"THORN",\u0149:"napos",\u03b1:"alpha",\u0391:"Alpha",\u03b2:"beta",\u0392:"Beta",\u03b3:"gamma",\u0393:"Gamma",\u03b4:"delta",\u0394:"Delta",\u03b5:"epsi",\u03f5:"epsiv",\u0395:"Epsilon",\u03dd:"gammad",\u03dc:"Gammad",\u03b6:"zeta",\u0396:"Zeta",\u03b7:"eta",\u0397:"Eta",\u03b8:"theta",\u03d1:"thetav",\u0398:"Theta",\u03b9:"iota",\u0399:"Iota",\u03ba:"kappa",\u03f0:"kappav",\u039a:"Kappa",\u03bb:"lambda",\u039b:"Lambda",\u03bc:"mu",\u00b5:"micro",\u039c:"Mu",\u03bd:"nu",\u039d:"Nu",\u03be:"xi",\u039e:"Xi",\u03bf:"omicron",\u039f:"Omicron",\u03c0:"pi",\u03d6:"piv",\u03a0:"Pi",\u03c1:"rho",\u03f1:"rhov",\u03a1:"Rho",\u03c3:"sigma",\u03a3:"Sigma",\u03c2:"sigmaf",\u03c4:"tau",\u03a4:"Tau",\u03c5:"upsi",\u03a5:"Upsilon",\u03d2:"Upsi",\u03c6:"phi",\u03d5:"phiv",\u03a6:"Phi",\u03c7:"chi",\u03a7:"Chi",\u03c8:"psi",\u03a8:"Psi",\u03c9:"omega",\u03a9:"ohm",\u0430:"acy",\u0410:"Acy",\u0431:"bcy",\u0411:"Bcy",\u0432:"vcy",\u0412:"Vcy",\u0433:"gcy",\u0413:"Gcy",\u0453:"gjcy",\u0403:"GJcy",\u0434:"dcy",\u0414:"Dcy",\u0452:"djcy",\u0402:"DJcy",\u0435:"iecy",\u0415:"IEcy",\u0451:"iocy",\u0401:"IOcy",\u0454:"jukcy",\u0404:"Jukcy",\u0436:"zhcy",\u0416:"ZHcy",\u0437:"zcy",\u0417:"Zcy",\u0455:"dscy",\u0405:"DScy",\u0438:"icy",\u0418:"Icy",\u0456:"iukcy",\u0406:"Iukcy",\u0457:"yicy",\u0407:"YIcy",\u0439:"jcy",\u0419:"Jcy",\u0458:"jsercy",\u0408:"Jsercy",\u043a:"kcy",\u041a:"Kcy",\u045c:"kjcy",\u040c:"KJcy",\u043b:"lcy",\u041b:"Lcy",\u0459:"ljcy",\u0409:"LJcy",\u043c:"mcy",\u041c:"Mcy",\u043d:"ncy",\u041d:"Ncy",\u045a:"njcy",\u040a:"NJcy",\u043e:"ocy",\u041e:"Ocy",\u043f:"pcy",\u041f:"Pcy",\u0440:"rcy",\u0420:"Rcy",\u0441:"scy",\u0421:"Scy",\u0442:"tcy",\u0422:"Tcy",\u045b:"tshcy",\u040b:"TSHcy",\u0443:"ucy",\u0423:"Ucy",\u045e:"ubrcy",\u040e:"Ubrcy",\u0444:"fcy",\u0424:"Fcy",\u0445:"khcy",\u0425:"KHcy",\u0446:"tscy",\u0426:"TScy",\u0447:"chcy",\u0427:"CHcy",\u045f:"dzcy",\u040f:"DZcy",\u0448:"shcy",\u0428:"SHcy",\u0449:"shchcy",\u0429:"SHCHcy",\u044a:"hardcy",\u042a:"HARDcy",\u044b:"ycy",\u042b:"Ycy",\u044c:"softcy",\u042c:"SOFTcy",\u044d:"ecy",\u042d:"Ecy",\u044e:"yucy",\u042e:"YUcy",\u044f:"yacy",\u042f:"YAcy",\u2135:"aleph",\u2136:"beth",\u2137:"gimel",\u2138:"daleth"},U=/["&'<>`]/g,x={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},P=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,N=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,A=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,B={aacute:"\xe1",Aacute:"\xc1",abreve:"\u0103",Abreve:"\u0102",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",acirc:"\xe2",Acirc:"\xc2",acute:"\xb4",acy:"\u0430",Acy:"\u0410",aelig:"\xe6",AElig:"\xc6",af:"\u2061",afr:"\u{1d51e}",Afr:"\u{1d504}",agrave:"\xe0",Agrave:"\xc0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03b1",Alpha:"\u0391",amacr:"\u0101",Amacr:"\u0100",amalg:"\u2a3f",amp:"&",AMP:"&",and:"\u2227",And:"\u2a53",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",aogon:"\u0105",Aogon:"\u0104",aopf:"\u{1d552}",Aopf:"\u{1d538}",ap:"\u2248",apacir:"\u2a6f",ape:"\u224a",apE:"\u2a70",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",aring:"\xe5",Aring:"\xc5",ascr:"\u{1d4b6}",Ascr:"\u{1d49c}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",atilde:"\xe3",Atilde:"\xc3",auml:"\xe4",Auml:"\xc4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",bcy:"\u0431",Bcy:"\u0411",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",beta:"\u03b2",Beta:"\u0392",beth:"\u2136",between:"\u226c",bfr:"\u{1d51f}",Bfr:"\u{1d505}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bnot:"\u2310",bNot:"\u2aed",bopf:"\u{1d553}",Bopf:"\u{1d539}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxhD:"\u2565",boxHd:"\u2564",boxHD:"\u2566",boxhu:"\u2534",boxhU:"\u2568",boxHu:"\u2567",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\u{1d4b7}",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpe:"\u224f",bumpE:"\u2aae",bumpeq:"\u224f",Bumpeq:"\u224e",cacute:"\u0107",Cacute:"\u0106",cap:"\u2229",Cap:"\u22d2",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",ccaron:"\u010d",Ccaron:"\u010c",ccedil:"\xe7",Ccedil:"\xc7",ccirc:"\u0109",Ccirc:"\u0108",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",cdot:"\u010b",Cdot:"\u010a",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\u{1d520}",Cfr:"\u212d",chcy:"\u0447",CHcy:"\u0427",check:"\u2713",checkmark:"\u2713",chi:"\u03c7",Chi:"\u03a7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cire:"\u2257",cirE:"\u29c3",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",colone:"\u2254",Colone:"\u2a74",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\u{1d554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",cscr:"\u{1d4b8}",Cscr:"\u{1d49e}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cup:"\u222a",Cup:"\u22d3",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",dArr:"\u21d3",Darr:"\u21a1",dash:"\u2010",dashv:"\u22a3",Dashv:"\u2ae4",dbkarow:"\u290f",dblac:"\u02dd",dcaron:"\u010f",Dcaron:"\u010e",dcy:"\u0434",Dcy:"\u0414",dd:"\u2146",DD:"\u2145",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",delta:"\u03b4",Delta:"\u0394",demptyv:"\u29b1",dfisht:"\u297f",dfr:"\u{1d521}",Dfr:"\u{1d507}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",djcy:"\u0452",DJcy:"\u0402",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",dopf:"\u{1d555}",Dopf:"\u{1d53b}",dot:"\u02d9",Dot:"\xa8",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",downarrow:"\u2193",Downarrow:"\u21d3",DownArrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",dscr:"\u{1d4b9}",Dscr:"\u{1d49f}",dscy:"\u0455",DScy:"\u0405",dsol:"\u29f6",dstrok:"\u0111",Dstrok:"\u0110",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",dzcy:"\u045f",DZcy:"\u040f",dzigrarr:"\u27ff",eacute:"\xe9",Eacute:"\xc9",easter:"\u2a6e",ecaron:"\u011b",Ecaron:"\u011a",ecir:"\u2256",ecirc:"\xea",Ecirc:"\xca",ecolon:"\u2255",ecy:"\u044d",Ecy:"\u042d",eDDot:"\u2a77",edot:"\u0117",eDot:"\u2251",Edot:"\u0116",ee:"\u2147",efDot:"\u2252",efr:"\u{1d522}",Efr:"\u{1d508}",eg:"\u2a9a",egrave:"\xe8",Egrave:"\xc8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",emacr:"\u0113",Emacr:"\u0112",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",eng:"\u014b",ENG:"\u014a",ensp:"\u2002",eogon:"\u0119",Eogon:"\u0118",eopf:"\u{1d556}",Eopf:"\u{1d53c}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",epsilon:"\u03b5",Epsilon:"\u0395",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",esim:"\u2242",Esim:"\u2a73",eta:"\u03b7",Eta:"\u0397",eth:"\xf0",ETH:"\xd0",euml:"\xeb",Euml:"\xcb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",fcy:"\u0444",Fcy:"\u0424",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",ffr:"\u{1d523}",Ffr:"\u{1d509}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",fopf:"\u{1d557}",Fopf:"\u{1d53d}",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\u{1d4bb}",Fscr:"\u2131",gacute:"\u01f5",gamma:"\u03b3",Gamma:"\u0393",gammad:"\u03dd",Gammad:"\u03dc",gap:"\u2a86",gbreve:"\u011f",Gbreve:"\u011e",Gcedil:"\u0122",gcirc:"\u011d",Gcirc:"\u011c",gcy:"\u0433",Gcy:"\u0413",gdot:"\u0121",Gdot:"\u0120",ge:"\u2265",gE:"\u2267",gel:"\u22db",gEl:"\u2a8c",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",gfr:"\u{1d524}",Gfr:"\u{1d50a}",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",gjcy:"\u0453",GJcy:"\u0403",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",gopf:"\u{1d558}",Gopf:"\u{1d53e}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",gscr:"\u210a",Gscr:"\u{1d4a2}",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gt:">",Gt:"\u226b",GT:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",hardcy:"\u044a",HARDcy:"\u042a",harr:"\u2194",hArr:"\u21d4",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",hcirc:"\u0125",Hcirc:"\u0124",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\u{1d525}",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\u{1d559}",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1d4bd}",Hscr:"\u210b",hslash:"\u210f",hstrok:"\u0127",Hstrok:"\u0126",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",iacute:"\xed",Iacute:"\xcd",ic:"\u2063",icirc:"\xee",Icirc:"\xce",icy:"\u0438",Icy:"\u0418",Idot:"\u0130",iecy:"\u0435",IEcy:"\u0415",iexcl:"\xa1",iff:"\u21d4",ifr:"\u{1d526}",Ifr:"\u2111",igrave:"\xec",Igrave:"\xcc",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",ijlig:"\u0133",IJlig:"\u0132",Im:"\u2111",imacr:"\u012b",Imacr:"\u012a",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",int:"\u222b",Int:"\u222c",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",iocy:"\u0451",IOcy:"\u0401",iogon:"\u012f",Iogon:"\u012e",iopf:"\u{1d55a}",Iopf:"\u{1d540}",iota:"\u03b9",Iota:"\u0399",iprod:"\u2a3c",iquest:"\xbf",iscr:"\u{1d4be}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",itilde:"\u0129",Itilde:"\u0128",iukcy:"\u0456",Iukcy:"\u0406",iuml:"\xef",Iuml:"\xcf",jcirc:"\u0135",Jcirc:"\u0134",jcy:"\u0439",Jcy:"\u0419",jfr:"\u{1d527}",Jfr:"\u{1d50d}",jmath:"\u0237",jopf:"\u{1d55b}",Jopf:"\u{1d541}",jscr:"\u{1d4bf}",Jscr:"\u{1d4a5}",jsercy:"\u0458",Jsercy:"\u0408",jukcy:"\u0454",Jukcy:"\u0404",kappa:"\u03ba",Kappa:"\u039a",kappav:"\u03f0",kcedil:"\u0137",Kcedil:"\u0136",kcy:"\u043a",Kcy:"\u041a",kfr:"\u{1d528}",Kfr:"\u{1d50e}",kgreen:"\u0138",khcy:"\u0445",KHcy:"\u0425",kjcy:"\u045c",KJcy:"\u040c",kopf:"\u{1d55c}",Kopf:"\u{1d542}",kscr:"\u{1d4c0}",Kscr:"\u{1d4a6}",lAarr:"\u21da",lacute:"\u013a",Lacute:"\u0139",laemptyv:"\u29b4",lagran:"\u2112",lambda:"\u03bb",Lambda:"\u039b",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",Larr:"\u219e",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",latail:"\u2919",lAtail:"\u291b",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",lcaron:"\u013e",Lcaron:"\u013d",lcedil:"\u013c",Lcedil:"\u013b",lceil:"\u2308",lcub:"{",lcy:"\u043b",Lcy:"\u041b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",leftarrow:"\u2190",Leftarrow:"\u21d0",LeftArrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",Leftrightarrow:"\u21d4",LeftRightArrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",leg:"\u22da",lEg:"\u2a8b",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",lfr:"\u{1d529}",Lfr:"\u{1d50f}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",ljcy:"\u0459",LJcy:"\u0409",ll:"\u226a",Ll:"\u22d8",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",lmidot:"\u0140",Lmidot:"\u013f",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",Longleftarrow:"\u27f8",LongLeftArrow:"\u27f5",longleftrightarrow:"\u27f7",Longleftrightarrow:"\u27fa",LongLeftRightArrow:"\u27f7",longmapsto:"\u27fc",longrightarrow:"\u27f6",Longrightarrow:"\u27f9",LongRightArrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",lopf:"\u{1d55d}",Lopf:"\u{1d543}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\u{1d4c1}",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",lstrok:"\u0142",Lstrok:"\u0141",lt:"<",Lt:"\u226a",LT:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",map:"\u21a6",Map:"\u2905",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",mcy:"\u043c",Mcy:"\u041c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",mfr:"\u{1d52a}",Mfr:"\u{1d510}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",mopf:"\u{1d55e}",Mopf:"\u{1d544}",mp:"\u2213",mscr:"\u{1d4c2}",Mscr:"\u2133",mstpos:"\u223e",mu:"\u03bc",Mu:"\u039c",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",nacute:"\u0144",Nacute:"\u0143",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",ncaron:"\u0148",Ncaron:"\u0147",ncedil:"\u0146",Ncedil:"\u0145",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",ncy:"\u043d",Ncy:"\u041d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",nfr:"\u{1d52b}",Nfr:"\u{1d511}",nge:"\u2271",ngE:"\u2267\u0338",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",ngt:"\u226f",nGt:"\u226b\u20d2",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",njcy:"\u045a",NJcy:"\u040a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nle:"\u2270",nlE:"\u2266\u0338",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nlt:"\u226e",nLt:"\u226a\u20d2",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\u{1d55f}",Nopf:"\u2115",not:"\xac",Not:"\u2aec",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",nscr:"\u{1d4c3}",Nscr:"\u{1d4a9}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsube:"\u2288",nsubE:"\u2ac5\u0338",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupe:"\u2289",nsupE:"\u2ac6\u0338",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",ntilde:"\xf1",Ntilde:"\xd1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",nu:"\u03bd",Nu:"\u039d",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",oacute:"\xf3",Oacute:"\xd3",oast:"\u229b",ocir:"\u229a",ocirc:"\xf4",Ocirc:"\xd4",ocy:"\u043e",Ocy:"\u041e",odash:"\u229d",odblac:"\u0151",Odblac:"\u0150",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",oelig:"\u0153",OElig:"\u0152",ofcir:"\u29bf",ofr:"\u{1d52c}",Ofr:"\u{1d512}",ogon:"\u02db",ograve:"\xf2",Ograve:"\xd2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",omacr:"\u014d",Omacr:"\u014c",omega:"\u03c9",Omega:"\u03a9",omicron:"\u03bf",Omicron:"\u039f",omid:"\u29b6",ominus:"\u2296",oopf:"\u{1d560}",Oopf:"\u{1d546}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",or:"\u2228",Or:"\u2a54",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",oscr:"\u2134",Oscr:"\u{1d4aa}",oslash:"\xf8",Oslash:"\xd8",osol:"\u2298",otilde:"\xf5",Otilde:"\xd5",otimes:"\u2297",Otimes:"\u2a37",otimesas:"\u2a36",ouml:"\xf6",Ouml:"\xd6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",pcy:"\u043f",Pcy:"\u041f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",pfr:"\u{1d52d}",Pfr:"\u{1d513}",phi:"\u03c6",Phi:"\u03a6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",pi:"\u03c0",Pi:"\u03a0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\u{1d561}",Popf:"\u2119",pound:"\xa3",pr:"\u227a",Pr:"\u2abb",prap:"\u2ab7",prcue:"\u227c",pre:"\u2aaf",prE:"\u2ab3",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",pscr:"\u{1d4c5}",Pscr:"\u{1d4ab}",psi:"\u03c8",Psi:"\u03a8",puncsp:"\u2008",qfr:"\u{1d52e}",Qfr:"\u{1d514}",qint:"\u2a0c",qopf:"\u{1d562}",Qopf:"\u211a",qprime:"\u2057",qscr:"\u{1d4c6}",Qscr:"\u{1d4ac}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",racute:"\u0155",Racute:"\u0154",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",Rarr:"\u21a0",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21a3",Rarrtl:"\u2916",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",rcaron:"\u0159",Rcaron:"\u0158",rcedil:"\u0157",Rcedil:"\u0156",rceil:"\u2309",rcub:"}",rcy:"\u0440",Rcy:"\u0420",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\u{1d52f}",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",rho:"\u03c1",Rho:"\u03a1",rhov:"\u03f1",RightAngleBracket:"\u27e9",rightarrow:"\u2192",Rightarrow:"\u21d2",RightArrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\u{1d563}",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\u{1d4c7}",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",sacute:"\u015b",Sacute:"\u015a",sbquo:"\u201a",sc:"\u227b",Sc:"\u2abc",scap:"\u2ab8",scaron:"\u0161",Scaron:"\u0160",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",scedil:"\u015f",Scedil:"\u015e",scirc:"\u015d",Scirc:"\u015c",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",scy:"\u0441",Scy:"\u0421",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",sfr:"\u{1d530}",Sfr:"\u{1d516}",sfrown:"\u2322",sharp:"\u266f",shchcy:"\u0449",SHCHcy:"\u0429",shcy:"\u0448",SHcy:"\u0428",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",sigma:"\u03c3",Sigma:"\u03a3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",softcy:"\u044c",SOFTcy:"\u042c",sol:"/",solb:"\u29c4",solbar:"\u233f",sopf:"\u{1d564}",Sopf:"\u{1d54a}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",sscr:"\u{1d4c8}",Sscr:"\u{1d4ae}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",star:"\u2606",Star:"\u22c6",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",sube:"\u2286",subE:"\u2ac5",subedot:"\u2ac3",submult:"\u2ac1",subne:"\u228a",subnE:"\u2acb",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup:"\u2283",Sup:"\u22d1",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supe:"\u2287",supE:"\u2ac6",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supne:"\u228b",supnE:"\u2acc",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",tau:"\u03c4",Tau:"\u03a4",tbrk:"\u23b4",tcaron:"\u0165",Tcaron:"\u0164",tcedil:"\u0163",Tcedil:"\u0162",tcy:"\u0442",Tcy:"\u0422",tdot:"\u20db",telrec:"\u2315",tfr:"\u{1d531}",Tfr:"\u{1d517}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",theta:"\u03b8",Theta:"\u0398",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",thorn:"\xfe",THORN:"\xde",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",topf:"\u{1d565}",Topf:"\u{1d54b}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",tscr:"\u{1d4c9}",Tscr:"\u{1d4af}",tscy:"\u0446",TScy:"\u0426",tshcy:"\u045b",TSHcy:"\u040b",tstrok:"\u0167",Tstrok:"\u0166",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",uacute:"\xfa",Uacute:"\xda",uarr:"\u2191",uArr:"\u21d1",Uarr:"\u219f",Uarrocir:"\u2949",ubrcy:"\u045e",Ubrcy:"\u040e",ubreve:"\u016d",Ubreve:"\u016c",ucirc:"\xfb",Ucirc:"\xdb",ucy:"\u0443",Ucy:"\u0423",udarr:"\u21c5",udblac:"\u0171",Udblac:"\u0170",udhar:"\u296e",ufisht:"\u297e",ufr:"\u{1d532}",Ufr:"\u{1d518}",ugrave:"\xf9",Ugrave:"\xd9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",umacr:"\u016b",Umacr:"\u016a",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",uogon:"\u0173",Uogon:"\u0172",uopf:"\u{1d566}",Uopf:"\u{1d54c}",uparrow:"\u2191",Uparrow:"\u21d1",UpArrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",Updownarrow:"\u21d5",UpDownArrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",upsilon:"\u03c5",Upsilon:"\u03a5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",uring:"\u016f",Uring:"\u016e",urtri:"\u25f9",uscr:"\u{1d4ca}",Uscr:"\u{1d4b0}",utdot:"\u22f0",utilde:"\u0169",Utilde:"\u0168",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",uuml:"\xfc",Uuml:"\xdc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",vcy:"\u0432",Vcy:"\u0412",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",vee:"\u2228",Vee:"\u22c1",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",vfr:"\u{1d533}",Vfr:"\u{1d519}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",vopf:"\u{1d567}",Vopf:"\u{1d54d}",vprop:"\u221d",vrtri:"\u22b3",vscr:"\u{1d4cb}",Vscr:"\u{1d4b1}",vsubne:"\u228a\ufe00",vsubnE:"\u2acb\ufe00",vsupne:"\u228b\ufe00",vsupnE:"\u2acc\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",wcirc:"\u0175",Wcirc:"\u0174",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",wfr:"\u{1d534}",Wfr:"\u{1d51a}",wopf:"\u{1d568}",Wopf:"\u{1d54e}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",wscr:"\u{1d4cc}",Wscr:"\u{1d4b2}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",xfr:"\u{1d535}",Xfr:"\u{1d51b}",xharr:"\u27f7",xhArr:"\u27fa",xi:"\u03be",Xi:"\u039e",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",xopf:"\u{1d569}",Xopf:"\u{1d54f}",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",xscr:"\u{1d4cd}",Xscr:"\u{1d4b3}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",yacute:"\xfd",Yacute:"\xdd",yacy:"\u044f",YAcy:"\u042f",ycirc:"\u0177",Ycirc:"\u0176",ycy:"\u044b",Ycy:"\u042b",yen:"\xa5",yfr:"\u{1d536}",Yfr:"\u{1d51c}",yicy:"\u0457",YIcy:"\u0407",yopf:"\u{1d56a}",Yopf:"\u{1d550}",yscr:"\u{1d4ce}",Yscr:"\u{1d4b4}",yucy:"\u044e",YUcy:"\u042e",yuml:"\xff",Yuml:"\u0178",zacute:"\u017a",Zacute:"\u0179",zcaron:"\u017e",Zcaron:"\u017d",zcy:"\u0437",Zcy:"\u0417",zdot:"\u017c",Zdot:"\u017b",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",zeta:"\u03b6",Zeta:"\u0396",zfr:"\u{1d537}",Zfr:"\u2128",zhcy:"\u0436",ZHcy:"\u0416",zigrarr:"\u21dd",zopf:"\u{1d56b}",Zopf:"\u2124",zscr:"\u{1d4cf}",Zscr:"\u{1d4b5}",zwj:"\u200d",zwnj:"\u200c"},G={aacute:"\xe1",Aacute:"\xc1",acirc:"\xe2",Acirc:"\xc2",acute:"\xb4",aelig:"\xe6",AElig:"\xc6",agrave:"\xe0",Agrave:"\xc0",amp:"&",AMP:"&",aring:"\xe5",Aring:"\xc5",atilde:"\xe3",Atilde:"\xc3",auml:"\xe4",Auml:"\xc4",brvbar:"\xa6",ccedil:"\xe7",Ccedil:"\xc7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",eacute:"\xe9",Eacute:"\xc9",ecirc:"\xea",Ecirc:"\xca",egrave:"\xe8",Egrave:"\xc8",eth:"\xf0",ETH:"\xd0",euml:"\xeb",Euml:"\xcb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",iacute:"\xed",Iacute:"\xcd",icirc:"\xee",Icirc:"\xce",iexcl:"\xa1",igrave:"\xec",Igrave:"\xcc",iquest:"\xbf",iuml:"\xef",Iuml:"\xcf",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",ntilde:"\xf1",Ntilde:"\xd1",oacute:"\xf3",Oacute:"\xd3",ocirc:"\xf4",Ocirc:"\xd4",ograve:"\xf2",Ograve:"\xd2",ordf:"\xaa",ordm:"\xba",oslash:"\xf8",Oslash:"\xd8",otilde:"\xf5",Otilde:"\xd5",ouml:"\xf6",Ouml:"\xd6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",thorn:"\xfe",THORN:"\xde",times:"\xd7",uacute:"\xfa",Uacute:"\xda",ucirc:"\xfb",Ucirc:"\xdb",ugrave:"\xf9",Ugrave:"\xd9",uml:"\xa8",uuml:"\xfc",Uuml:"\xdc",yacute:"\xfd",Yacute:"\xdd",yen:"\xa5",yuml:"\xff"},me={0:"\ufffd",128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},Te=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],z=String.fromCharCode,L={}.hasOwnProperty,W=function(Le,Ve){return L.call(Le,Ve)},le=function(Le,Ve){if(!Le)return Ve;var xe,ce={};for(xe in Ve)ce[xe]=W(Le,xe)?Le[xe]:Ve[xe];return ce},Ce=function(Le,Ve){var ce="";return Le>=55296&&Le<=57343||Le>1114111?(Ve&&ee("character reference outside the permissible Unicode range"),"\ufffd"):W(me,Le)?(Ve&&ee("disallowed character reference"),me[Le]):(Ve&&function(Le,Ve){for(var ce=-1,xe=Le.length;++ce<xe;)if(Le[ce]==Ve)return!0;return!1}(Te,Le)&&ee("disallowed character reference"),Le>65535&&(ce+=z((Le-=65536)>>>10&1023|55296),Le=56320|1023&Le),ce+=z(Le))},V=function(Le){return"&#x"+Le.toString(16).toUpperCase()+";"},X=function(Le){return"&#"+Le+";"},ee=function(Le){throw Error("Parse error: "+Le)},ge=function(Le,Ve){(Ve=le(Ve,ge.options)).strict&&N.test(Le)&&ee("forbidden code point");var ke=Ve.useNamedReferences,se=Ve.allowUnsafeSymbols,D=Ve.decimal?X:V,Ze=function(Ye){return D(Ye.charCodeAt(0))};return Ve.encodeEverything?(Le=Le.replace(I,function(Ye){return ke&&W(k,Ye)?"&"+k[Ye]+";":Ze(Ye)}),ke&&(Le=Le.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),ke&&(Le=Le.replace(M,function(Ye){return"&"+k[Ye]+";"}))):ke?(se||(Le=Le.replace(U,function(Ye){return"&"+k[Ye]+";"})),Le=(Le=Le.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(M,function(Ye){return"&"+k[Ye]+";"})):se||(Le=Le.replace(U,Ze)),Le.replace(S,function(Ye){var Mt=Ye.charCodeAt(0),sn=Ye.charCodeAt(1);return D(1024*(Mt-55296)+sn-56320+65536)}).replace(O,Ze)};ge.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var Me=function(Le,Ve){var ce=(Ve=le(Ve,Me.options)).strict;return ce&&P.test(Le)&&ee("malformed character reference"),Le.replace(A,function(xe,ke,se,D,Ze,Ye,Mt,sn,sr){var Ni,ta,Rp,Op,El,dn;return ke?B[El=ke]:se?(El=se,(dn=D)&&Ve.isAttributeValue?(ce&&"="==dn&&ee("`&` did not start a character reference"),xe):(ce&&ee("named character reference was not terminated by a semicolon"),G[El]+(dn||""))):Ze?(Rp=Ze,ta=Ye,ce&&!ta&&ee("character reference was not terminated by a semicolon"),Ni=parseInt(Rp,10),Ce(Ni,ce)):Mt?(Op=Mt,ta=sn,ce&&!ta&&ee("character reference was not terminated by a semicolon"),Ni=parseInt(Op,16),Ce(Ni,ce)):(ce&&ee("named character reference was not terminated by a semicolon"),xe)})};Me.options={isAttributeValue:!1,strict:!1};var Be={version:"1.2.0",encode:ge,decode:Me,escape:function(Le){return Le.replace(U,function(Ve){return x[Ve]})},unescape:Me};void 0!==(ye=function(){return Be}.call(w,ue,w,tt))&&(tt.exports=ye)}()},8813:tt=>{"use strict";var w=function(G){return function ue(B){return!!B&&"object"==typeof B}(G)&&!function ye(B){var G=Object.prototype.toString.call(B);return"[object RegExp]"===G||"[object Date]"===G||function de(B){return B.$$typeof===he}(B)}(G)},he="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function S(B,G){return!1!==G.clone&&G.isMergeableObject(B)?N(function $(B){return Array.isArray(B)?[]:{}}(B),B,G):B}function I(B,G,me){return B.concat(G).map(function(Te){return S(Te,me)})}function k(B){return Object.keys(B).concat(function M(B){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(B).filter(function(G){return B.propertyIsEnumerable(G)}):[]}(B))}function U(B,G){try{return G in B}catch{return!1}}function N(B,G,me){(me=me||{}).arrayMerge=me.arrayMerge||I,me.isMergeableObject=me.isMergeableObject||w,me.cloneUnlessOtherwiseSpecified=S;var Te=Array.isArray(G);return Te===Array.isArray(B)?Te?me.arrayMerge(B,G,me):function P(B,G,me){var Te={};return me.isMergeableObject(B)&&k(B).forEach(function(z){Te[z]=S(B[z],me)}),k(G).forEach(function(z){(function x(B,G){return U(B,G)&&!(Object.hasOwnProperty.call(B,G)&&Object.propertyIsEnumerable.call(B,G))})(B,z)||(Te[z]=U(B,z)&&me.isMergeableObject(G[z])?function O(B,G){if(!G.customMerge)return N;var me=G.customMerge(B);return"function"==typeof me?me:N}(z,me)(B[z],G[z],me):S(G[z],me))}),Te}(B,G,me):S(G,me)}N.all=function(G,me){if(!Array.isArray(G))throw new Error("first argument should be an array");return G.reduce(function(Te,z){return N(Te,z,me)},{})},tt.exports=N},8983:(tt,w,ue)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.prevElementSibling=w.nextElementSibling=w.getName=w.hasAttrib=w.getAttributeValue=w.getSiblings=w.getParent=w.getChildren=void 0;var ye=ue(3268),we=[];function he(U){var x;return null!==(x=U.children)&&void 0!==x?x:we}function de(U){return U.parent||null}w.getChildren=he,w.getParent=de,w.getSiblings=function $(U){var N=de(U);if(null!=N)return he(N);for(var A=[U],B=U.prev,G=U.next;null!=B;)A.unshift(B),B=B.prev;for(;null!=G;)A.push(G),G=G.next;return A},w.getAttributeValue=function S(U,x){var P;return null===(P=U.attribs)||void 0===P?void 0:P[x]},w.hasAttrib=function I(U,x){return null!=U.attribs&&Object.prototype.hasOwnProperty.call(U.attribs,x)&&null!=U.attribs[x]},w.getName=function O(U){return U.name},w.nextElementSibling=function M(U){for(var P=U.next;null!==P&&!(0,ye.isTag)(P);)P=P.next;return P},w.prevElementSibling=function k(U){for(var P=U.prev;null!==P&&!(0,ye.isTag)(P);)P=P.prev;return P}},9282:function(tt,w,ue){"use strict";var ye=this&&this.__extends||function(){var L=function(W,T){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,Ce){le.__proto__=Ce}||function(le,Ce){for(var V in Ce)Object.prototype.hasOwnProperty.call(Ce,V)&&(le[V]=Ce[V])})(W,T)};return function(W,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function le(){this.constructor=W}L(W,T),W.prototype=null===T?Object.create(T):(le.prototype=T.prototype,new le)}}(),we=this&&this.__assign||function(){return we=Object.assign||function(L){for(var W,T=1,le=arguments.length;T<le;T++)for(var Ce in W=arguments[T])Object.prototype.hasOwnProperty.call(W,Ce)&&(L[Ce]=W[Ce]);return L},we.apply(this,arguments)};Object.defineProperty(w,"__esModule",{value:!0}),w.cloneNode=w.hasChildren=w.isDocument=w.isDirective=w.isComment=w.isText=w.isCDATA=w.isTag=w.Element=w.Document=w.NodeWithChildren=w.ProcessingInstruction=w.Comment=w.Text=w.DataNode=w.Node=void 0;var he=ue(2704),de=new Map([[he.ElementType.Tag,1],[he.ElementType.Script,1],[he.ElementType.Style,1],[he.ElementType.Directive,1],[he.ElementType.Text,3],[he.ElementType.CDATA,4],[he.ElementType.Comment,8],[he.ElementType.Root,9]]),$=function(){function L(W){this.type=W,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(L.prototype,"nodeType",{get:function(){var W;return null!==(W=de.get(this.type))&&void 0!==W?W:1},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"parentNode",{get:function(){return this.parent},set:function(W){this.parent=W},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"previousSibling",{get:function(){return this.prev},set:function(W){this.prev=W},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"nextSibling",{get:function(){return this.next},set:function(W){this.next=W},enumerable:!1,configurable:!0}),L.prototype.cloneNode=function(W){return void 0===W&&(W=!1),z(this,W)},L}();w.Node=$;var S=function(L){function W(T,le){var Ce=L.call(this,T)||this;return Ce.data=le,Ce}return ye(W,L),Object.defineProperty(W.prototype,"nodeValue",{get:function(){return this.data},set:function(T){this.data=T},enumerable:!1,configurable:!0}),W}($);w.DataNode=S;var I=function(L){function W(T){return L.call(this,he.ElementType.Text,T)||this}return ye(W,L),W}(S);w.Text=I;var O=function(L){function W(T){return L.call(this,he.ElementType.Comment,T)||this}return ye(W,L),W}(S);w.Comment=O;var M=function(L){function W(T,le){var Ce=L.call(this,he.ElementType.Directive,le)||this;return Ce.name=T,Ce}return ye(W,L),W}(S);w.ProcessingInstruction=M;var k=function(L){function W(T,le){var Ce=L.call(this,T)||this;return Ce.children=le,Ce}return ye(W,L),Object.defineProperty(W.prototype,"firstChild",{get:function(){var T;return null!==(T=this.children[0])&&void 0!==T?T:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"childNodes",{get:function(){return this.children},set:function(T){this.children=T},enumerable:!1,configurable:!0}),W}($);w.NodeWithChildren=k;var U=function(L){function W(T){return L.call(this,he.ElementType.Root,T)||this}return ye(W,L),W}(k);w.Document=U;var x=function(L){function W(T,le,Ce,V){void 0===Ce&&(Ce=[]),void 0===V&&(V="script"===T?he.ElementType.Script:"style"===T?he.ElementType.Style:he.ElementType.Tag);var X=L.call(this,V,Ce)||this;return X.name=T,X.attribs=le,X}return ye(W,L),Object.defineProperty(W.prototype,"tagName",{get:function(){return this.name},set:function(T){this.name=T},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"attributes",{get:function(){var T=this;return Object.keys(this.attribs).map(function(le){var Ce,V;return{name:le,value:T.attribs[le],namespace:null===(Ce=T["x-attribsNamespace"])||void 0===Ce?void 0:Ce[le],prefix:null===(V=T["x-attribsPrefix"])||void 0===V?void 0:V[le]}})},enumerable:!1,configurable:!0}),W}(k);function P(L){return(0,he.isTag)(L)}function N(L){return L.type===he.ElementType.CDATA}function A(L){return L.type===he.ElementType.Text}function B(L){return L.type===he.ElementType.Comment}function G(L){return L.type===he.ElementType.Directive}function me(L){return L.type===he.ElementType.Root}function z(L,W){var T;if(void 0===W&&(W=!1),A(L))T=new I(L.data);else if(B(L))T=new O(L.data);else if(P(L)){var le=W?oe(L.children):[],Ce=new x(L.name,we({},L.attribs),le);le.forEach(function(ge){return ge.parent=Ce}),null!=L.namespace&&(Ce.namespace=L.namespace),L["x-attribsNamespace"]&&(Ce["x-attribsNamespace"]=we({},L["x-attribsNamespace"])),L["x-attribsPrefix"]&&(Ce["x-attribsPrefix"]=we({},L["x-attribsPrefix"])),T=Ce}else if(N(L)){le=W?oe(L.children):[];var V=new k(he.ElementType.CDATA,le);le.forEach(function(Me){return Me.parent=V}),T=V}else if(me(L)){le=W?oe(L.children):[];var X=new U(le);le.forEach(function(Me){return Me.parent=X}),L["x-mode"]&&(X["x-mode"]=L["x-mode"]),T=X}else{if(!G(L))throw new Error("Not implemented yet: ".concat(L.type));var ee=new M(L.name,L.data);null!=L["x-name"]&&(ee["x-name"]=L["x-name"],ee["x-publicId"]=L["x-publicId"],ee["x-systemId"]=L["x-systemId"]),T=ee}return T.startIndex=L.startIndex,T.endIndex=L.endIndex,null!=L.sourceCodeLocation&&(T.sourceCodeLocation=L.sourceCodeLocation),T}function oe(L){for(var W=L.map(function(le){return z(le,!0)}),T=1;T<W.length;T++)W[T].prev=W[T-1],W[T-1].next=W[T];return W}w.Element=x,w.isTag=P,w.isCDATA=N,w.isText=A,w.isComment=B,w.isDirective=G,w.isDocument=me,w.hasChildren=function Te(L){return Object.prototype.hasOwnProperty.call(L,"children")},w.cloneNode=z}},tt=>{tt(tt.s=2163)}]);